{"version":3,"file":"kanban.js","sources":["../../../../src/js/theme/kanban.js","../../../../src/js/theme/create-board.js","../../../../src/js/pages/kanban.js"],"sourcesContent":["/* -------------------------------------------------------------------------- */\n/*                                    Kanban                                  */\n/* -------------------------------------------------------------------------- */\n\nconst kanbanInit = () => {\n  // kanbanContainer to controll collapse behavior in kanban board\n  const kanbanContainer = document.querySelector('[data-kanban-container]');\n  if (kanbanContainer) {\n    kanbanContainer.addEventListener('click', e => {\n      if (e.target.hasAttribute('data-kanban-collapse')) {\n        e.target.closest('.kanban-column').classList.toggle('collapsed');\n      }\n    });\n\n    const kanbanGroups = kanbanContainer.querySelectorAll('[data-sortable]');\n    kanbanGroups.forEach(item => {\n      const itemInstance = window.Sortable.get(item);\n      itemInstance.option('onStart', e => {\n        document.body.classList.add('sortable-dragging');\n        window.Sortable.ghost\n          .querySelector('.dropdown-menu')\n          ?.classList.remove('show');\n        const dropdownElement = e.item.querySelector(\n          `[data-bs-toggle='dropdown']`\n        );\n        window.bootstrap.Dropdown.getInstance(dropdownElement)?.hide();\n      });\n\n      // return itemInstance;\n    });\n  }\n};\n\nexport default kanbanInit;\n","/* -------------------------------------------------------------------------- */\n/*                                 step wizard                                */\n/* -------------------------------------------------------------------------- */\nconst createBoardInit = () => {\n  const { getData } = window.phoenix.utils;\n  const selectors = {\n    CREATE_BOARD: '[data-create-board]',\n    TOGGLE_BUTTON_EL: '[data-wizard-step]',\n    FORMS: '[data-wizard-form]',\n    PASSWORD_INPUT: '[data-wizard-password]',\n    CONFIRM_PASSWORD_INPUT: '[data-wizard-confirm-password]',\n    NEXT_BTN: '[data-wizard-next-btn]',\n    PREV_BTN: '[data-wizard-prev-btn]',\n    FOOTER: '[data-wizard-footer]',\n    KANBAN_STEP: '[data-kanban-step]',\n    BOARD_PREV_BTN: '[data-board-prev-btn]',\n    CUSTOM_COLOR: '[data-custom-color-radio]'\n  };\n\n  const events = {\n    SUBMIT: 'submit',\n    SHOW: 'show.bs.tab',\n    SHOWN: 'shown.bs.tab',\n    CLICK: 'click',\n    CHANGE: 'change'\n  };\n\n  const createBoard = document.querySelector(selectors.CREATE_BOARD);\n  if (createBoard) {\n    const data = [];\n    const tabToggleButtonEl = createBoard.querySelectorAll(\n      selectors.TOGGLE_BUTTON_EL\n    );\n    const tabs = Array.from(tabToggleButtonEl).map(item => {\n      return window.bootstrap.Tab.getOrCreateInstance(item);\n    });\n\n    // previous button only for create board last step\n    const boardPrevButton = document.querySelector(selectors.BOARD_PREV_BTN);\n    boardPrevButton?.addEventListener(events.CLICK, () => {\n      tabs[tabs.length - 2].show();\n    });\n\n    // update kanban step\n    if (tabToggleButtonEl.length) {\n      tabToggleButtonEl.forEach(item => {\n        item.addEventListener(events.SHOW, () => {\n          const step = getData(item, 'wizard-step');\n          const kanbanStep = document.querySelector(selectors.KANBAN_STEP);\n          if (kanbanStep) {\n            kanbanStep.textContent = step;\n          }\n        });\n      });\n    }\n\n    const forms = createBoard.querySelectorAll(selectors.FORMS);\n    forms.forEach((form, index) => {\n      form.addEventListener(events.SUBMIT, e => {\n        e.preventDefault();\n        const formData = new FormData(e.target);\n        const formDataObject = Object.fromEntries(formData.entries());\n        data[index] = formDataObject;\n        if (index + 1 === forms.length) {\n          window.location.reload();\n        }\n        return null;\n      });\n    });\n    // custom color\n    const colorPicker = document.querySelector('#customColorInput');\n    colorPicker?.addEventListener(events.CHANGE, event => {\n      const selectedColor = event.target.value;\n      const customColorRadioBtn = document.querySelector(\n        selectors.CUSTOM_COLOR\n      );\n      customColorRadioBtn.setAttribute('checked', 'checked');\n      customColorRadioBtn.value = selectedColor;\n    });\n  }\n};\n\nexport default createBoardInit;\n","import kanbanInit from '../theme/kanban';\nimport createBoardInit from '../theme/create-board';\n\nconst { docReady } = window.phoenix.utils;\n\ndocReady(kanbanInit);\ndocReady(createBoardInit);\n"],"names":[],"mappings":"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"}