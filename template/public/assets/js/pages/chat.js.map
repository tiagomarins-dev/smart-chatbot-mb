{"version":3,"file":"chat.js","sources":["../../../../src/js/theme/chat.js","../../../../src/js/pages/chat.js"],"sourcesContent":["/*-----------------------------------------------\n|   Chat\n-----------------------------------------------*/\nconst chatInit = () => {\n  const { getData } = window.phoenix.utils;\n\n  const Selector = {\n    CHAT_SIDEBAR: '.chat-sidebar',\n    CHAT_TEXT_AREA: '.chat-textarea',\n    CHAT_THREADS: '[data-chat-thread]',\n    CHAT_THREAD_TAB: '[data-chat-thread-tab]',\n    CHAT_THREAD_TAB_CONTENT: '[data-chat-thread-tab-content]'\n  };\n\n  const $chatSidebar = document.querySelector(Selector.CHAT_SIDEBAR);\n  const $chatTextArea = document.querySelector(Selector.CHAT_TEXT_AREA);\n  const $chatThreads = document.querySelectorAll(Selector.CHAT_THREADS);\n  const threadTab = document.querySelector(Selector.CHAT_THREAD_TAB);\n  const threadTabContent = document.querySelector(\n    Selector.CHAT_THREAD_TAB_CONTENT\n  );\n\n  if (threadTab) {\n    const threadTabItems = threadTab.querySelectorAll(\"[data-bs-toggle='tab']\");\n\n    const list = new window.List(threadTabContent, {\n      valueNames: ['read', 'unreadItem']\n    });\n\n    const chatBox = document.querySelector('.chat .card-body');\n    chatBox.scrollTop = chatBox.scrollHeight;\n\n    threadTabItems.forEach(tabEl =>\n      tabEl.addEventListener('shown.bs.tab', () => {\n        const value = getData(tabEl, 'chat-thread-list');\n        list.filter(item => {\n          if (value === 'all') {\n            return true;\n          }\n          return item.elm.classList.contains(value);\n        });\n      })\n    );\n  }\n\n  $chatThreads.forEach((thread, index) => {\n    thread.addEventListener('click', () => {\n      const chatContentArea = document.querySelector(\n        `.chat-content-body-${index}`\n      );\n      chatContentArea.scrollTop = chatContentArea.scrollHeight;\n      $chatSidebar.classList.remove('show');\n      if (thread.classList.contains('unread')) {\n        thread.classList.remove('unread');\n        const unreadBadge = thread.querySelector('.unread-badge');\n        if (unreadBadge) {\n          unreadBadge.remove();\n        }\n      }\n    });\n  });\n\n  if ($chatTextArea) {\n    $chatTextArea.setAttribute('placeholder', 'Type your message...');\n  }\n};\n\nexport default chatInit;\n","import chatInit from '../theme/chat';\n\nconst { docReady } = window.phoenix.utils;\n\ndocReady(chatInit);\n"],"names":[],"mappings":"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"}