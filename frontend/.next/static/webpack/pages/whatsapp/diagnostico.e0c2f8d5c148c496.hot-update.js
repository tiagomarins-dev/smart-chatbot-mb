"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/whatsapp/diagnostico",{

/***/ "./src/api/whatsapp.ts":
/*!*****************************!*\
  !*** ./src/api/whatsapp.ts ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   whatsappApi: function() { return /* binding */ whatsappApi; }\n/* harmony export */ });\n// API WhatsApp - sempre apontando para a porta 9029\nconst getApiBaseUrl = ()=>{\n    // Sempre apontar para localhost:9029, independente do ambiente\n    return \"http://localhost:9029/api/whatsapp\";\n};\nconst whatsappApi = {\n    /**\n   * Get WhatsApp connection status\n   */ getStatus: async ()=>{\n        try {\n            const apiUrl = getApiBaseUrl();\n            console.log(\"Fetching WhatsApp status from: \".concat(apiUrl, \"/status\"));\n            const response = await fetch(\"\".concat(apiUrl, \"/status\"));\n            const responseText = await response.text();\n            console.log(\"Status API raw response:\", responseText);\n            let json;\n            try {\n                json = JSON.parse(responseText);\n                console.log(\"Parsed WhatsApp status response:\", json);\n            } catch (parseError) {\n                console.error(\"Error parsing WhatsApp status response:\", parseError);\n                return {\n                    success: false,\n                    error: \"Erro ao processar resposta do status do WhatsApp\",\n                    statusCode: response.status\n                };\n            }\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: json.error || \"Erro ao buscar status do WhatsApp\",\n                    statusCode: response.status\n                };\n            }\n            // Extrair dados da resposta seguindo a estrutura do backend\n            // Nota: A API retorna diretamente {status, qrCode, phoneNumber} sem estar dentro de um campo \"data\"\n            const statusData = {\n                status: json.status || \"disconnected\",\n                authenticated: json.status === \"connected\",\n                phoneNumber: json.phoneNumber || null,\n                timestamp: json.timestamp || new Date().toISOString()\n            };\n            console.log(\"Extracted WhatsApp status data:\", statusData);\n            return {\n                success: true,\n                data: statusData,\n                statusCode: json.statusCode || 200\n            };\n        } catch (error) {\n            console.error(\"Error fetching WhatsApp status:\", error);\n            return {\n                success: false,\n                error: \"Erro ao buscar status do WhatsApp\",\n                statusCode: 500\n            };\n        }\n    },\n    /**\n   * Get QR code for authentication\n   */ getQRCode: async ()=>{\n        try {\n            const apiUrl = getApiBaseUrl();\n            const response = await fetch(\"\".concat(apiUrl, \"/qrcode\"));\n            const json = await response.json();\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: json.error || \"QR Code n\\xe3o dispon\\xedvel\",\n                    statusCode: response.status\n                };\n            }\n            return {\n                success: true,\n                data: json.data,\n                statusCode: json.statusCode\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: \"Erro ao buscar QR code\",\n                statusCode: 500\n            };\n        }\n    },\n    /**\n   * Connect to WhatsApp\n   */ connect: async ()=>{\n        try {\n            const apiUrl = getApiBaseUrl();\n            const response = await fetch(\"\".concat(apiUrl, \"/connect\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            const json = await response.json();\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: json.error || \"Erro ao conectar WhatsApp\",\n                    statusCode: response.status\n                };\n            }\n            return {\n                success: true,\n                data: json.data,\n                statusCode: json.statusCode\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: \"Erro ao conectar WhatsApp\",\n                statusCode: 500\n            };\n        }\n    },\n    /**\n   * Disconnect from WhatsApp\n   */ disconnect: async ()=>{\n        try {\n            const apiUrl = getApiBaseUrl();\n            const response = await fetch(\"\".concat(apiUrl, \"/disconnect\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            const json = await response.json();\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: json.error || \"Erro ao desconectar WhatsApp\",\n                    statusCode: response.status\n                };\n            }\n            return {\n                success: true,\n                data: json.data,\n                statusCode: json.statusCode\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: \"Erro ao desconectar WhatsApp\",\n                statusCode: 500\n            };\n        }\n    },\n    /**\n   * Send WhatsApp message\n   */ sendMessage: async (number, message, lead_id)=>{\n        try {\n            console.log(\"Sending WhatsApp message:\", {\n                number,\n                messageLength: message.length,\n                lead_id\n            });\n            const apiUrl = getApiBaseUrl();\n            console.log(\"Using API URL:\", apiUrl);\n            const payload = {\n                phoneNumber: number,\n                message,\n                lead_id\n            };\n            console.log(\"Message payload (truncated):\", {\n                ...payload,\n                message: message.length > 50 ? message.substring(0, 50) + \"...\" : message\n            });\n            console.log(\"Sending POST request to:\", \"\".concat(apiUrl, \"/send\"));\n            const response = await fetch(\"\".concat(apiUrl, \"/send\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(payload)\n            });\n            console.log(\"Response status:\", response.status);\n            // Get response data\n            let data;\n            const responseText = await response.text();\n            console.log(\"Response text:\", responseText);\n            try {\n                data = JSON.parse(responseText);\n                console.log(\"Parsed response data:\", data);\n            } catch (parseError) {\n                console.error(\"Error parsing response JSON:\", parseError);\n                return {\n                    success: false,\n                    error: \"Invalid JSON response: \".concat(responseText.substring(0, 100)),\n                    statusCode: response.status\n                };\n            }\n            if (!response.ok) {\n                console.error(\"Request failed:\", data);\n                return {\n                    success: false,\n                    error: data.error || \"Erro ao enviar mensagem (\".concat(response.status, \")\"),\n                    statusCode: response.status\n                };\n            }\n            return {\n                success: true,\n                data: data.data || data,\n                statusCode: response.status\n            };\n        } catch (error) {\n            console.error(\"Exception in sendMessage:\", error);\n            return {\n                success: false,\n                error: error instanceof Error ? \"Erro: \".concat(error.message) : \"Erro ao enviar mensagem\",\n                statusCode: 500\n            };\n        }\n    },\n    /**\n   * Get all messages from all contacts\n   */ getMessages: async ()=>{\n        try {\n            const apiUrl = getApiBaseUrl();\n            const response = await fetch(\"\".concat(apiUrl, \"/messages\"));\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: \"Erro ao buscar mensagens\",\n                    statusCode: response.status\n                };\n            }\n            const data = await response.json();\n            return {\n                success: true,\n                data,\n                statusCode: 200\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: \"Erro ao buscar mensagens\",\n                statusCode: 500\n            };\n        }\n    },\n    /**\n   * Get messages from a specific contact\n   */ getContactMessages: async (number)=>{\n        try {\n            const apiUrl = getApiBaseUrl();\n            const response = await fetch(\"\".concat(apiUrl, \"/messages/\").concat(number));\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: \"Erro ao buscar mensagens do contato\",\n                    statusCode: response.status\n                };\n            }\n            const data = await response.json();\n            return {\n                success: true,\n                data,\n                statusCode: 200\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: \"Erro ao buscar mensagens do contato\",\n                statusCode: 500\n            };\n        }\n    },\n    /**\n   * Clear all messages\n   */ clearMessages: async ()=>{\n        try {\n            const apiUrl = getApiBaseUrl();\n            const response = await fetch(\"\".concat(apiUrl, \"/messages\"), {\n                method: \"DELETE\"\n            });\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: \"Erro ao limpar mensagens\",\n                    statusCode: response.status\n                };\n            }\n            const data = await response.json();\n            return {\n                success: true,\n                data,\n                statusCode: 200\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: \"Erro ao limpar mensagens\",\n                statusCode: 500\n            };\n        }\n    },\n    /**\n   * Get QR code in plain text format\n   */ getQRCodePlain: async ()=>{\n        try {\n            const apiUrl = getApiBaseUrl();\n            const response = await fetch(\"\".concat(apiUrl, \"/qrcode/plain\"));\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: \"QR Code n\\xe3o dispon\\xedvel em formato de texto\",\n                    statusCode: response.status\n                };\n            }\n            const text = await response.text();\n            return {\n                success: true,\n                data: text,\n                statusCode: 200\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: \"Erro ao buscar QR code em texto\",\n                statusCode: 500\n            };\n        }\n    },\n    /**\n   * Get connected phone number\n   */ getPhone: async ()=>{\n        try {\n            const apiUrl = getApiBaseUrl();\n            const response = await fetch(\"\".concat(apiUrl, \"/phone\"));\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: \"Telefone n\\xe3o dispon\\xedvel ou desconectado\",\n                    statusCode: response.status\n                };\n            }\n            const data = await response.json();\n            return {\n                success: true,\n                data: data.data,\n                statusCode: 200\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: \"Erro ao buscar telefone\",\n                statusCode: 500\n            };\n        }\n    },\n    /**\n   * Mock authenticate (for testing without scanning QR)\n   */ mockAuthenticate: async ()=>{\n        try {\n            const apiUrl = getApiBaseUrl();\n            const response = await fetch(\"\".concat(apiUrl, \"/mock/authenticate\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: \"Erro ao simular autentica\\xe7\\xe3o\",\n                    statusCode: response.status\n                };\n            }\n            const data = await response.json();\n            return {\n                success: true,\n                data: data.data,\n                statusCode: 200\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: \"Erro ao simular autentica\\xe7\\xe3o\",\n                statusCode: 500\n            };\n        }\n    }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (whatsappApi);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU87b0JBQ1BFLFlBQVlWLFNBQVNXLE1BQU07Z0JBQzdCO1lBQ0Y7WUFFQSxNQUFNUSxPQUFPLE1BQU1uQixTQUFTSSxJQUFJO1lBQ2hDLE9BQU87Z0JBQ0xLLFNBQVM7Z0JBQ1RVLE1BQU1BLEtBQUtBLElBQUk7Z0JBQ2ZULFlBQVk7WUFDZDtRQUNGLEVBQUUsT0FBT0YsT0FBTztZQUNkLE9BQU87Z0JBQ0xDLFNBQVM7Z0JBQ1RELE9BQU87Z0JBQ1BFLFlBQVk7WUFDZDtRQUNGO0lBQ0Y7SUFFQTs7R0FFQyxHQUNEK0Isa0JBQWtCO1FBQ2hCLElBQUk7WUFDRixNQUFNNUMsU0FBU0g7WUFDZixNQUFNTSxXQUFXLE1BQU1DLE1BQU0sR0FBVSxPQUFQSixRQUFPLHVCQUFxQjtnQkFDMUR5QixRQUFRO2dCQUNSQyxTQUFTO29CQUNQLGdCQUFnQjtnQkFDbEI7WUFDRjtZQUVBLElBQUksQ0FBQ3ZCLFNBQVNZLEVBQUUsRUFBRTtnQkFDaEIsT0FBTztvQkFDTEgsU0FBUztvQkFDVEQsT0FBTztvQkFDUEUsWUFBWVYsU0FBU1csTUFBTTtnQkFDN0I7WUFDRjtZQUVBLE1BQU1RLE9BQU8sTUFBTW5CLFNBQVNJLElBQUk7WUFDaEMsT0FBTztnQkFDTEssU0FBUztnQkFDVFUsTUFBTUEsS0FBS0EsSUFBSTtnQkFDZlQsWUFBWTtZQUNkO1FBQ0YsRUFBRSxPQUFPRixPQUFPO1lBQ2QsT0FBTztnQkFDTEMsU0FBUztnQkFDVEQsT0FBTztnQkFDUEUsWUFBWTtZQUNkO1FBQ0Y7SUFDRjtBQUNGLEVBQUU7QUFFRiwrREFBZWYsV0FBV0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvYXBpL3doYXRzYXBwLnRzPzg1NTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFwaUNsaWVudCBmcm9tICcuL2NsaWVudCc7XG5pbXBvcnQgeyBBcGlSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuXG5pbnRlcmZhY2UgV2hhdHNBcHBTdGF0dXMge1xuICBzdGF0dXM6ICdkaXNjb25uZWN0ZWQnIHwgJ2luaXRpYWxpemluZycgfCAncXJfcmVjZWl2ZWQnIHwgJ2F1dGhlbnRpY2F0ZWQnIHwgJ2Nvbm5lY3RlZCcgfCAnZXJyb3InO1xuICB0aW1lc3RhbXA6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFFSQ29kZVJlc3BvbnNlIHtcbiAgcXJjb2RlOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBDb25uZWN0UmVzcG9uc2Uge1xuICBzdGF0dXM6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFNlbmRNZXNzYWdlUmVzcG9uc2Uge1xuICBzdWNjZXNzOiBib29sZWFuO1xuICB0bzogc3RyaW5nO1xuICBzdGF0dXM6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIE1lc3NhZ2Uge1xuICBib2R5OiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogc3RyaW5nO1xuICBpZDogc3RyaW5nO1xuICBmcm9tTWU6IGJvb2xlYW47XG4gIGZyb21PdGhlckRldmljZT86IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBNZXNzYWdlc1Jlc3BvbnNlIHtcbiAgbWVzc2FnZXM6IFJlY29yZDxzdHJpbmcsIE1lc3NhZ2VbXT47XG4gIHRvdGFsOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBDb250YWN0TWVzc2FnZXNSZXNwb25zZSB7XG4gIG51bWJlcjogc3RyaW5nO1xuICBtZXNzYWdlczogTWVzc2FnZVtdO1xufVxuXG4vLyBBUEkgV2hhdHNBcHAgLSBzZW1wcmUgYXBvbnRhbmRvIHBhcmEgYSBwb3J0YSA5MDI5XG5jb25zdCBnZXRBcGlCYXNlVXJsID0gKCk6IHN0cmluZyA9PiB7XG4gIC8vIFNlbXByZSBhcG9udGFyIHBhcmEgbG9jYWxob3N0OjkwMjksIGluZGVwZW5kZW50ZSBkbyBhbWJpZW50ZVxuICByZXR1cm4gJ2h0dHA6Ly9sb2NhbGhvc3Q6OTAyOS9hcGkvd2hhdHNhcHAnO1xufTtcblxuaW50ZXJmYWNlIFBob25lUmVzcG9uc2Uge1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBwaG9uZU51bWJlcjogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgTW9ja0F1dGhSZXNwb25zZSB7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIG1lc3NhZ2U6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IHdoYXRzYXBwQXBpID0ge1xuICAvKipcbiAgICogR2V0IFdoYXRzQXBwIGNvbm5lY3Rpb24gc3RhdHVzXG4gICAqL1xuICBnZXRTdGF0dXM6IGFzeW5jICgpOiBQcm9taXNlPEFwaVJlc3BvbnNlPFdoYXRzQXBwU3RhdHVzPj4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhcGlVcmwgPSBnZXRBcGlCYXNlVXJsKCk7XG4gICAgICBjb25zb2xlLmxvZyhgRmV0Y2hpbmcgV2hhdHNBcHAgc3RhdHVzIGZyb206ICR7YXBpVXJsfS9zdGF0dXNgKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7YXBpVXJsfS9zdGF0dXNgKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIGNvbnNvbGUubG9nKCdTdGF0dXMgQVBJIHJhdyByZXNwb25zZTonLCByZXNwb25zZVRleHQpO1xuICAgICAgXG4gICAgICBsZXQganNvbjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlVGV4dCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdQYXJzZWQgV2hhdHNBcHAgc3RhdHVzIHJlc3BvbnNlOicsIGpzb24pO1xuICAgICAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIFdoYXRzQXBwIHN0YXR1cyByZXNwb25zZTonLCBwYXJzZUVycm9yKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogJ0Vycm8gYW8gcHJvY2Vzc2FyIHJlc3Bvc3RhIGRvIHN0YXR1cyBkbyBXaGF0c0FwcCcsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjoganNvbi5lcnJvciB8fCAnRXJybyBhbyBidXNjYXIgc3RhdHVzIGRvIFdoYXRzQXBwJyxcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRXh0cmFpciBkYWRvcyBkYSByZXNwb3N0YSBzZWd1aW5kbyBhIGVzdHJ1dHVyYSBkbyBiYWNrZW5kXG4gICAgICAvLyBOb3RhOiBBIEFQSSByZXRvcm5hIGRpcmV0YW1lbnRlIHtzdGF0dXMsIHFyQ29kZSwgcGhvbmVOdW1iZXJ9IHNlbSBlc3RhciBkZW50cm8gZGUgdW0gY2FtcG8gXCJkYXRhXCJcbiAgICAgIGNvbnN0IHN0YXR1c0RhdGE6IFdoYXRzQXBwU3RhdHVzID0ge1xuICAgICAgICBzdGF0dXM6IGpzb24uc3RhdHVzIHx8ICdkaXNjb25uZWN0ZWQnLFxuICAgICAgICBhdXRoZW50aWNhdGVkOiBqc29uLnN0YXR1cyA9PT0gJ2Nvbm5lY3RlZCcsXG4gICAgICAgIHBob25lTnVtYmVyOiBqc29uLnBob25lTnVtYmVyIHx8IG51bGwsXG4gICAgICAgIHRpbWVzdGFtcDoganNvbi50aW1lc3RhbXAgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnRXh0cmFjdGVkIFdoYXRzQXBwIHN0YXR1cyBkYXRhOicsIHN0YXR1c0RhdGEpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBzdGF0dXNEYXRhLFxuICAgICAgICBzdGF0dXNDb2RlOiBqc29uLnN0YXR1c0NvZGUgfHwgMjAwXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBXaGF0c0FwcCBzdGF0dXM6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnRXJybyBhbyBidXNjYXIgc3RhdHVzIGRvIFdoYXRzQXBwJyxcbiAgICAgICAgc3RhdHVzQ29kZTogNTAwXG4gICAgICB9O1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogR2V0IFFSIGNvZGUgZm9yIGF1dGhlbnRpY2F0aW9uXG4gICAqL1xuICBnZXRRUkNvZGU6IGFzeW5jICgpOiBQcm9taXNlPEFwaVJlc3BvbnNlPFFSQ29kZVJlc3BvbnNlPj4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhcGlVcmwgPSBnZXRBcGlCYXNlVXJsKCk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2FwaVVybH0vcXJjb2RlYCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IGpzb24uZXJyb3IgfHwgJ1FSIENvZGUgbsOjbyBkaXNwb27DrXZlbCcsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBqc29uLmRhdGEgYXMgUVJDb2RlUmVzcG9uc2UsXG4gICAgICAgIHN0YXR1c0NvZGU6IGpzb24uc3RhdHVzQ29kZVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnRXJybyBhbyBidXNjYXIgUVIgY29kZScsXG4gICAgICAgIHN0YXR1c0NvZGU6IDUwMFxuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIENvbm5lY3QgdG8gV2hhdHNBcHBcbiAgICovXG4gIGNvbm5lY3Q6IGFzeW5jICgpOiBQcm9taXNlPEFwaVJlc3BvbnNlPENvbm5lY3RSZXNwb25zZT4+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYXBpVXJsID0gZ2V0QXBpQmFzZVVybCgpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHthcGlVcmx9L2Nvbm5lY3RgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjoganNvbi5lcnJvciB8fCAnRXJybyBhbyBjb25lY3RhciBXaGF0c0FwcCcsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBqc29uLmRhdGEgYXMgQ29ubmVjdFJlc3BvbnNlLFxuICAgICAgICBzdGF0dXNDb2RlOiBqc29uLnN0YXR1c0NvZGVcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0Vycm8gYW8gY29uZWN0YXIgV2hhdHNBcHAnLFxuICAgICAgICBzdGF0dXNDb2RlOiA1MDBcbiAgICAgIH07XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBEaXNjb25uZWN0IGZyb20gV2hhdHNBcHBcbiAgICovXG4gIGRpc2Nvbm5lY3Q6IGFzeW5jICgpOiBQcm9taXNlPEFwaVJlc3BvbnNlPHsgc3RhdHVzOiBzdHJpbmcgfT4+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYXBpVXJsID0gZ2V0QXBpQmFzZVVybCgpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHthcGlVcmx9L2Rpc2Nvbm5lY3RgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjoganNvbi5lcnJvciB8fCAnRXJybyBhbyBkZXNjb25lY3RhciBXaGF0c0FwcCcsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBqc29uLmRhdGEgYXMgeyBzdGF0dXM6IHN0cmluZyB9LFxuICAgICAgICBzdGF0dXNDb2RlOiBqc29uLnN0YXR1c0NvZGVcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0Vycm8gYW8gZGVzY29uZWN0YXIgV2hhdHNBcHAnLFxuICAgICAgICBzdGF0dXNDb2RlOiA1MDBcbiAgICAgIH07XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTZW5kIFdoYXRzQXBwIG1lc3NhZ2VcbiAgICovXG4gIHNlbmRNZXNzYWdlOiBhc3luYyAobnVtYmVyOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZywgbGVhZF9pZD86IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8U2VuZE1lc3NhZ2VSZXNwb25zZT4+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ1NlbmRpbmcgV2hhdHNBcHAgbWVzc2FnZTonLCB7IG51bWJlciwgbWVzc2FnZUxlbmd0aDogbWVzc2FnZS5sZW5ndGgsIGxlYWRfaWQgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGFwaVVybCA9IGdldEFwaUJhc2VVcmwoKTtcbiAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBBUEkgVVJMOicsIGFwaVVybCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IFxuICAgICAgICBwaG9uZU51bWJlcjogbnVtYmVyLCBcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgbGVhZF9pZCAvLyBJbmNsdWRlIGxlYWRfaWQgaWYgYXZhaWxhYmxlXG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnTWVzc2FnZSBwYXlsb2FkICh0cnVuY2F0ZWQpOicsIHtcbiAgICAgICAgLi4ucGF5bG9hZCxcbiAgICAgICAgbWVzc2FnZTogbWVzc2FnZS5sZW5ndGggPiA1MCA/IG1lc3NhZ2Uuc3Vic3RyaW5nKDAsIDUwKSArICcuLi4nIDogbWVzc2FnZVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdTZW5kaW5nIFBPU1QgcmVxdWVzdCB0bzonLCBgJHthcGlVcmx9L3NlbmRgKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7YXBpVXJsfS9zZW5kYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnUmVzcG9uc2Ugc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICBcbiAgICAgIC8vIEdldCByZXNwb25zZSBkYXRhXG4gICAgICBsZXQgZGF0YTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIGNvbnNvbGUubG9nKCdSZXNwb25zZSB0ZXh0OicsIHJlc3BvbnNlVGV4dCk7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlVGV4dCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdQYXJzZWQgcmVzcG9uc2UgZGF0YTonLCBkYXRhKTtcbiAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyByZXNwb25zZSBKU09OOicsIHBhcnNlRXJyb3IpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBgSW52YWxpZCBKU09OIHJlc3BvbnNlOiAke3Jlc3BvbnNlVGV4dC5zdWJzdHJpbmcoMCwgMTAwKX1gLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1c1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1JlcXVlc3QgZmFpbGVkOicsIGRhdGEpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBkYXRhLmVycm9yIHx8IGBFcnJvIGFvIGVudmlhciBtZW5zYWdlbSAoJHtyZXNwb25zZS5zdGF0dXN9KWAsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IGRhdGEuZGF0YSB8fCBkYXRhLCAvLyBIYW5kbGUgYm90aCBmb3JtYXRzXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1c1xuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXhjZXB0aW9uIGluIHNlbmRNZXNzYWdlOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGBFcnJvOiAke2Vycm9yLm1lc3NhZ2V9YCA6ICdFcnJvIGFvIGVudmlhciBtZW5zYWdlbScsXG4gICAgICAgIHN0YXR1c0NvZGU6IDUwMFxuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBhbGwgbWVzc2FnZXMgZnJvbSBhbGwgY29udGFjdHNcbiAgICovXG4gIGdldE1lc3NhZ2VzOiBhc3luYyAoKTogUHJvbWlzZTxBcGlSZXNwb25zZTxNZXNzYWdlc1Jlc3BvbnNlPj4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhcGlVcmwgPSBnZXRBcGlCYXNlVXJsKCk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2FwaVVybH0vbWVzc2FnZXNgKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiAnRXJybyBhbyBidXNjYXIgbWVuc2FnZW5zJyxcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGEsXG4gICAgICAgIHN0YXR1c0NvZGU6IDIwMFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnRXJybyBhbyBidXNjYXIgbWVuc2FnZW5zJyxcbiAgICAgICAgc3RhdHVzQ29kZTogNTAwXG4gICAgICB9O1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogR2V0IG1lc3NhZ2VzIGZyb20gYSBzcGVjaWZpYyBjb250YWN0XG4gICAqL1xuICBnZXRDb250YWN0TWVzc2FnZXM6IGFzeW5jIChudW1iZXI6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8Q29udGFjdE1lc3NhZ2VzUmVzcG9uc2U+PiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFwaVVybCA9IGdldEFwaUJhc2VVcmwoKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7YXBpVXJsfS9tZXNzYWdlcy8ke251bWJlcn1gKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiAnRXJybyBhbyBidXNjYXIgbWVuc2FnZW5zIGRvIGNvbnRhdG8nLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1c1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgc3RhdHVzQ29kZTogMjAwXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdFcnJvIGFvIGJ1c2NhciBtZW5zYWdlbnMgZG8gY29udGF0bycsXG4gICAgICAgIHN0YXR1c0NvZGU6IDUwMFxuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBtZXNzYWdlc1xuICAgKi9cbiAgY2xlYXJNZXNzYWdlczogYXN5bmMgKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8eyBzdWNjZXNzOiBib29sZWFuIH0+PiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFwaVVybCA9IGdldEFwaUJhc2VVcmwoKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7YXBpVXJsfS9tZXNzYWdlc2AsIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJ1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogJ0Vycm8gYW8gbGltcGFyIG1lbnNhZ2VucycsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhLFxuICAgICAgICBzdGF0dXNDb2RlOiAyMDBcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0Vycm8gYW8gbGltcGFyIG1lbnNhZ2VucycsXG4gICAgICAgIHN0YXR1c0NvZGU6IDUwMFxuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBRUiBjb2RlIGluIHBsYWluIHRleHQgZm9ybWF0XG4gICAqL1xuICBnZXRRUkNvZGVQbGFpbjogYXN5bmMgKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8c3RyaW5nPj4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhcGlVcmwgPSBnZXRBcGlCYXNlVXJsKCk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2FwaVVybH0vcXJjb2RlL3BsYWluYCk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogJ1FSIENvZGUgbsOjbyBkaXNwb27DrXZlbCBlbSBmb3JtYXRvIGRlIHRleHRvJyxcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHRleHQsXG4gICAgICAgIHN0YXR1c0NvZGU6IDIwMFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnRXJybyBhbyBidXNjYXIgUVIgY29kZSBlbSB0ZXh0bycsXG4gICAgICAgIHN0YXR1c0NvZGU6IDUwMFxuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBjb25uZWN0ZWQgcGhvbmUgbnVtYmVyXG4gICAqL1xuICBnZXRQaG9uZTogYXN5bmMgKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8UGhvbmVSZXNwb25zZT4+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYXBpVXJsID0gZ2V0QXBpQmFzZVVybCgpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHthcGlVcmx9L3Bob25lYCk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogJ1RlbGVmb25lIG7Do28gZGlzcG9uw612ZWwgb3UgZGVzY29uZWN0YWRvJyxcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IGRhdGEuZGF0YSxcbiAgICAgICAgc3RhdHVzQ29kZTogMjAwXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdFcnJvIGFvIGJ1c2NhciB0ZWxlZm9uZScsXG4gICAgICAgIHN0YXR1c0NvZGU6IDUwMFxuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vY2sgYXV0aGVudGljYXRlIChmb3IgdGVzdGluZyB3aXRob3V0IHNjYW5uaW5nIFFSKVxuICAgKi9cbiAgbW9ja0F1dGhlbnRpY2F0ZTogYXN5bmMgKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8TW9ja0F1dGhSZXNwb25zZT4+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYXBpVXJsID0gZ2V0QXBpQmFzZVVybCgpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHthcGlVcmx9L21vY2svYXV0aGVudGljYXRlYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogJ0Vycm8gYW8gc2ltdWxhciBhdXRlbnRpY2HDp8OjbycsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBkYXRhLmRhdGEsXG4gICAgICAgIHN0YXR1c0NvZGU6IDIwMFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnRXJybyBhbyBzaW11bGFyIGF1dGVudGljYcOnw6NvJyxcbiAgICAgICAgc3RhdHVzQ29kZTogNTAwXG4gICAgICB9O1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgd2hhdHNhcHBBcGk7Il0sIm5hbWVzIjpbImdldEFwaUJhc2VVcmwiLCJ3aGF0c2FwcEFwaSIsImdldFN0YXR1cyIsImFwaVVybCIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsImZldGNoIiwicmVzcG9uc2VUZXh0IiwidGV4dCIsImpzb24iLCJKU09OIiwicGFyc2UiLCJwYXJzZUVycm9yIiwiZXJyb3IiLCJzdWNjZXNzIiwic3RhdHVzQ29kZSIsInN0YXR1cyIsIm9rIiwic3RhdHVzRGF0YSIsImF1dGhlbnRpY2F0ZWQiLCJwaG9uZU51bWJlciIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImRhdGEiLCJnZXRRUkNvZGUiLCJjb25uZWN0IiwibWV0aG9kIiwiaGVhZGVycyIsImRpc2Nvbm5lY3QiLCJzZW5kTWVzc2FnZSIsIm51bWJlciIsIm1lc3NhZ2UiLCJsZWFkX2lkIiwibWVzc2FnZUxlbmd0aCIsImxlbmd0aCIsInBheWxvYWQiLCJzdWJzdHJpbmciLCJib2R5Iiwic3RyaW5naWZ5IiwiRXJyb3IiLCJnZXRNZXNzYWdlcyIsImdldENvbnRhY3RNZXNzYWdlcyIsImNsZWFyTWVzc2FnZXMiLCJnZXRRUkNvZGVQbGFpbiIsImdldFBob25lIiwibW9ja0F1dGhlbnRpY2F0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/api/whatsapp.ts\n"));

/***/ })

});