/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/leads/[id]";
exports.ids = ["pages/leads/[id]"];
exports.modules = {

/***/ "./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fleads%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fleads%2F%5Bid%5D.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fleads%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fleads%2F%5Bid%5D.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"./node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"./node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./pages/_app.tsx\");\n/* harmony import */ var _pages_leads_id_tsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/leads/[id].tsx */ \"./pages/leads/[id].tsx\");\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_leads_id_tsx__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_leads_id_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_leads_id_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_leads_id_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_leads_id_tsx__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_leads_id_tsx__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_leads_id_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_leads_id_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_leads_id_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_leads_id_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_leads_id_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/leads/[id]\",\n        pathname: \"/leads/[id]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: _pages_leads_id_tsx__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTJnBhZ2U9JTJGbGVhZHMlMkYlNUJpZCU1RCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGbGVhZHMlMkYlNUJpZCU1RC50c3gmYWJzb2x1dGVBcHBQYXRoPXByaXZhdGUtbmV4dC1wYWdlcyUyRl9hcHAmYWJzb2x1dGVEb2N1bWVudFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2RvY3VtZW50Jm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErRjtBQUNoQztBQUNMO0FBQzFEO0FBQ29EO0FBQ1Y7QUFDMUM7QUFDbUQ7QUFDbkQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLGdEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLHVCQUF1Qix3RUFBSyxDQUFDLGdEQUFRO0FBQ3JDLHVCQUF1Qix3RUFBSyxDQUFDLGdEQUFRO0FBQ3JDLDJCQUEyQix3RUFBSyxDQUFDLGdEQUFRO0FBQ3pDLGVBQWUsd0VBQUssQ0FBQyxnREFBUTtBQUM3Qix3QkFBd0Isd0VBQUssQ0FBQyxnREFBUTtBQUM3QztBQUNPLGdDQUFnQyx3RUFBSyxDQUFDLGdEQUFRO0FBQzlDLGdDQUFnQyx3RUFBSyxDQUFDLGdEQUFRO0FBQzlDLGlDQUFpQyx3RUFBSyxDQUFDLGdEQUFRO0FBQy9DLGdDQUFnQyx3RUFBSyxDQUFDLGdEQUFRO0FBQzlDLG9DQUFvQyx3RUFBSyxDQUFDLGdEQUFRO0FBQ3pEO0FBQ08sd0JBQXdCLHlHQUFnQjtBQUMvQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLFdBQVc7QUFDWCxnQkFBZ0I7QUFDaEIsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnRlbmQvPzRlYzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSBhcHAgYW5kIGRvY3VtZW50IG1vZHVsZXMuXG5pbXBvcnQgRG9jdW1lbnQgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fZG9jdW1lbnRcIjtcbmltcG9ydCBBcHAgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fYXBwXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9sZWFkcy9baWRdLnRzeFwiO1xuLy8gUmUtZXhwb3J0IHRoZSBjb21wb25lbnQgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U3RhdGljUHJvcHNcIik7XG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUGF0aHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTdGF0aWNQYXRoc1wiKTtcbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJTaWRlUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTZXJ2ZXJTaWRlUHJvcHNcIik7XG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuZXhwb3J0IGNvbnN0IHJlcG9ydFdlYlZpdGFscyA9IGhvaXN0KHVzZXJsYW5kLCBcInJlcG9ydFdlYlZpdGFsc1wiKTtcbi8vIFJlLWV4cG9ydCBsZWdhY3kgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1Byb3BzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGF0aHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyUHJvcHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVMsXG4gICAgICAgIHBhZ2U6IFwiL2xlYWRzL1tpZF1cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2xlYWRzL1tpZF1cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgICBBcHAsXG4gICAgICAgIERvY3VtZW50XG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fleads%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fleads%2F%5Bid%5D.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "./pages/_app.tsx":
/*!************************!*\
  !*** ./pages/_app.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"./styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _styles_dark_mode_tables_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../styles/dark-mode-tables.css */ \"./styles/dark-mode-tables.css\");\n/* harmony import */ var _styles_dark_mode_tables_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_styles_dark_mode_tables_css__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/head */ \"next/head\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../src/contexts/AuthContext */ \"./src/contexts/AuthContext.tsx\");\n/* harmony import */ var _src_contexts_RealtimeContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../src/contexts/RealtimeContext */ \"./src/contexts/RealtimeContext.tsx\");\n/* harmony import */ var _src_contexts_ThemeContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../src/contexts/ThemeContext */ \"./src/contexts/ThemeContext.tsx\");\n/* harmony import */ var bootstrap_dist_css_bootstrap_min_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! bootstrap/dist/css/bootstrap.min.css */ \"./node_modules/bootstrap/dist/css/bootstrap.min.css\");\n/* harmony import */ var bootstrap_dist_css_bootstrap_min_css__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(bootstrap_dist_css_bootstrap_min_css__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n\n\n// Import Bootstrap CSS (if you're using it)\n\n// Import Bootstrap JS\n\nfunction MyApp({ Component, pageProps }) {\n    (0,react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(()=>{\n        // Import Bootstrap JS on client-side\n        if (false) {}\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_3___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"viewport\",\n                        content: \"width=device-width, initial-scale=1\"\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/pages/_app.tsx\",\n                        lineNumber: 26,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: \"Smart-ChatBox\"\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/pages/_app.tsx\",\n                        lineNumber: 27,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/usr/src/app/pages/_app.tsx\",\n                lineNumber: 25,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_contexts_ThemeContext__WEBPACK_IMPORTED_MODULE_6__.ThemeProvider, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_4__.AuthProvider, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_contexts_RealtimeContext__WEBPACK_IMPORTED_MODULE_5__.RealtimeProvider, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                            ...pageProps\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/pages/_app.tsx\",\n                            lineNumber: 33,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/pages/_app.tsx\",\n                        lineNumber: 32,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/usr/src/app/pages/_app.tsx\",\n                    lineNumber: 31,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/usr/src/app/pages/_app.tsx\",\n                lineNumber: 30,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyApp);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErQjtBQUNTO0FBRVg7QUFDOEI7QUFDUTtBQUNOO0FBRTdELDRDQUE0QztBQUNFO0FBRTlDLHNCQUFzQjtBQUNZO0FBRWxDLFNBQVNLLE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxTQUFTLEVBQVk7SUFDL0NILGdEQUFTQSxDQUFDO1FBQ1IscUNBQXFDO1FBQ3JDLElBQUksS0FBa0IsRUFBYSxFQUVsQztJQUNILEdBQUcsRUFBRTtJQUVMLHFCQUNFOzswQkFDRSw4REFBQ0osa0RBQUlBOztrQ0FDSCw4REFBQ1M7d0JBQUtDLE1BQUs7d0JBQVdDLFNBQVE7Ozs7OztrQ0FDOUIsOERBQUNDO2tDQUFNOzs7Ozs7Ozs7Ozs7MEJBR1QsOERBQUNULHFFQUFhQTswQkFDWiw0RUFBQ0YsbUVBQVlBOzhCQUNYLDRFQUFDQywyRUFBZ0JBO2tDQUNmLDRFQUFDSTs0QkFBVyxHQUFHQyxTQUFTOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1wQztBQUVBLGlFQUFlRixLQUFLQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9wYWdlcy9fYXBwLnRzeD8yZmJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi4vc3R5bGVzL2dsb2JhbHMuY3NzJztcbmltcG9ydCAnLi4vc3R5bGVzL2RhcmstbW9kZS10YWJsZXMuY3NzJztcbmltcG9ydCB0eXBlIHsgQXBwUHJvcHMgfSBmcm9tICduZXh0L2FwcCc7XG5pbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnO1xuaW1wb3J0IHsgQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi4vc3JjL2NvbnRleHRzL0F1dGhDb250ZXh0JztcbmltcG9ydCB7IFJlYWx0aW1lUHJvdmlkZXIgfSBmcm9tICcuLi9zcmMvY29udGV4dHMvUmVhbHRpbWVDb250ZXh0JztcbmltcG9ydCB7IFRoZW1lUHJvdmlkZXIgfSBmcm9tICcuLi9zcmMvY29udGV4dHMvVGhlbWVDb250ZXh0JztcblxuLy8gSW1wb3J0IEJvb3RzdHJhcCBDU1MgKGlmIHlvdSdyZSB1c2luZyBpdClcbmltcG9ydCAnYm9vdHN0cmFwL2Rpc3QvY3NzL2Jvb3RzdHJhcC5taW4uY3NzJztcblxuLy8gSW1wb3J0IEJvb3RzdHJhcCBKU1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiBNeUFwcCh7IENvbXBvbmVudCwgcGFnZVByb3BzIH06IEFwcFByb3BzKSB7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gSW1wb3J0IEJvb3RzdHJhcCBKUyBvbiBjbGllbnQtc2lkZVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmVxdWlyZSgnYm9vdHN0cmFwL2Rpc3QvanMvYm9vdHN0cmFwLmJ1bmRsZS5taW4uanMnKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8SGVhZD5cbiAgICAgICAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xXCIgLz5cbiAgICAgICAgPHRpdGxlPlNtYXJ0LUNoYXRCb3g8L3RpdGxlPlxuICAgICAgPC9IZWFkPlxuICAgICAgXG4gICAgICA8VGhlbWVQcm92aWRlcj5cbiAgICAgICAgPEF1dGhQcm92aWRlcj5cbiAgICAgICAgICA8UmVhbHRpbWVQcm92aWRlcj5cbiAgICAgICAgICAgIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz5cbiAgICAgICAgICA8L1JlYWx0aW1lUHJvdmlkZXI+XG4gICAgICAgIDwvQXV0aFByb3ZpZGVyPlxuICAgICAgPC9UaGVtZVByb3ZpZGVyPlxuICAgIDwvPlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBNeUFwcDsiXSwibmFtZXMiOlsiSGVhZCIsIkF1dGhQcm92aWRlciIsIlJlYWx0aW1lUHJvdmlkZXIiLCJUaGVtZVByb3ZpZGVyIiwidXNlRWZmZWN0IiwiTXlBcHAiLCJDb21wb25lbnQiLCJwYWdlUHJvcHMiLCJyZXF1aXJlIiwibWV0YSIsIm5hbWUiLCJjb250ZW50IiwidGl0bGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/_app.tsx\n");

/***/ }),

/***/ "./pages/leads/[id].tsx":
/*!******************************!*\
  !*** ./pages/leads/[id].tsx ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _src_components_layout_Layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../src/components/layout/Layout */ \"./src/components/layout/Layout.tsx\");\n/* harmony import */ var _src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../src/contexts/AuthContext */ \"./src/contexts/AuthContext.tsx\");\n/* harmony import */ var _src_api_leads__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../src/api/leads */ \"./src/api/leads.ts\");\n/* harmony import */ var _src_contexts_RealtimeContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../src/contexts/RealtimeContext */ \"./src/contexts/RealtimeContext.tsx\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/link */ \"./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _src_components_leads_LeadEventTimeline__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../src/components/leads/LeadEventTimeline */ \"./src/components/leads/LeadEventTimeline.tsx\");\n/* harmony import */ var _src_components_leads_LeadWhatsAppChat__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../src/components/leads/LeadWhatsAppChat */ \"./src/components/leads/LeadWhatsAppChat.tsx\");\n\n\n\n\n\n\n\n\n\n\nconst LeadDetailPage = ()=>{\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_1__.useRouter)();\n    const { id } = router.query;\n    const { isAuthenticated, loading } = (0,_src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_4__.useAuth)();\n    const [lead, setLead] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [leadEvents, setLeadEvents] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [fetchLoading, setFetchLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [eventsLoading, setEventsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [eventsError, setEventsError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    // Get realtime context\n    const { isConnected, subscribeToLeads, unsubscribeFromLeads } = (0,_src_contexts_RealtimeContext__WEBPACK_IMPORTED_MODULE_6__.useRealtime)();\n    // Track if we have real-time updates enabled\n    const [hasRealTimeUpdates, setHasRealTimeUpdates] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    // Redirect to login if not authenticated\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!loading && !isAuthenticated) {\n            router.push(\"/login?redirect=\" + router.asPath);\n        }\n    }, [\n        isAuthenticated,\n        loading,\n        router\n    ]);\n    // Fetch lead data\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        const fetchLead = async ()=>{\n            if (!id || Array.isArray(id)) return;\n            try {\n                setFetchLoading(true);\n                const response = await _src_api_leads__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getLead(id);\n                if (response.success && response.data?.lead) {\n                    setLead(response.data.lead);\n                } else {\n                    setError(response.error || \"Falha ao buscar detalhes do lead\");\n                }\n            } catch (err) {\n                console.error(\"Error fetching lead:\", err);\n                setError(\"Ocorreu um erro ao buscar detalhes do lead\");\n            } finally{\n                setFetchLoading(false);\n            }\n        };\n        if (isAuthenticated && id) {\n            fetchLead();\n        }\n    }, [\n        id,\n        isAuthenticated\n    ]);\n    // Fetch lead events\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        const fetchLeadEvents = async ()=>{\n            if (!id || Array.isArray(id)) return;\n            try {\n                setEventsLoading(true);\n                const response = await _src_api_leads__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getLeadEvents(id);\n                if (response.success && response.data?.events) {\n                    // Sort events by timestamp, newest first\n                    const sortedEvents = [\n                        ...response.data.events\n                    ].sort((a, b)=>new Date(b.created_at).getTime() - new Date(a.created_at).getTime());\n                    setLeadEvents(sortedEvents);\n                } else {\n                    setEventsError(response.error || \"Falha ao buscar eventos do lead\");\n                }\n            } catch (err) {\n                console.error(\"Error fetching lead events:\", err);\n                setEventsError(\"Ocorreu um erro ao buscar eventos do lead\");\n            } finally{\n                setEventsLoading(false);\n            }\n        };\n        if (isAuthenticated && id) {\n            fetchLeadEvents();\n        }\n    }, [\n        id,\n        isAuthenticated\n    ]);\n    // Set up real-time updates\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (isConnected && !hasRealTimeUpdates && lead?.id) {\n            // Handler for lead events\n            const handleLeadEvent = (data)=>{\n                if (!lead) return;\n                if (data.event === \"UPDATE\" && data.new?.id === lead.id) {\n                    setLead(data.new);\n                    // Refresh lead events when lead is updated\n                    if (lead.id && typeof lead.id === \"string\") {\n                        _src_api_leads__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getLeadEvents(lead.id).then((response)=>{\n                            if (response.success && response.data?.events) {\n                                const sortedEvents = [\n                                    ...response.data.events\n                                ].sort((a, b)=>new Date(b.created_at).getTime() - new Date(a.created_at).getTime());\n                                setLeadEvents(sortedEvents);\n                            }\n                        });\n                    }\n                } else if (data.event === \"DELETE\" && data.old?.id === lead.id) {\n                    // Lead was deleted, redirect to leads list\n                    router.push(\"/leads\");\n                }\n            };\n            // Subscribe to lead events\n            subscribeToLeads(handleLeadEvent);\n            setHasRealTimeUpdates(true);\n            // Cleanup when component unmounts\n            return ()=>{\n                unsubscribeFromLeads(handleLeadEvent);\n            };\n        }\n    }, [\n        isConnected,\n        hasRealTimeUpdates,\n        lead,\n        router,\n        subscribeToLeads,\n        unsubscribeFromLeads\n    ]);\n    // Helper function to get status badge color\n    const getStatusBadgeColor = (status)=>{\n        switch(status){\n            case \"novo\":\n                return \"bg-info\";\n            case \"qualificado\":\n                return \"bg-primary\";\n            case \"contatado\":\n                return \"bg-warning\";\n            case \"convertido\":\n                return \"bg-success\";\n            case \"desistiu\":\n                return \"bg-danger\";\n            case \"inativo\":\n                return \"bg-secondary\";\n            default:\n                return \"bg-light\";\n        }\n    };\n    // Helper function to get status display name\n    const getStatusDisplayName = (status)=>{\n        switch(status){\n            case \"novo\":\n                return \"Novo\";\n            case \"qualificado\":\n                return \"Qualificado\";\n            case \"contatado\":\n                return \"Contatado\";\n            case \"convertido\":\n                return \"Convertido\";\n            case \"desistiu\":\n                return \"Desistiu\";\n            case \"inativo\":\n                return \"Inativo\";\n            default:\n                return status;\n        }\n    };\n    if (loading || !isAuthenticated || fetchLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_layout_Layout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"container py-5\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"spinner-border\",\n                            role: \"status\",\n                            style: {\n                                color: \"#7e57c2\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"visually-hidden\",\n                                children: \"Carregando...\"\n                            }, void 0, false, {\n                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                lineNumber: 165,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                            lineNumber: 164,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"mt-3 text-muted\",\n                            children: \"Carregando informa\\xe7\\xf5es do lead...\"\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                            lineNumber: 167,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                    lineNumber: 163,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                lineNumber: 162,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n            lineNumber: 161,\n            columnNumber: 7\n        }, undefined);\n    }\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_layout_Layout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"container py-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"card border-0 shadow-sm\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"card-body text-center py-5\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"bi bi-exclamation-circle text-danger fs-1 mb-3\"\n                            }, void 0, false, {\n                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                lineNumber: 180,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"mb-3\",\n                                children: \"Erro ao Carregar Lead\"\n                            }, void 0, false, {\n                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                lineNumber: 181,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-muted mb-4\",\n                                children: error\n                            }, void 0, false, {\n                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                lineNumber: 182,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_7___default()), {\n                                href: \"/leads\",\n                                className: \"btn btn-primary px-4 py-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"bi bi-arrow-left me-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                        lineNumber: 184,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    \"Voltar para Leads\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                lineNumber: 183,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                        lineNumber: 179,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                    lineNumber: 178,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                lineNumber: 177,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n            lineNumber: 176,\n            columnNumber: 7\n        }, undefined);\n    }\n    if (!lead) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_layout_Layout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"container py-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"card border-0 shadow-sm\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"card-body text-center py-5\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"bi bi-search text-muted fs-1 mb-3\"\n                            }, void 0, false, {\n                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                lineNumber: 200,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"mb-3\",\n                                children: \"Lead N\\xe3o Encontrado\"\n                            }, void 0, false, {\n                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                lineNumber: 201,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-muted mb-4\",\n                                children: \"O lead solicitado n\\xe3o foi encontrado ou pode ter sido exclu\\xeddo.\"\n                            }, void 0, false, {\n                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                lineNumber: 202,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_7___default()), {\n                                href: \"/leads\",\n                                className: \"btn btn-primary px-4 py-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"bi bi-arrow-left me-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                        lineNumber: 204,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    \"Voltar para Leads\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                lineNumber: 203,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                        lineNumber: 199,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                    lineNumber: 198,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                lineNumber: 197,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n            lineNumber: 196,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_layout_Layout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"container py-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-3 mb-md-0\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"d-flex align-items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-2 rounded-circle me-3\",\n                                        style: {\n                                            backgroundColor: \"rgba(126, 87, 194, 0.1)\"\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"bi bi-person-fill fs-3\",\n                                            style: {\n                                                color: \"#7e57c2\"\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                            lineNumber: 222,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                        lineNumber: 221,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                                className: \"mb-0 fs-2 fw-bold\",\n                                                children: lead.name\n                                            }, void 0, false, {\n                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                lineNumber: 225,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-muted mb-0\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: `badge ${getStatusBadgeColor(lead.status)} me-2`,\n                                                        children: getStatusDisplayName(lead.status)\n                                                    }, void 0, false, {\n                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                        lineNumber: 227,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    isConnected && hasRealTimeUpdates && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"badge bg-success\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                                className: \"bi bi-lightning-fill me-1\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 232,\n                                                                columnNumber: 23\n                                                            }, undefined),\n                                                            \"Atualiza\\xe7\\xf5es em Tempo Real\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                        lineNumber: 231,\n                                                        columnNumber: 21\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                lineNumber: 226,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                        lineNumber: 224,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                lineNumber: 220,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                            lineNumber: 219,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"d-flex gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_7___default()), {\n                                    href: \"/leads\",\n                                    className: \"btn btn-light\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"bi bi-arrow-left me-2\"\n                                        }, void 0, false, {\n                                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                            lineNumber: 242,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        \"Voltar\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                    lineNumber: 241,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_7___default()), {\n                                    href: `/leads/${lead.id}/edit`,\n                                    className: \"btn btn-primary\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                            className: \"bi bi-pencil me-2\"\n                                        }, void 0, false, {\n                                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                            lineNumber: 246,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        \"Editar Lead\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                    lineNumber: 245,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                            lineNumber: 240,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                    lineNumber: 218,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"row mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"col-lg-4 mb-4 mb-lg-0\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card h-100\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-header d-flex align-items-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                className: \"bi bi-info-circle me-2\",\n                                                style: {\n                                                    color: \"#7e57c2\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                lineNumber: 257,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                                                className: \"mb-0\",\n                                                children: \"Informa\\xe7\\xf5es do Lead\"\n                                            }, void 0, false, {\n                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                lineNumber: 258,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                        lineNumber: 256,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"card-body\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h6\", {\n                                                        className: \"fw-semibold mb-3\",\n                                                        style: {\n                                                            color: \"#7e57c2\"\n                                                        },\n                                                        children: \"Detalhes de Contato\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                        lineNumber: 262,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mb-3\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"mb-1 text-muted small\",\n                                                                children: \"Nome Completo\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 264,\n                                                                columnNumber: 21\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"fw-medium\",\n                                                                children: lead.name\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 265,\n                                                                columnNumber: 21\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                        lineNumber: 263,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mb-3\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"mb-1 text-muted small\",\n                                                                children: \"Email\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 268,\n                                                                columnNumber: 21\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"fw-medium\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                                    href: `mailto:${lead.email}`,\n                                                                    className: \"text-decoration-none d-flex align-items-center\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                                            className: \"bi bi-envelope me-2 text-muted\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                            lineNumber: 271,\n                                                                            columnNumber: 25\n                                                                        }, undefined),\n                                                                        lead.email\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                    lineNumber: 270,\n                                                                    columnNumber: 23\n                                                                }, undefined)\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 269,\n                                                                columnNumber: 21\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                        lineNumber: 267,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mb-3\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"mb-1 text-muted small\",\n                                                                children: \"Telefone\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 277,\n                                                                columnNumber: 21\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"fw-medium\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                                    href: `tel:${lead.phone}`,\n                                                                    className: \"text-decoration-none d-flex align-items-center\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                                            className: \"bi bi-telephone me-2 text-muted\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                            lineNumber: 280,\n                                                                            columnNumber: 25\n                                                                        }, undefined),\n                                                                        lead.phone\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                    lineNumber: 279,\n                                                                    columnNumber: 23\n                                                                }, undefined)\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 278,\n                                                                columnNumber: 21\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                        lineNumber: 276,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                lineNumber: 261,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-4\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h6\", {\n                                                        className: \"fw-semibold mb-3\",\n                                                        style: {\n                                                            color: \"#7e57c2\"\n                                                        },\n                                                        children: \"Detalhes do Lead\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                        lineNumber: 288,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mb-3\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"mb-1 text-muted small\",\n                                                                children: \"Status\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 290,\n                                                                columnNumber: 21\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"fw-medium\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: `badge ${getStatusBadgeColor(lead.status)}`,\n                                                                    children: getStatusDisplayName(lead.status)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                    lineNumber: 292,\n                                                                    columnNumber: 23\n                                                                }, undefined)\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 291,\n                                                                columnNumber: 21\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                        lineNumber: 289,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mb-3\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"mb-1 text-muted small\",\n                                                                children: \"Criado em\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 298,\n                                                                columnNumber: 21\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"fw-medium d-flex align-items-center\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                                        className: \"bi bi-calendar2 me-2 text-muted\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                        lineNumber: 300,\n                                                                        columnNumber: 23\n                                                                    }, undefined),\n                                                                    lead.created_at ? new Date(lead.created_at).toLocaleString(\"pt-BR\") : \"N/A\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 299,\n                                                                columnNumber: 21\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                        lineNumber: 297,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mb-3\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"mb-1 text-muted small\",\n                                                                children: \"\\xdaltima Atualiza\\xe7\\xe3o\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 307,\n                                                                columnNumber: 21\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"fw-medium d-flex align-items-center\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                                        className: \"bi bi-clock-history me-2 text-muted\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                        lineNumber: 309,\n                                                                        columnNumber: 23\n                                                                    }, undefined),\n                                                                    lead.updated_at ? new Date(lead.updated_at).toLocaleString(\"pt-BR\") : \"N/A\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 308,\n                                                                columnNumber: 21\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                        lineNumber: 306,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                lineNumber: 287,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            lead.notes && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-4\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h6\", {\n                                                        className: \"fw-semibold mb-3\",\n                                                        style: {\n                                                            color: \"#7e57c2\"\n                                                        },\n                                                        children: \"Anota\\xe7\\xf5es\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                        lineNumber: 320,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"p-3 bg-light rounded-3\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"card-text mb-0\",\n                                                            style: {\n                                                                whiteSpace: \"pre-wrap\"\n                                                            },\n                                                            children: lead.notes\n                                                        }, void 0, false, {\n                                                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                            lineNumber: 322,\n                                                            columnNumber: 23\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                        lineNumber: 321,\n                                                        columnNumber: 21\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                lineNumber: 319,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                        lineNumber: 260,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                lineNumber: 255,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                            lineNumber: 254,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"col-lg-5 mb-4 mb-lg-0\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_leads_LeadWhatsAppChat__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                lead: lead,\n                                isConnected: isConnected\n                            }, void 0, false, {\n                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                lineNumber: 332,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                            lineNumber: 331,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"col-lg-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"card mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"card-header d-flex align-items-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                    className: \"bi bi-lightning me-2\",\n                                                    style: {\n                                                        color: \"#7e57c2\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                    lineNumber: 339,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                                                    className: \"mb-0\",\n                                                    children: \"A\\xe7\\xf5es R\\xe1pidas\"\n                                                }, void 0, false, {\n                                                    fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                    lineNumber: 340,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                            lineNumber: 338,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"card-body\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"d-grid gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                        href: `mailto:${lead.email}`,\n                                                        className: \"btn btn-outline-primary d-flex align-items-center justify-content-center\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                                className: \"bi bi-envelope me-2\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 345,\n                                                                columnNumber: 21\n                                                            }, undefined),\n                                                            \"Enviar Email\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                        lineNumber: 344,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                        href: `tel:${lead.phone}`,\n                                                        className: \"btn btn-outline-success d-flex align-items-center justify-content-center\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                                className: \"bi bi-telephone me-2\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 349,\n                                                                columnNumber: 21\n                                                            }, undefined),\n                                                            \"Ligar para Lead\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                        lineNumber: 348,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                        href: \"/whatsapp\",\n                                                        className: \"btn btn-outline-success d-flex align-items-center justify-content-center\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                                className: \"bi bi-whatsapp me-2\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 353,\n                                                                columnNumber: 21\n                                                            }, undefined),\n                                                            \"Abrir WhatsApp\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                        lineNumber: 352,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                lineNumber: 343,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                            lineNumber: 342,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                    lineNumber: 337,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"card\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"card-header d-flex align-items-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                    className: \"bi bi-graph-up me-2\",\n                                                    style: {\n                                                        color: \"#7e57c2\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                    lineNumber: 363,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                                                    className: \"mb-0\",\n                                                    children: \"Estat\\xedsticas\"\n                                                }, void 0, false, {\n                                                    fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                    lineNumber: 364,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                            lineNumber: 362,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"card-body\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"d-flex flex-column gap-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"d-flex justify-content-between align-items-center\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"d-flex align-items-center gap-2\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"p-2 rounded-circle\",\n                                                                        style: {\n                                                                            backgroundColor: \"rgba(66, 165, 245, 0.1)\"\n                                                                        },\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                                            className: \"bi bi-eye\",\n                                                                            style: {\n                                                                                color: \"#42a5f5\"\n                                                                            }\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                            lineNumber: 371,\n                                                                            columnNumber: 25\n                                                                        }, undefined)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                        lineNumber: 370,\n                                                                        columnNumber: 23\n                                                                    }, undefined),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"Visualiza\\xe7\\xf5es\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                        lineNumber: 373,\n                                                                        columnNumber: 23\n                                                                    }, undefined)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 369,\n                                                                columnNumber: 21\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"badge bg-info rounded-pill\",\n                                                                children: leadEvents.filter((e)=>e.event_type === \"page_view\").length\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 375,\n                                                                columnNumber: 21\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                        lineNumber: 368,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"d-flex justify-content-between align-items-center\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"d-flex align-items-center gap-2\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"p-2 rounded-circle\",\n                                                                        style: {\n                                                                            backgroundColor: \"rgba(102, 187, 106, 0.1)\"\n                                                                        },\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                                            className: \"bi bi-whatsapp\",\n                                                                            style: {\n                                                                                color: \"#66bb6a\"\n                                                                            }\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                            lineNumber: 382,\n                                                                            columnNumber: 25\n                                                                        }, undefined)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                        lineNumber: 381,\n                                                                        columnNumber: 23\n                                                                    }, undefined),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"WhatsApp\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                        lineNumber: 384,\n                                                                        columnNumber: 23\n                                                                    }, undefined)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 380,\n                                                                columnNumber: 21\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"badge bg-success rounded-pill\",\n                                                                children: leadEvents.filter((e)=>e.event_type === \"whatsapp_message\").length\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 386,\n                                                                columnNumber: 21\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                        lineNumber: 379,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"d-flex justify-content-between align-items-center\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"d-flex align-items-center gap-2\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"p-2 rounded-circle\",\n                                                                        style: {\n                                                                            backgroundColor: \"rgba(255, 183, 77, 0.1)\"\n                                                                        },\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                                            className: \"bi bi-envelope\",\n                                                                            style: {\n                                                                                color: \"#ffb74d\"\n                                                                            }\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                            lineNumber: 393,\n                                                                            columnNumber: 25\n                                                                        }, undefined)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                        lineNumber: 392,\n                                                                        columnNumber: 23\n                                                                    }, undefined),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"Emails\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                        lineNumber: 395,\n                                                                        columnNumber: 23\n                                                                    }, undefined)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 391,\n                                                                columnNumber: 21\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"badge bg-warning rounded-pill\",\n                                                                children: leadEvents.filter((e)=>e.event_type.includes(\"email\")).length\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 397,\n                                                                columnNumber: 21\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                        lineNumber: 390,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"d-flex justify-content-between align-items-center\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"d-flex align-items-center gap-2\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"p-2 rounded-circle\",\n                                                                        style: {\n                                                                            backgroundColor: \"rgba(239, 83, 80, 0.1)\"\n                                                                        },\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                                            className: \"bi bi-telephone\",\n                                                                            style: {\n                                                                                color: \"#ef5350\"\n                                                                            }\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                            lineNumber: 404,\n                                                                            columnNumber: 25\n                                                                        }, undefined)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                        lineNumber: 403,\n                                                                        columnNumber: 23\n                                                                    }, undefined),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"Chamadas\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                        lineNumber: 406,\n                                                                        columnNumber: 23\n                                                                    }, undefined)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 402,\n                                                                columnNumber: 21\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"badge bg-danger rounded-pill\",\n                                                                children: leadEvents.filter((e)=>e.event_type === \"call\").length\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                                lineNumber: 408,\n                                                                columnNumber: 21\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                        lineNumber: 401,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                                lineNumber: 367,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                            lineNumber: 366,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                    lineNumber: 361,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                            lineNumber: 336,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                    lineNumber: 252,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"card\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"card-header d-flex align-items-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"bi bi-clock-history me-2\",\n                                    style: {\n                                        color: \"#7e57c2\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                    lineNumber: 421,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                                    className: \"mb-0\",\n                                    children: \"Linha do Tempo de Atividades\"\n                                }, void 0, false, {\n                                    fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                    lineNumber: 422,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                            lineNumber: 420,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"card-body p-0 p-md-3\",\n                            children: eventsError ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"alert alert-warning m-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"bi bi-exclamation-triangle me-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                        lineNumber: 427,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    eventsError\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                lineNumber: 426,\n                                columnNumber: 15\n                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_leads_LeadEventTimeline__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                events: leadEvents,\n                                loading: eventsLoading\n                            }, void 0, false, {\n                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                lineNumber: 431,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                            lineNumber: 424,\n                            columnNumber: 11\n                        }, undefined),\n                        !eventsLoading && leadEvents.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"card-footer d-flex justify-content-center\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"btn btn-sm btn-light\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: \"bi bi-download me-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                        lineNumber: 437,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    \"Exportar Dados de Atividade\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                                lineNumber: 436,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                            lineNumber: 435,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n                    lineNumber: 419,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n            lineNumber: 216,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/usr/src/app/pages/leads/[id].tsx\",\n        lineNumber: 215,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LeadDetailPage);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LDhEQUFDQTtnRUFBS0osV0FBVTswRUFDYjdDLFdBQVdpRSxNQUFNLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLFVBQVUsS0FBSyxRQUFRQyxNQUFNOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs4QkFVckUsOERBQUN4QjtvQkFBSUMsV0FBVTs7c0NBQ2IsOERBQUNEOzRCQUFJQyxXQUFVOzs4Q0FDYiw4REFBQ007b0NBQUVOLFdBQVU7b0NBQTJCRSxPQUFPO3dDQUFFQyxPQUFPO29DQUFVOzs7Ozs7OENBQ2xFLDhEQUFDUztvQ0FBR1osV0FBVTs4Q0FBTzs7Ozs7Ozs7Ozs7O3NDQUV2Qiw4REFBQ0Q7NEJBQUlDLFdBQVU7c0NBQ1pyQyw0QkFDQyw4REFBQ29DO2dDQUFJQyxXQUFVOztrREFDYiw4REFBQ007d0NBQUVOLFdBQVU7Ozs7OztvQ0FDWnJDOzs7Ozs7MERBR0gsOERBQUNsQiwrRUFBaUJBO2dDQUFDc0MsUUFBUTVCO2dDQUFZSCxTQUFTTzs7Ozs7Ozs7Ozs7d0JBR25ELENBQUNBLGlCQUFpQkosV0FBV29FLE1BQU0sR0FBRyxtQkFDckMsOERBQUN4Qjs0QkFBSUMsV0FBVTtzQ0FDYiw0RUFBQ3lCO2dDQUFPekIsV0FBVTs7a0RBQ2hCLDhEQUFDTTt3Q0FBRU4sV0FBVTs7Ozs7O29DQUEwQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFTdkQ7QUFFQSxpRUFBZXJELGNBQWNBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL3BhZ2VzL2xlYWRzL1tpZF0udHN4P2MxNzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFBhZ2UgfSBmcm9tICduZXh0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGF5b3V0IGZyb20gJy4uLy4uL3NyYy9jb21wb25lbnRzL2xheW91dC9MYXlvdXQnO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJy4uLy4uL3NyYy9jb250ZXh0cy9BdXRoQ29udGV4dCc7XG5pbXBvcnQgeyBMZWFkLCBMZWFkRXZlbnQgfSBmcm9tICcuLi8uLi9zcmMvaW50ZXJmYWNlcyc7XG5pbXBvcnQgbGVhZHNBcGkgZnJvbSAnLi4vLi4vc3JjL2FwaS9sZWFkcyc7XG5pbXBvcnQgeyB1c2VSZWFsdGltZSB9IGZyb20gJy4uLy4uL3NyYy9jb250ZXh0cy9SZWFsdGltZUNvbnRleHQnO1xuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJztcbmltcG9ydCBMZWFkRXZlbnRUaW1lbGluZSBmcm9tICcuLi8uLi9zcmMvY29tcG9uZW50cy9sZWFkcy9MZWFkRXZlbnRUaW1lbGluZSc7XG5pbXBvcnQgTGVhZFdoYXRzQXBwQ2hhdCBmcm9tICcuLi8uLi9zcmMvY29tcG9uZW50cy9sZWFkcy9MZWFkV2hhdHNBcHBDaGF0JztcblxuY29uc3QgTGVhZERldGFpbFBhZ2U6IE5leHRQYWdlID0gKCkgPT4ge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgeyBpZCB9ID0gcm91dGVyLnF1ZXJ5O1xuICBjb25zdCB7IGlzQXV0aGVudGljYXRlZCwgbG9hZGluZyB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCBbbGVhZCwgc2V0TGVhZF0gPSB1c2VTdGF0ZTxMZWFkIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtsZWFkRXZlbnRzLCBzZXRMZWFkRXZlbnRzXSA9IHVzZVN0YXRlPExlYWRFdmVudFtdPihbXSk7XG4gIGNvbnN0IFtmZXRjaExvYWRpbmcsIHNldEZldGNoTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2V2ZW50c0xvYWRpbmcsIHNldEV2ZW50c0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtldmVudHNFcnJvciwgc2V0RXZlbnRzRXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gR2V0IHJlYWx0aW1lIGNvbnRleHRcbiAgY29uc3QgeyBpc0Nvbm5lY3RlZCwgc3Vic2NyaWJlVG9MZWFkcywgdW5zdWJzY3JpYmVGcm9tTGVhZHMgfSA9IHVzZVJlYWx0aW1lKCk7XG4gIFxuICAvLyBUcmFjayBpZiB3ZSBoYXZlIHJlYWwtdGltZSB1cGRhdGVzIGVuYWJsZWRcbiAgY29uc3QgW2hhc1JlYWxUaW1lVXBkYXRlcywgc2V0SGFzUmVhbFRpbWVVcGRhdGVzXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBSZWRpcmVjdCB0byBsb2dpbiBpZiBub3QgYXV0aGVudGljYXRlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghbG9hZGluZyAmJiAhaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICByb3V0ZXIucHVzaCgnL2xvZ2luP3JlZGlyZWN0PScgKyByb3V0ZXIuYXNQYXRoKTtcbiAgICB9XG4gIH0sIFtpc0F1dGhlbnRpY2F0ZWQsIGxvYWRpbmcsIHJvdXRlcl0pO1xuXG4gIC8vIEZldGNoIGxlYWQgZGF0YVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoTGVhZCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghaWQgfHwgQXJyYXkuaXNBcnJheShpZCkpIHJldHVybjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0RmV0Y2hMb2FkaW5nKHRydWUpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGxlYWRzQXBpLmdldExlYWQoaWQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgJiYgcmVzcG9uc2UuZGF0YT8ubGVhZCkge1xuICAgICAgICAgIHNldExlYWQocmVzcG9uc2UuZGF0YS5sZWFkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRFcnJvcihyZXNwb25zZS5lcnJvciB8fCAnRmFsaGEgYW8gYnVzY2FyIGRldGFsaGVzIGRvIGxlYWQnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGxlYWQ6JywgZXJyKTtcbiAgICAgICAgc2V0RXJyb3IoJ09jb3JyZXUgdW0gZXJybyBhbyBidXNjYXIgZGV0YWxoZXMgZG8gbGVhZCcpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0RmV0Y2hMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKGlzQXV0aGVudGljYXRlZCAmJiBpZCkge1xuICAgICAgZmV0Y2hMZWFkKCk7XG4gICAgfVxuICB9LCBbaWQsIGlzQXV0aGVudGljYXRlZF0pO1xuXG4gIC8vIEZldGNoIGxlYWQgZXZlbnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmV0Y2hMZWFkRXZlbnRzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFpZCB8fCBBcnJheS5pc0FycmF5KGlkKSkgcmV0dXJuO1xuXG4gICAgICB0cnkge1xuICAgICAgICBzZXRFdmVudHNMb2FkaW5nKHRydWUpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGxlYWRzQXBpLmdldExlYWRFdmVudHMoaWQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgJiYgcmVzcG9uc2UuZGF0YT8uZXZlbnRzKSB7XG4gICAgICAgICAgLy8gU29ydCBldmVudHMgYnkgdGltZXN0YW1wLCBuZXdlc3QgZmlyc3RcbiAgICAgICAgICBjb25zdCBzb3J0ZWRFdmVudHMgPSBbLi4ucmVzcG9uc2UuZGF0YS5ldmVudHNdLnNvcnQoXG4gICAgICAgICAgICAoYSwgYikgPT4gbmV3IERhdGUoYi5jcmVhdGVkX2F0KS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShhLmNyZWF0ZWRfYXQpLmdldFRpbWUoKVxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0TGVhZEV2ZW50cyhzb3J0ZWRFdmVudHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldEV2ZW50c0Vycm9yKHJlc3BvbnNlLmVycm9yIHx8ICdGYWxoYSBhbyBidXNjYXIgZXZlbnRvcyBkbyBsZWFkJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBsZWFkIGV2ZW50czonLCBlcnIpO1xuICAgICAgICBzZXRFdmVudHNFcnJvcignT2NvcnJldSB1bSBlcnJvIGFvIGJ1c2NhciBldmVudG9zIGRvIGxlYWQnKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldEV2ZW50c0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoaXNBdXRoZW50aWNhdGVkICYmIGlkKSB7XG4gICAgICBmZXRjaExlYWRFdmVudHMoKTtcbiAgICB9XG4gIH0sIFtpZCwgaXNBdXRoZW50aWNhdGVkXSk7XG5cbiAgLy8gU2V0IHVwIHJlYWwtdGltZSB1cGRhdGVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzQ29ubmVjdGVkICYmICFoYXNSZWFsVGltZVVwZGF0ZXMgJiYgbGVhZD8uaWQpIHtcbiAgICAgIC8vIEhhbmRsZXIgZm9yIGxlYWQgZXZlbnRzXG4gICAgICBjb25zdCBoYW5kbGVMZWFkRXZlbnQgPSAoZGF0YTogYW55KSA9PiB7XG4gICAgICAgIGlmICghbGVhZCkgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgaWYgKGRhdGEuZXZlbnQgPT09ICdVUERBVEUnICYmIGRhdGEubmV3Py5pZCA9PT0gbGVhZC5pZCkge1xuICAgICAgICAgIHNldExlYWQoZGF0YS5uZXcpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJlZnJlc2ggbGVhZCBldmVudHMgd2hlbiBsZWFkIGlzIHVwZGF0ZWRcbiAgICAgICAgICBpZiAobGVhZC5pZCAmJiB0eXBlb2YgbGVhZC5pZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGxlYWRzQXBpLmdldExlYWRFdmVudHMobGVhZC5pZCkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzICYmIHJlc3BvbnNlLmRhdGE/LmV2ZW50cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvcnRlZEV2ZW50cyA9IFsuLi5yZXNwb25zZS5kYXRhLmV2ZW50c10uc29ydChcbiAgICAgICAgICAgICAgICAgIChhLCBiKSA9PiBuZXcgRGF0ZShiLmNyZWF0ZWRfYXQpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGEuY3JlYXRlZF9hdCkuZ2V0VGltZSgpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBzZXRMZWFkRXZlbnRzKHNvcnRlZEV2ZW50cyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLmV2ZW50ID09PSAnREVMRVRFJyAmJiBkYXRhLm9sZD8uaWQgPT09IGxlYWQuaWQpIHtcbiAgICAgICAgICAvLyBMZWFkIHdhcyBkZWxldGVkLCByZWRpcmVjdCB0byBsZWFkcyBsaXN0XG4gICAgICAgICAgcm91dGVyLnB1c2goJy9sZWFkcycpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBTdWJzY3JpYmUgdG8gbGVhZCBldmVudHNcbiAgICAgIHN1YnNjcmliZVRvTGVhZHMoaGFuZGxlTGVhZEV2ZW50KTtcbiAgICAgIHNldEhhc1JlYWxUaW1lVXBkYXRlcyh0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gQ2xlYW51cCB3aGVuIGNvbXBvbmVudCB1bm1vdW50c1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgdW5zdWJzY3JpYmVGcm9tTGVhZHMoaGFuZGxlTGVhZEV2ZW50KTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbaXNDb25uZWN0ZWQsIGhhc1JlYWxUaW1lVXBkYXRlcywgbGVhZCwgcm91dGVyLCBzdWJzY3JpYmVUb0xlYWRzLCB1bnN1YnNjcmliZUZyb21MZWFkc10pO1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgc3RhdHVzIGJhZGdlIGNvbG9yXG4gIGNvbnN0IGdldFN0YXR1c0JhZGdlQ29sb3IgPSAoc3RhdHVzOiBMZWFkWydzdGF0dXMnXSkgPT4ge1xuICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICBjYXNlICdub3ZvJzogcmV0dXJuICdiZy1pbmZvJztcbiAgICAgIGNhc2UgJ3F1YWxpZmljYWRvJzogcmV0dXJuICdiZy1wcmltYXJ5JztcbiAgICAgIGNhc2UgJ2NvbnRhdGFkbyc6IHJldHVybiAnYmctd2FybmluZyc7XG4gICAgICBjYXNlICdjb252ZXJ0aWRvJzogcmV0dXJuICdiZy1zdWNjZXNzJztcbiAgICAgIGNhc2UgJ2Rlc2lzdGl1JzogcmV0dXJuICdiZy1kYW5nZXInO1xuICAgICAgY2FzZSAnaW5hdGl2byc6IHJldHVybiAnYmctc2Vjb25kYXJ5JztcbiAgICAgIGRlZmF1bHQ6IHJldHVybiAnYmctbGlnaHQnO1xuICAgIH1cbiAgfTtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IHN0YXR1cyBkaXNwbGF5IG5hbWVcbiAgY29uc3QgZ2V0U3RhdHVzRGlzcGxheU5hbWUgPSAoc3RhdHVzOiBMZWFkWydzdGF0dXMnXSkgPT4ge1xuICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICBjYXNlICdub3ZvJzogcmV0dXJuICdOb3ZvJztcbiAgICAgIGNhc2UgJ3F1YWxpZmljYWRvJzogcmV0dXJuICdRdWFsaWZpY2Fkbyc7XG4gICAgICBjYXNlICdjb250YXRhZG8nOiByZXR1cm4gJ0NvbnRhdGFkbyc7XG4gICAgICBjYXNlICdjb252ZXJ0aWRvJzogcmV0dXJuICdDb252ZXJ0aWRvJztcbiAgICAgIGNhc2UgJ2Rlc2lzdGl1JzogcmV0dXJuICdEZXNpc3RpdSc7XG4gICAgICBjYXNlICdpbmF0aXZvJzogcmV0dXJuICdJbmF0aXZvJztcbiAgICAgIGRlZmF1bHQ6IHJldHVybiBzdGF0dXM7XG4gICAgfVxuICB9O1xuXG4gIGlmIChsb2FkaW5nIHx8ICFpc0F1dGhlbnRpY2F0ZWQgfHwgZmV0Y2hMb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxMYXlvdXQ+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIHB5LTVcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwaW5uZXItYm9yZGVyXCIgcm9sZT1cInN0YXR1c1wiIHN0eWxlPXt7IGNvbG9yOiAnIzdlNTdjMicgfX0+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInZpc3VhbGx5LWhpZGRlblwiPkNhcnJlZ2FuZG8uLi48L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTMgdGV4dC1tdXRlZFwiPkNhcnJlZ2FuZG8gaW5mb3JtYcOnw7VlcyBkbyBsZWFkLi4uPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTGF5b3V0PlxuICAgICk7XG4gIH1cblxuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPExheW91dD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgcHktNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZCBib3JkZXItMCBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1ib2R5IHRleHQtY2VudGVyIHB5LTVcIj5cbiAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiYmkgYmktZXhjbGFtYXRpb24tY2lyY2xlIHRleHQtZGFuZ2VyIGZzLTEgbWItM1wiPjwvaT5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cIm1iLTNcIj5FcnJvIGFvIENhcnJlZ2FyIExlYWQ8L2gzPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkIG1iLTRcIj57ZXJyb3J9PC9wPlxuICAgICAgICAgICAgICA8TGluayBocmVmPVwiL2xlYWRzXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IHB4LTQgcHktMlwiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImJpIGJpLWFycm93LWxlZnQgbWUtMlwiPjwvaT5cbiAgICAgICAgICAgICAgICBWb2x0YXIgcGFyYSBMZWFkc1xuICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0xheW91dD5cbiAgICApO1xuICB9XG5cbiAgaWYgKCFsZWFkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxMYXlvdXQ+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIHB5LTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQgYm9yZGVyLTAgc2hhZG93LXNtXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtYm9keSB0ZXh0LWNlbnRlciBweS01XCI+XG4gICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImJpIGJpLXNlYXJjaCB0ZXh0LW11dGVkIGZzLTEgbWItM1wiPjwvaT5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cIm1iLTNcIj5MZWFkIE7Do28gRW5jb250cmFkbzwvaDM+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQgbWItNFwiPk8gbGVhZCBzb2xpY2l0YWRvIG7Do28gZm9pIGVuY29udHJhZG8gb3UgcG9kZSB0ZXIgc2lkbyBleGNsdcOtZG8uPC9wPlxuICAgICAgICAgICAgICA8TGluayBocmVmPVwiL2xlYWRzXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IHB4LTQgcHktMlwiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImJpIGJpLWFycm93LWxlZnQgbWUtMlwiPjwvaT5cbiAgICAgICAgICAgICAgICBWb2x0YXIgcGFyYSBMZWFkc1xuICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0xheW91dD5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8TGF5b3V0PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgcHktNFwiPlxuICAgICAgICB7LyogSGVhZGVyIHNlY3Rpb24gd2l0aCBsZWFkIG5hbWUgYW5kIGFjdGlvbnMgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGZsZXgtY29sdW1uIGZsZXgtbWQtcm93IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLXN0YXJ0IGFsaWduLWl0ZW1zLW1kLWNlbnRlciBtYi00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0zIG1iLW1kLTBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWNpcmNsZSBtZS0zXCIgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiAncmdiYSgxMjYsIDg3LCAxOTQsIDAuMSknIH19PlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImJpIGJpLXBlcnNvbi1maWxsIGZzLTNcIiBzdHlsZT17eyBjb2xvcjogJyM3ZTU3YzInIH19PjwvaT5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cIm1iLTAgZnMtMiBmdy1ib2xkXCI+e2xlYWQubmFtZX08L2gxPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQgbWItMFwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgYmFkZ2UgJHtnZXRTdGF0dXNCYWRnZUNvbG9yKGxlYWQuc3RhdHVzKX0gbWUtMmB9PlxuICAgICAgICAgICAgICAgICAgICB7Z2V0U3RhdHVzRGlzcGxheU5hbWUobGVhZC5zdGF0dXMpfVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAge2lzQ29ubmVjdGVkICYmIGhhc1JlYWxUaW1lVXBkYXRlcyAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJhZGdlIGJnLXN1Y2Nlc3NcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJiaSBiaS1saWdodG5pbmctZmlsbCBtZS0xXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgIEF0dWFsaXphw6fDtWVzIGVtIFRlbXBvIFJlYWxcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWZsZXggZ2FwLTJcIj5cbiAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvbGVhZHNcIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpZ2h0XCI+XG4gICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImJpIGJpLWFycm93LWxlZnQgbWUtMlwiPjwvaT5cbiAgICAgICAgICAgICAgVm9sdGFyXG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICA8TGluayBocmVmPXtgL2xlYWRzLyR7bGVhZC5pZH0vZWRpdGB9IGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiPlxuICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJiaSBiaS1wZW5jaWwgbWUtMlwiPjwvaT5cbiAgICAgICAgICAgICAgRWRpdGFyIExlYWRcbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgbWItNFwiPlxuICAgICAgICAgIHsvKiBMZWFkIEluZm9ybWF0aW9uIENhcmQgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbGctNCBtYi00IG1iLWxnLTBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZCBoLTEwMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtaGVhZGVyIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJiaSBiaS1pbmZvLWNpcmNsZSBtZS0yXCIgc3R5bGU9e3sgY29sb3I6ICcjN2U1N2MyJyB9fT48L2k+XG4gICAgICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cIm1iLTBcIj5JbmZvcm1hw6fDtWVzIGRvIExlYWQ8L2g1PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWJvZHlcIj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGg2IGNsYXNzTmFtZT1cImZ3LXNlbWlib2xkIG1iLTNcIiBzdHlsZT17eyBjb2xvcjogJyM3ZTU3YzInIH19PkRldGFsaGVzIGRlIENvbnRhdG88L2g2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMSB0ZXh0LW11dGVkIHNtYWxsXCI+Tm9tZSBDb21wbGV0bzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZ3LW1lZGl1bVwiPntsZWFkLm5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItM1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTEgdGV4dC1tdXRlZCBzbWFsbFwiPkVtYWlsPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZnctbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj17YG1haWx0bzoke2xlYWQuZW1haWx9YH0gY2xhc3NOYW1lPVwidGV4dC1kZWNvcmF0aW9uLW5vbmUgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiYmkgYmktZW52ZWxvcGUgbWUtMiB0ZXh0LW11dGVkXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAge2xlYWQuZW1haWx9XG4gICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMSB0ZXh0LW11dGVkIHNtYWxsXCI+VGVsZWZvbmU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmdy1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPXtgdGVsOiR7bGVhZC5waG9uZX1gfSBjbGFzc05hbWU9XCJ0ZXh0LWRlY29yYXRpb24tbm9uZSBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJiaSBiaS10ZWxlcGhvbmUgbWUtMiB0ZXh0LW11dGVkXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAge2xlYWQucGhvbmV9XG4gICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNFwiPlxuICAgICAgICAgICAgICAgICAgPGg2IGNsYXNzTmFtZT1cImZ3LXNlbWlib2xkIG1iLTNcIiBzdHlsZT17eyBjb2xvcjogJyM3ZTU3YzInIH19PkRldGFsaGVzIGRvIExlYWQ8L2g2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMSB0ZXh0LW11dGVkIHNtYWxsXCI+U3RhdHVzPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZnctbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgYmFkZ2UgJHtnZXRTdGF0dXNCYWRnZUNvbG9yKGxlYWQuc3RhdHVzKX1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtnZXRTdGF0dXNEaXNwbGF5TmFtZShsZWFkLnN0YXR1cyl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMSB0ZXh0LW11dGVkIHNtYWxsXCI+Q3JpYWRvIGVtPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZnctbWVkaXVtIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJiaSBiaS1jYWxlbmRhcjIgbWUtMiB0ZXh0LW11dGVkXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgIHtsZWFkLmNyZWF0ZWRfYXRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gbmV3IERhdGUobGVhZC5jcmVhdGVkX2F0KS50b0xvY2FsZVN0cmluZygncHQtQlInKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAnTi9BJ31cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItM1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTEgdGV4dC1tdXRlZCBzbWFsbFwiPsOabHRpbWEgQXR1YWxpemHDp8OjbzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZ3LW1lZGl1bSBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiYmkgYmktY2xvY2staGlzdG9yeSBtZS0yIHRleHQtbXV0ZWRcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAge2xlYWQudXBkYXRlZF9hdFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBuZXcgRGF0ZShsZWFkLnVwZGF0ZWRfYXQpLnRvTG9jYWxlU3RyaW5nKCdwdC1CUicpXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICdOL0EnfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsvKiBOb3RlcyBzZWN0aW9uICovfVxuICAgICAgICAgICAgICAgIHtsZWFkLm5vdGVzICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNFwiPlxuICAgICAgICAgICAgICAgICAgICA8aDYgY2xhc3NOYW1lPVwiZnctc2VtaWJvbGQgbWItM1wiIHN0eWxlPXt7IGNvbG9yOiAnIzdlNTdjMicgfX0+QW5vdGHDp8O1ZXM8L2g2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMyBiZy1saWdodCByb3VuZGVkLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJjYXJkLXRleHQgbWItMFwiIHN0eWxlPXt7IHdoaXRlU3BhY2U6ICdwcmUtd3JhcCcgfX0+e2xlYWQubm90ZXN9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIFdoYXRzQXBwIENoYXQgQ2FyZCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1sZy01IG1iLTQgbWItbGctMFwiPlxuICAgICAgICAgICAgPExlYWRXaGF0c0FwcENoYXQgbGVhZD17bGVhZH0gaXNDb25uZWN0ZWQ9e2lzQ29ubmVjdGVkfSAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIFF1aWNrIEFjdGlvbnMgYW5kIFN0YXRzIENhcmQgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbGctM1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkIG1iLTRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWhlYWRlciBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiYmkgYmktbGlnaHRuaW5nIG1lLTJcIiBzdHlsZT17eyBjb2xvcjogJyM3ZTU3YzInIH19PjwvaT5cbiAgICAgICAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwibWItMFwiPkHDp8O1ZXMgUsOhcGlkYXM8L2g1PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWJvZHlcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZ3JpZCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgPGEgaHJlZj17YG1haWx0bzoke2xlYWQuZW1haWx9YH0gY2xhc3NOYW1lPVwiYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImJpIGJpLWVudmVsb3BlIG1lLTJcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgIEVudmlhciBFbWFpbFxuICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgPGEgaHJlZj17YHRlbDoke2xlYWQucGhvbmV9YH0gY2xhc3NOYW1lPVwiYnRuIGJ0bi1vdXRsaW5lLXN1Y2Nlc3MgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImJpIGJpLXRlbGVwaG9uZSBtZS0yXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICBMaWdhciBwYXJhIExlYWRcbiAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIvd2hhdHNhcHBcIiBjbGFzc05hbWU9XCJidG4gYnRuLW91dGxpbmUtc3VjY2VzcyBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiYmkgYmktd2hhdHNhcHAgbWUtMlwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgQWJyaXIgV2hhdHNBcHBcbiAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIExlYWQgU3RhdHMgQ2FyZCAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtaGVhZGVyIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJiaSBiaS1ncmFwaC11cCBtZS0yXCIgc3R5bGU9e3sgY29sb3I6ICcjN2U1N2MyJyB9fT48L2k+XG4gICAgICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cIm1iLTBcIj5Fc3RhdMOtc3RpY2FzPC9oNT5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWZsZXggZmxleC1jb2x1bW4gZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWNpcmNsZVwiIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogJ3JnYmEoNjYsIDE2NSwgMjQ1LCAwLjEpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImJpIGJpLWV5ZVwiIHN0eWxlPXt7IGNvbG9yOiAnIzQyYTVmNScgfX0+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlZpc3VhbGl6YcOnw7Vlczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJhZGdlIGJnLWluZm8gcm91bmRlZC1waWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2xlYWRFdmVudHMuZmlsdGVyKGUgPT4gZS5ldmVudF90eXBlID09PSAncGFnZV92aWV3JykubGVuZ3RofVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWNpcmNsZVwiIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMTAyLCAxODcsIDEwNiwgMC4xKScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJiaSBiaS13aGF0c2FwcFwiIHN0eWxlPXt7IGNvbG9yOiAnIzY2YmI2YScgfX0+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPldoYXRzQXBwPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYmFkZ2UgYmctc3VjY2VzcyByb3VuZGVkLXBpbGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7bGVhZEV2ZW50cy5maWx0ZXIoZSA9PiBlLmV2ZW50X3R5cGUgPT09ICd3aGF0c2FwcF9tZXNzYWdlJykubGVuZ3RofVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWNpcmNsZVwiIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMjU1LCAxODMsIDc3LCAwLjEpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImJpIGJpLWVudmVsb3BlXCIgc3R5bGU9e3sgY29sb3I6ICcjZmZiNzRkJyB9fT48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+RW1haWxzPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYmFkZ2UgYmctd2FybmluZyByb3VuZGVkLXBpbGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7bGVhZEV2ZW50cy5maWx0ZXIoZSA9PiBlLmV2ZW50X3R5cGUuaW5jbHVkZXMoJ2VtYWlsJykpLmxlbmd0aH1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1jaXJjbGVcIiBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDIzOSwgODMsIDgwLCAwLjEpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImJpIGJpLXRlbGVwaG9uZVwiIHN0eWxlPXt7IGNvbG9yOiAnI2VmNTM1MCcgfX0+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkNoYW1hZGFzPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYmFkZ2UgYmctZGFuZ2VyIHJvdW5kZWQtcGlsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtsZWFkRXZlbnRzLmZpbHRlcihlID0+IGUuZXZlbnRfdHlwZSA9PT0gJ2NhbGwnKS5sZW5ndGh9XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogTGVhZCBFdmVudHMgVGltZWxpbmUgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1oZWFkZXIgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiYmkgYmktY2xvY2staGlzdG9yeSBtZS0yXCIgc3R5bGU9e3sgY29sb3I6ICcjN2U1N2MyJyB9fT48L2k+XG4gICAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwibWItMFwiPkxpbmhhIGRvIFRlbXBvIGRlIEF0aXZpZGFkZXM8L2g1PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1ib2R5IHAtMCBwLW1kLTNcIj5cbiAgICAgICAgICAgIHtldmVudHNFcnJvciA/IChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbGVydCBhbGVydC13YXJuaW5nIG0tM1wiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImJpIGJpLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlIG1lLTJcIj48L2k+XG4gICAgICAgICAgICAgICAge2V2ZW50c0Vycm9yfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxMZWFkRXZlbnRUaW1lbGluZSBldmVudHM9e2xlYWRFdmVudHN9IGxvYWRpbmc9e2V2ZW50c0xvYWRpbmd9IC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHshZXZlbnRzTG9hZGluZyAmJiBsZWFkRXZlbnRzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWZvb3RlciBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tc20gYnRuLWxpZ2h0XCI+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiYmkgYmktZG93bmxvYWQgbWUtMlwiPjwvaT5cbiAgICAgICAgICAgICAgICBFeHBvcnRhciBEYWRvcyBkZSBBdGl2aWRhZGVcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvTGF5b3V0PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTGVhZERldGFpbFBhZ2U7Il0sIm5hbWVzIjpbInVzZVJvdXRlciIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiTGF5b3V0IiwidXNlQXV0aCIsImxlYWRzQXBpIiwidXNlUmVhbHRpbWUiLCJMaW5rIiwiTGVhZEV2ZW50VGltZWxpbmUiLCJMZWFkV2hhdHNBcHBDaGF0IiwiTGVhZERldGFpbFBhZ2UiLCJyb3V0ZXIiLCJpZCIsInF1ZXJ5IiwiaXNBdXRoZW50aWNhdGVkIiwibG9hZGluZyIsImxlYWQiLCJzZXRMZWFkIiwibGVhZEV2ZW50cyIsInNldExlYWRFdmVudHMiLCJmZXRjaExvYWRpbmciLCJzZXRGZXRjaExvYWRpbmciLCJldmVudHNMb2FkaW5nIiwic2V0RXZlbnRzTG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJldmVudHNFcnJvciIsInNldEV2ZW50c0Vycm9yIiwiaXNDb25uZWN0ZWQiLCJzdWJzY3JpYmVUb0xlYWRzIiwidW5zdWJzY3JpYmVGcm9tTGVhZHMiLCJoYXNSZWFsVGltZVVwZGF0ZXMiLCJzZXRIYXNSZWFsVGltZVVwZGF0ZXMiLCJwdXNoIiwiYXNQYXRoIiwiZmV0Y2hMZWFkIiwiQXJyYXkiLCJpc0FycmF5IiwicmVzcG9uc2UiLCJnZXRMZWFkIiwic3VjY2VzcyIsImRhdGEiLCJlcnIiLCJjb25zb2xlIiwiZmV0Y2hMZWFkRXZlbnRzIiwiZ2V0TGVhZEV2ZW50cyIsImV2ZW50cyIsInNvcnRlZEV2ZW50cyIsInNvcnQiLCJhIiwiYiIsIkRhdGUiLCJjcmVhdGVkX2F0IiwiZ2V0VGltZSIsImhhbmRsZUxlYWRFdmVudCIsImV2ZW50IiwibmV3IiwidGhlbiIsIm9sZCIsImdldFN0YXR1c0JhZGdlQ29sb3IiLCJzdGF0dXMiLCJnZXRTdGF0dXNEaXNwbGF5TmFtZSIsImRpdiIsImNsYXNzTmFtZSIsInJvbGUiLCJzdHlsZSIsImNvbG9yIiwic3BhbiIsInAiLCJpIiwiaDMiLCJocmVmIiwiYmFja2dyb3VuZENvbG9yIiwiaDEiLCJuYW1lIiwiaDUiLCJoNiIsImVtYWlsIiwicGhvbmUiLCJ0b0xvY2FsZVN0cmluZyIsInVwZGF0ZWRfYXQiLCJub3RlcyIsIndoaXRlU3BhY2UiLCJmaWx0ZXIiLCJlIiwiZXZlbnRfdHlwZSIsImxlbmd0aCIsImluY2x1ZGVzIiwiYnV0dG9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/leads/[id].tsx\n");

/***/ }),

/***/ "./src/api/auth.ts":
/*!*************************!*\
  !*** ./src/api/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authApi: () => (/* binding */ authApi),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./client */ \"./src/api/client.ts\");\n\nconst authApi = {\n    /**\n   * Login user\n   */ login: async (email, password)=>{\n        const response = await _client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"/auth/login\", {\n            email,\n            password\n        });\n        // Store token if login successful\n        if (response.success && response.data?.token) {\n            _client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setToken(response.data.token);\n        }\n        return response;\n    },\n    /**\n   * Register a new user\n   */ register: async (email, password, name)=>{\n        return await _client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"/auth/register\", {\n            email,\n            password,\n            name\n        });\n    },\n    /**\n   * Verify the current token\n   */ verifyToken: async ()=>{\n        const token = _client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getToken();\n        if (!token) {\n            return {\n                success: false,\n                error: \"No token available\",\n                statusCode: 401\n            };\n        }\n        return await _client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"/auth/verify\", {\n            token\n        });\n    },\n    /**\n   * Get current user\n   */ getCurrentUser: async ()=>{\n        return await _client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(\"/auth/user\");\n    },\n    /**\n   * Logout user\n   */ logout: ()=>{\n        _client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].clearToken();\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (authApi);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2F1dGgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWlDO0FBRzFCLE1BQU1DLFVBQVU7SUFDckI7O0dBRUMsR0FDREMsT0FBTyxPQUFPQyxPQUFlQztRQUMzQixNQUFNQyxXQUFXLE1BQU1MLG9EQUFjLENBQWUsZUFBZTtZQUFFRztZQUFPQztRQUFTO1FBRXJGLGtDQUFrQztRQUNsQyxJQUFJQyxTQUFTRSxPQUFPLElBQUlGLFNBQVNHLElBQUksRUFBRUMsT0FBTztZQUM1Q1Qsd0RBQWtCLENBQUNLLFNBQVNHLElBQUksQ0FBQ0MsS0FBSztRQUN4QztRQUVBLE9BQU9KO0lBQ1Q7SUFFQTs7R0FFQyxHQUNETSxVQUFVLE9BQU9SLE9BQWVDLFVBQWtCUTtRQUNoRCxPQUFPLE1BQU1aLG9EQUFjLENBQWUsa0JBQWtCO1lBQUVHO1lBQU9DO1lBQVVRO1FBQUs7SUFDdEY7SUFFQTs7R0FFQyxHQUNEQyxhQUFhO1FBQ1gsTUFBTUosUUFBUVQsd0RBQWtCO1FBRWhDLElBQUksQ0FBQ1MsT0FBTztZQUNWLE9BQU87Z0JBQ0xGLFNBQVM7Z0JBQ1RRLE9BQU87Z0JBQ1BDLFlBQVk7WUFDZDtRQUNGO1FBRUEsT0FBTyxNQUFNaEIsb0RBQWMsQ0FBaUMsZ0JBQWdCO1lBQUVTO1FBQU07SUFDdEY7SUFFQTs7R0FFQyxHQUNEUSxnQkFBZ0I7UUFDZCxPQUFPLE1BQU1qQixtREFBYSxDQUFpQjtJQUM3QztJQUVBOztHQUVDLEdBQ0RtQixRQUFRO1FBQ05uQiwwREFBb0I7SUFDdEI7QUFDRixFQUFFO0FBRUYsaUVBQWVDLE9BQU9BLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL3NyYy9hcGkvYXV0aC50cz85YzgzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhcGlDbGllbnQgZnJvbSAnLi9jbGllbnQnO1xuaW1wb3J0IHsgQXBpUmVzcG9uc2UsIEF1dGhSZXNwb25zZSwgVXNlciB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuXG5leHBvcnQgY29uc3QgYXV0aEFwaSA9IHtcbiAgLyoqXG4gICAqIExvZ2luIHVzZXJcbiAgICovXG4gIGxvZ2luOiBhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8QXV0aFJlc3BvbnNlPj4gPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LnBvc3Q8QXV0aFJlc3BvbnNlPignL2F1dGgvbG9naW4nLCB7IGVtYWlsLCBwYXNzd29yZCB9KTtcbiAgICBcbiAgICAvLyBTdG9yZSB0b2tlbiBpZiBsb2dpbiBzdWNjZXNzZnVsXG4gICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgJiYgcmVzcG9uc2UuZGF0YT8udG9rZW4pIHtcbiAgICAgIGFwaUNsaWVudC5zZXRUb2tlbihyZXNwb25zZS5kYXRhLnRva2VuKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9LFxuICBcbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgbmV3IHVzZXJcbiAgICovXG4gIHJlZ2lzdGVyOiBhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZywgbmFtZTogc3RyaW5nKTogUHJvbWlzZTxBcGlSZXNwb25zZTxBdXRoUmVzcG9uc2U+PiA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IGFwaUNsaWVudC5wb3N0PEF1dGhSZXNwb25zZT4oJy9hdXRoL3JlZ2lzdGVyJywgeyBlbWFpbCwgcGFzc3dvcmQsIG5hbWUgfSk7XG4gIH0sXG4gIFxuICAvKipcbiAgICogVmVyaWZ5IHRoZSBjdXJyZW50IHRva2VuXG4gICAqL1xuICB2ZXJpZnlUb2tlbjogYXN5bmMgKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8eyB2YWxpZDogYm9vbGVhbjsgdXNlcjogVXNlciB9Pj4gPT4ge1xuICAgIGNvbnN0IHRva2VuID0gYXBpQ2xpZW50LmdldFRva2VuKCk7XG4gICAgXG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnTm8gdG9rZW4gYXZhaWxhYmxlJyxcbiAgICAgICAgc3RhdHVzQ29kZTogNDAxXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gYXdhaXQgYXBpQ2xpZW50LnBvc3Q8eyB2YWxpZDogYm9vbGVhbjsgdXNlcjogVXNlciB9PignL2F1dGgvdmVyaWZ5JywgeyB0b2tlbiB9KTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCB1c2VyXG4gICAqL1xuICBnZXRDdXJyZW50VXNlcjogYXN5bmMgKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8eyB1c2VyOiBVc2VyIH0+PiA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IGFwaUNsaWVudC5nZXQ8eyB1c2VyOiBVc2VyIH0+KCcvYXV0aC91c2VyJyk7XG4gIH0sXG4gIFxuICAvKipcbiAgICogTG9nb3V0IHVzZXJcbiAgICovXG4gIGxvZ291dDogKCk6IHZvaWQgPT4ge1xuICAgIGFwaUNsaWVudC5jbGVhclRva2VuKCk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGF1dGhBcGk7Il0sIm5hbWVzIjpbImFwaUNsaWVudCIsImF1dGhBcGkiLCJsb2dpbiIsImVtYWlsIiwicGFzc3dvcmQiLCJyZXNwb25zZSIsInBvc3QiLCJzdWNjZXNzIiwiZGF0YSIsInRva2VuIiwic2V0VG9rZW4iLCJyZWdpc3RlciIsIm5hbWUiLCJ2ZXJpZnlUb2tlbiIsImdldFRva2VuIiwiZXJyb3IiLCJzdGF0dXNDb2RlIiwiZ2V0Q3VycmVudFVzZXIiLCJnZXQiLCJsb2dvdXQiLCJjbGVhclRva2VuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/auth.ts\n");

/***/ }),

/***/ "./src/api/client.ts":
/*!***************************!*\
  !*** ./src/api/client.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ApiClient: () => (/* binding */ ApiClient),\n/* harmony export */   apiClient: () => (/* binding */ apiClient),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst API_URL = \"http://localhost:9032/api\" || 0;\n/**\n * API client for making requests to the backend\n */ class ApiClient {\n    /**\n   * Set the authentication token\n   */ setToken(token) {\n        this.token = token;\n        // Store token in localStorage for persistence\n        if (false) {}\n    }\n    /**\n   * Get the authentication token\n   */ getToken() {\n        // Try to get from instance, then from localStorage\n        if (!this.token && \"undefined\" !== \"undefined\") {}\n        return this.token;\n    }\n    /**\n   * Clear the authentication token\n   */ clearToken() {\n        this.token = null;\n        if (false) {}\n    }\n    /**\n   * Make a GET request\n   */ async get(path, params) {\n        const url = new URL(`${API_URL}${path}`);\n        // Add query parameters\n        if (params) {\n            Object.entries(params).forEach(([key, value])=>{\n                if (value !== undefined && value !== null) {\n                    url.searchParams.append(key, String(value));\n                }\n            });\n        }\n        const response = await fetch(url.toString(), {\n            method: \"GET\",\n            headers: this.getHeaders()\n        });\n        return this.handleResponse(response);\n    }\n    /**\n   * Make a POST request\n   */ async post(path, data) {\n        const response = await fetch(`${API_URL}${path}`, {\n            method: \"POST\",\n            headers: this.getHeaders(),\n            body: data ? JSON.stringify(data) : undefined\n        });\n        return this.handleResponse(response);\n    }\n    /**\n   * Make a PUT request\n   */ async put(path, data) {\n        // Log para debug\n        console.log(`PUT request to: ${API_URL}${path}`);\n        console.log(\"Data being sent:\", data);\n        console.log(\"JSON data:\", data ? JSON.stringify(data) : \"undefined\");\n        const response = await fetch(`${API_URL}${path}`, {\n            method: \"PUT\",\n            headers: this.getHeaders(),\n            body: data ? JSON.stringify(data) : undefined\n        });\n        // Log para debug\n        console.log(\"Response status:\", response.status);\n        return this.handleResponse(response);\n    }\n    /**\n   * Make a DELETE request\n   */ async delete(path) {\n        const response = await fetch(`${API_URL}${path}`, {\n            method: \"DELETE\",\n            headers: this.getHeaders()\n        });\n        return this.handleResponse(response);\n    }\n    /**\n   * Get headers for API requests\n   */ getHeaders() {\n        const headers = {\n            \"Content-Type\": \"application/json\"\n        };\n        const token = this.getToken();\n        if (token) {\n            headers[\"Authorization\"] = `Bearer ${token}`;\n        }\n        return headers;\n    }\n    /**\n   * Handle API response\n   */ async handleResponse(response) {\n        try {\n            // Log para debug\n            console.log(\"Response status before parsing:\", response.status);\n            const responseText = await response.text();\n            console.log(\"Response text:\", responseText);\n            // Parse texto para JSON\n            let data;\n            try {\n                data = JSON.parse(responseText);\n                console.log(\"Parsed data:\", data);\n            } catch (e) {\n                console.error(\"Error parsing JSON:\", e);\n                return {\n                    success: false,\n                    error: \"Invalid JSON response: \" + responseText.substring(0, 100) + \"...\",\n                    statusCode: response.status\n                };\n            }\n            // If the response is not in the expected format, normalize it\n            if (data.success === undefined) {\n                return {\n                    success: response.ok,\n                    data: response.ok ? data : undefined,\n                    error: response.ok ? undefined : data.message || \"Unknown error\",\n                    statusCode: response.status\n                };\n            }\n            return data;\n        } catch (e) {\n            console.error(\"Error in handleResponse:\", e);\n            return {\n                success: false,\n                error: \"Error processing response: \" + String(e),\n                statusCode: response.status || 500\n            };\n        }\n    }\n    constructor(){\n        this.token = null;\n    }\n}\n// Create a singleton instance\nconst apiClient = new ApiClient();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (apiClient);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU9xQjtnQkFDOUNJLFlBQVl4QixTQUFTZSxNQUFNLElBQUk7WUFDakM7UUFDRjtJQUNGOzthQW5LUXBDLFFBQXVCOztBQW9LakM7QUFFQSw4QkFBOEI7QUFDdkIsTUFBTWdELFlBQVksSUFBSWxELFlBQVk7QUFFekMsaUVBQWVrRCxTQUFTQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9zcmMvYXBpL2NsaWVudC50cz81OTY1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwaVJlc3BvbnNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5cbmNvbnN0IEFQSV9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjkwMzIvYXBpJztcblxuLyoqXG4gKiBBUEkgY2xpZW50IGZvciBtYWtpbmcgcmVxdWVzdHMgdG8gdGhlIGJhY2tlbmRcbiAqL1xuZXhwb3J0IGNsYXNzIEFwaUNsaWVudCB7XG4gIHByaXZhdGUgdG9rZW46IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGF1dGhlbnRpY2F0aW9uIHRva2VuXG4gICAqL1xuICBzZXRUb2tlbih0b2tlbjogc3RyaW5nKSB7XG4gICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIFxuICAgIC8vIFN0b3JlIHRva2VuIGluIGxvY2FsU3RvcmFnZSBmb3IgcGVyc2lzdGVuY2VcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhdXRoX3Rva2VuJywgdG9rZW4pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGF1dGhlbnRpY2F0aW9uIHRva2VuXG4gICAqL1xuICBnZXRUb2tlbigpOiBzdHJpbmcgfCBudWxsIHtcbiAgICAvLyBUcnkgdG8gZ2V0IGZyb20gaW5zdGFuY2UsIHRoZW4gZnJvbSBsb2NhbFN0b3JhZ2VcbiAgICBpZiAoIXRoaXMudG9rZW4gJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMudG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aF90b2tlbicpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50b2tlbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciB0aGUgYXV0aGVudGljYXRpb24gdG9rZW5cbiAgICovXG4gIGNsZWFyVG9rZW4oKSB7XG4gICAgdGhpcy50b2tlbiA9IG51bGw7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYXV0aF90b2tlbicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIGEgR0VUIHJlcXVlc3RcbiAgICovXG4gIGFzeW5jIGdldDxUPihwYXRoOiBzdHJpbmcsIHBhcmFtcz86IFJlY29yZDxzdHJpbmcsIGFueT4pOiBQcm9taXNlPEFwaVJlc3BvbnNlPFQ+PiB7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChgJHtBUElfVVJMfSR7cGF0aH1gKTtcbiAgICBcbiAgICAvLyBBZGQgcXVlcnkgcGFyYW1ldGVyc1xuICAgIGlmIChwYXJhbXMpIHtcbiAgICAgIE9iamVjdC5lbnRyaWVzKHBhcmFtcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCBTdHJpbmcodmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLnRvU3RyaW5nKCksIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLmdldEhlYWRlcnMoKSxcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gdGhpcy5oYW5kbGVSZXNwb25zZTxUPihyZXNwb25zZSk7XG4gIH1cblxuICAvKipcbiAgICogTWFrZSBhIFBPU1QgcmVxdWVzdFxuICAgKi9cbiAgYXN5bmMgcG9zdDxUPihwYXRoOiBzdHJpbmcsIGRhdGE/OiBhbnkpOiBQcm9taXNlPEFwaVJlc3BvbnNlPFQ+PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfVVJMfSR7cGF0aH1gLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuZ2V0SGVhZGVycygpLFxuICAgICAgYm9keTogZGF0YSA/IEpTT04uc3RyaW5naWZ5KGRhdGEpIDogdW5kZWZpbmVkLFxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiB0aGlzLmhhbmRsZVJlc3BvbnNlPFQ+KHJlc3BvbnNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIGEgUFVUIHJlcXVlc3RcbiAgICovXG4gIGFzeW5jIHB1dDxUPihwYXRoOiBzdHJpbmcsIGRhdGE/OiBhbnkpOiBQcm9taXNlPEFwaVJlc3BvbnNlPFQ+PiB7XG4gICAgLy8gTG9nIHBhcmEgZGVidWdcbiAgICBjb25zb2xlLmxvZyhgUFVUIHJlcXVlc3QgdG86ICR7QVBJX1VSTH0ke3BhdGh9YCk7XG4gICAgY29uc29sZS5sb2coJ0RhdGEgYmVpbmcgc2VudDonLCBkYXRhKTtcbiAgICBjb25zb2xlLmxvZygnSlNPTiBkYXRhOicsIGRhdGEgPyBKU09OLnN0cmluZ2lmeShkYXRhKSA6ICd1bmRlZmluZWQnKTtcbiAgICBcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9VUkx9JHtwYXRofWAsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLmdldEhlYWRlcnMoKSxcbiAgICAgIGJvZHk6IGRhdGEgPyBKU09OLnN0cmluZ2lmeShkYXRhKSA6IHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgICBcbiAgICAvLyBMb2cgcGFyYSBkZWJ1Z1xuICAgIGNvbnNvbGUubG9nKCdSZXNwb25zZSBzdGF0dXM6JywgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICBcbiAgICByZXR1cm4gdGhpcy5oYW5kbGVSZXNwb25zZTxUPihyZXNwb25zZSk7XG4gIH1cblxuICAvKipcbiAgICogTWFrZSBhIERFTEVURSByZXF1ZXN0XG4gICAqL1xuICBhc3luYyBkZWxldGU8VD4ocGF0aDogc3RyaW5nKTogUHJvbWlzZTxBcGlSZXNwb25zZTxUPj4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX1VSTH0ke3BhdGh9YCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuZ2V0SGVhZGVycygpLFxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiB0aGlzLmhhbmRsZVJlc3BvbnNlPFQ+KHJlc3BvbnNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgaGVhZGVycyBmb3IgQVBJIHJlcXVlc3RzXG4gICAqL1xuICBwcml2YXRlIGdldEhlYWRlcnMoKTogSGVhZGVyc0luaXQge1xuICAgIGNvbnN0IGhlYWRlcnM6IEhlYWRlcnNJbml0ID0ge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHRva2VuID0gdGhpcy5nZXRUb2tlbigpO1xuICAgIGlmICh0b2tlbikge1xuICAgICAgaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gYEJlYXJlciAke3Rva2VufWA7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBoZWFkZXJzO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBBUEkgcmVzcG9uc2VcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlUmVzcG9uc2U8VD4ocmVzcG9uc2U6IFJlc3BvbnNlKTogUHJvbWlzZTxBcGlSZXNwb25zZTxUPj4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBMb2cgcGFyYSBkZWJ1Z1xuICAgICAgY29uc29sZS5sb2coJ1Jlc3BvbnNlIHN0YXR1cyBiZWZvcmUgcGFyc2luZzonLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgY29uc3QgcmVzcG9uc2VUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgY29uc29sZS5sb2coJ1Jlc3BvbnNlIHRleHQ6JywgcmVzcG9uc2VUZXh0KTtcbiAgICAgIFxuICAgICAgLy8gUGFyc2UgdGV4dG8gcGFyYSBKU09OXG4gICAgICBsZXQgZGF0YTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlVGV4dCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdQYXJzZWQgZGF0YTonLCBkYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBKU09OOicsIGUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiAnSW52YWxpZCBKU09OIHJlc3BvbnNlOiAnICsgcmVzcG9uc2VUZXh0LnN1YnN0cmluZygwLCAxMDApICsgJy4uLicsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIElmIHRoZSByZXNwb25zZSBpcyBub3QgaW4gdGhlIGV4cGVjdGVkIGZvcm1hdCwgbm9ybWFsaXplIGl0XG4gICAgICBpZiAoZGF0YS5zdWNjZXNzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiByZXNwb25zZS5vayxcbiAgICAgICAgICBkYXRhOiByZXNwb25zZS5vayA/IGRhdGEgOiB1bmRlZmluZWQsXG4gICAgICAgICAgZXJyb3I6IHJlc3BvbnNlLm9rID8gdW5kZWZpbmVkIDogZGF0YS5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJyxcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGhhbmRsZVJlc3BvbnNlOicsIGUpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnRXJyb3IgcHJvY2Vzc2luZyByZXNwb25zZTogJyArIFN0cmluZyhlKSxcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzIHx8IDUwMFxuICAgICAgfTtcbiAgICB9XG4gIH1cbn1cblxuLy8gQ3JlYXRlIGEgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgYXBpQ2xpZW50ID0gbmV3IEFwaUNsaWVudCgpO1xuXG5leHBvcnQgZGVmYXVsdCBhcGlDbGllbnQ7Il0sIm5hbWVzIjpbIkFQSV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsIkFwaUNsaWVudCIsInNldFRva2VuIiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiZ2V0VG9rZW4iLCJnZXRJdGVtIiwiY2xlYXJUb2tlbiIsInJlbW92ZUl0ZW0iLCJnZXQiLCJwYXRoIiwicGFyYW1zIiwidXJsIiwiVVJMIiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJrZXkiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsInNlYXJjaFBhcmFtcyIsImFwcGVuZCIsIlN0cmluZyIsInJlc3BvbnNlIiwiZmV0Y2giLCJ0b1N0cmluZyIsIm1ldGhvZCIsImhlYWRlcnMiLCJnZXRIZWFkZXJzIiwiaGFuZGxlUmVzcG9uc2UiLCJwb3N0IiwiZGF0YSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicHV0IiwiY29uc29sZSIsImxvZyIsInN0YXR1cyIsImRlbGV0ZSIsInJlc3BvbnNlVGV4dCIsInRleHQiLCJwYXJzZSIsImUiLCJlcnJvciIsInN1Y2Nlc3MiLCJzdWJzdHJpbmciLCJzdGF0dXNDb2RlIiwib2siLCJtZXNzYWdlIiwiYXBpQ2xpZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/client.ts\n");

/***/ }),

/***/ "./src/api/leads.ts":
/*!**************************!*\
  !*** ./src/api/leads.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   leadsApi: () => (/* binding */ leadsApi)\n/* harmony export */ });\n/* harmony import */ var _client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./client */ \"./src/api/client.ts\");\n\nconst leadsApi = {\n    /**\n   * Get all leads\n   */ getLeads: async (params)=>{\n        return await _client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(\"/leads\", params);\n    },\n    /**\n   * Get a lead by ID\n   */ getLead: async (id)=>{\n        return await _client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`/leads/${id}`);\n    },\n    /**\n   * Get lead events\n   */ getLeadEvents: async (id)=>{\n        return await _client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`/leads/${id}/events-list`);\n    },\n    /**\n   * Capture a new lead\n   */ captureLead: async (data)=>{\n        return await _client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"/leads\", data);\n    },\n    /**\n   * Update a lead's status\n   */ updateLeadStatus: async (id, data)=>{\n        return await _client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].put(`/leads/${id}/status`, data);\n    },\n    /**\n   * Update a lead (full update)\n   */ updateLead: async (id, data)=>{\n        return await _client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].put(`/leads/${id}`, data);\n    },\n    /**\n   * Get lead statistics\n   */ getLeadStats: async (params)=>{\n        return await _client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(\"/leads/stats\", params);\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (leadsApi);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2xlYWRzLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpQztBQUcxQixNQUFNQyxXQUFXO0lBQ3RCOztHQUVDLEdBQ0RDLFVBQVUsT0FBT0M7UUFDZixPQUFPLE1BQU1ILG1EQUFhLENBQWdCLFVBQVVHO0lBQ3REO0lBRUE7O0dBRUMsR0FDREUsU0FBUyxPQUFPQztRQUNkLE9BQU8sTUFBTU4sbURBQWEsQ0FBZSxDQUFDLE9BQU8sRUFBRU0sR0FBRyxDQUFDO0lBQ3pEO0lBRUE7O0dBRUMsR0FDREMsZUFBZSxPQUFPRDtRQUNwQixPQUFPLE1BQU1OLG1EQUFhLENBQXFCLENBQUMsT0FBTyxFQUFFTSxHQUFHLFlBQVksQ0FBQztJQUMzRTtJQUVBOztHQUVDLEdBQ0RFLGFBQWEsT0FBT0M7UUFhbEIsT0FBTyxNQUFNVCxvREFBYyxDQUFlLFVBQVVTO0lBQ3REO0lBRUE7O0dBRUMsR0FDREUsa0JBQWtCLE9BQ2hCTCxJQUNBRztRQVVBLE9BQU8sTUFBTVQsbURBQWEsQ0FBTSxDQUFDLE9BQU8sRUFBRU0sR0FBRyxPQUFPLENBQUMsRUFBRUc7SUFDekQ7SUFFQTs7R0FFQyxHQUNESSxZQUFZLE9BQ1ZQLElBQ0FHO1FBWUEsT0FBTyxNQUFNVCxtREFBYSxDQUFNLENBQUMsT0FBTyxFQUFFTSxHQUFHLENBQUMsRUFBRUc7SUFDbEQ7SUFFQTs7R0FFQyxHQUNESyxjQUFjLE9BQU9YO1FBSW5CLE9BQU8sTUFBTUgsbURBQWEsQ0FBb0IsZ0JBQWdCRztJQUNoRTtBQUNGLEVBQUU7QUFFRixpRUFBZUYsUUFBUUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vc3JjL2FwaS9sZWFkcy50cz81OTBiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhcGlDbGllbnQgZnJvbSAnLi9jbGllbnQnO1xuaW1wb3J0IHsgQXBpUmVzcG9uc2UsIExlYWRzUmVzcG9uc2UsIExlYWRSZXNwb25zZSwgTGVhZFN0YXRzUmVzcG9uc2UsIExlYWRFdmVudHNSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuXG5leHBvcnQgY29uc3QgbGVhZHNBcGkgPSB7XG4gIC8qKlxuICAgKiBHZXQgYWxsIGxlYWRzXG4gICAqL1xuICBnZXRMZWFkczogYXN5bmMgKHBhcmFtcz86IHsgcHJvamVjdF9pZD86IHN0cmluZzsgZW1haWw/OiBzdHJpbmcgfSk6IFByb21pc2U8QXBpUmVzcG9uc2U8TGVhZHNSZXNwb25zZT4+ID0+IHtcbiAgICByZXR1cm4gYXdhaXQgYXBpQ2xpZW50LmdldDxMZWFkc1Jlc3BvbnNlPignL2xlYWRzJywgcGFyYW1zKTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBHZXQgYSBsZWFkIGJ5IElEXG4gICAqL1xuICBnZXRMZWFkOiBhc3luYyAoaWQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8TGVhZFJlc3BvbnNlPj4gPT4ge1xuICAgIHJldHVybiBhd2FpdCBhcGlDbGllbnQuZ2V0PExlYWRSZXNwb25zZT4oYC9sZWFkcy8ke2lkfWApO1xuICB9LFxuICBcbiAgLyoqXG4gICAqIEdldCBsZWFkIGV2ZW50c1xuICAgKi9cbiAgZ2V0TGVhZEV2ZW50czogYXN5bmMgKGlkOiBzdHJpbmcpOiBQcm9taXNlPEFwaVJlc3BvbnNlPExlYWRFdmVudHNSZXNwb25zZT4+ID0+IHtcbiAgICByZXR1cm4gYXdhaXQgYXBpQ2xpZW50LmdldDxMZWFkRXZlbnRzUmVzcG9uc2U+KGAvbGVhZHMvJHtpZH0vZXZlbnRzLWxpc3RgKTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBDYXB0dXJlIGEgbmV3IGxlYWRcbiAgICovXG4gIGNhcHR1cmVMZWFkOiBhc3luYyAoZGF0YToge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIHBob25lOiBzdHJpbmc7XG4gICAgcHJvamVjdF9pZDogc3RyaW5nO1xuICAgIGZpcnN0X25hbWU/OiBzdHJpbmc7XG4gICAgbm90ZXM/OiBzdHJpbmc7XG4gICAgdXRtX3NvdXJjZT86IHN0cmluZztcbiAgICB1dG1fbWVkaXVtPzogc3RyaW5nO1xuICAgIHV0bV9jYW1wYWlnbj86IHN0cmluZztcbiAgICB1dG1fdGVybT86IHN0cmluZztcbiAgICB1dG1fY29udGVudD86IHN0cmluZztcbiAgfSk6IFByb21pc2U8QXBpUmVzcG9uc2U8TGVhZFJlc3BvbnNlPj4gPT4ge1xuICAgIHJldHVybiBhd2FpdCBhcGlDbGllbnQucG9zdDxMZWFkUmVzcG9uc2U+KCcvbGVhZHMnLCBkYXRhKTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBVcGRhdGUgYSBsZWFkJ3Mgc3RhdHVzXG4gICAqL1xuICB1cGRhdGVMZWFkU3RhdHVzOiBhc3luYyAoXG4gICAgaWQ6IHN0cmluZywgXG4gICAgZGF0YTogeyBcbiAgICAgIHN0YXR1czogJ25vdm8nIHwgJ3F1YWxpZmljYWRvJyB8ICdjb250YXRhZG8nIHwgJ2NvbnZlcnRpZG8nIHwgJ2Rlc2lzdGl1JyB8ICdpbmF0aXZvJztcbiAgICAgIG5vdGVzPzogc3RyaW5nO1xuICAgIH1cbiAgKTogUHJvbWlzZTxBcGlSZXNwb25zZTx7IFxuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBsZWFkX2lkOiBzdHJpbmc7XG4gICAgcHJldmlvdXNfc3RhdHVzOiBzdHJpbmc7XG4gICAgbmV3X3N0YXR1czogc3RyaW5nO1xuICB9Pj4gPT4ge1xuICAgIHJldHVybiBhd2FpdCBhcGlDbGllbnQucHV0PGFueT4oYC9sZWFkcy8ke2lkfS9zdGF0dXNgLCBkYXRhKTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBVcGRhdGUgYSBsZWFkIChmdWxsIHVwZGF0ZSlcbiAgICovXG4gIHVwZGF0ZUxlYWQ6IGFzeW5jIChcbiAgICBpZDogc3RyaW5nLFxuICAgIGRhdGE6IHtcbiAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgIGZpcnN0X25hbWU6IHN0cmluZztcbiAgICAgIGVtYWlsOiBzdHJpbmc7XG4gICAgICBwaG9uZTogc3RyaW5nO1xuICAgICAgc3RhdHVzOiAnbm92bycgfCAncXVhbGlmaWNhZG8nIHwgJ2NvbnRhdGFkbycgfCAnY29udmVydGlkbycgfCAnZGVzaXN0aXUnIHwgJ2luYXRpdm8nO1xuICAgICAgbm90ZXM/OiBzdHJpbmc7XG4gICAgfVxuICApOiBQcm9taXNlPEFwaVJlc3BvbnNlPHtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgbGVhZDogYW55O1xuICB9Pj4gPT4ge1xuICAgIHJldHVybiBhd2FpdCBhcGlDbGllbnQucHV0PGFueT4oYC9sZWFkcy8ke2lkfWAsIGRhdGEpO1xuICB9LFxuICBcbiAgLyoqXG4gICAqIEdldCBsZWFkIHN0YXRpc3RpY3NcbiAgICovXG4gIGdldExlYWRTdGF0czogYXN5bmMgKHBhcmFtcz86IHsgXG4gICAgcHJvamVjdF9pZD86IHN0cmluZztcbiAgICBwZXJpb2Q/OiBudW1iZXI7XG4gIH0pOiBQcm9taXNlPEFwaVJlc3BvbnNlPExlYWRTdGF0c1Jlc3BvbnNlPj4gPT4ge1xuICAgIHJldHVybiBhd2FpdCBhcGlDbGllbnQuZ2V0PExlYWRTdGF0c1Jlc3BvbnNlPignL2xlYWRzL3N0YXRzJywgcGFyYW1zKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgbGVhZHNBcGk7Il0sIm5hbWVzIjpbImFwaUNsaWVudCIsImxlYWRzQXBpIiwiZ2V0TGVhZHMiLCJwYXJhbXMiLCJnZXQiLCJnZXRMZWFkIiwiaWQiLCJnZXRMZWFkRXZlbnRzIiwiY2FwdHVyZUxlYWQiLCJkYXRhIiwicG9zdCIsInVwZGF0ZUxlYWRTdGF0dXMiLCJwdXQiLCJ1cGRhdGVMZWFkIiwiZ2V0TGVhZFN0YXRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/leads.ts\n");

/***/ }),

/***/ "./src/api/whatsapp.ts":
/*!*****************************!*\
  !*** ./src/api/whatsapp.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   whatsappApi: () => (/* binding */ whatsappApi)\n/* harmony export */ });\n// API WhatsApp - precisamos apontar consistentemente para a porta 9029 \nconst getApiBaseUrl = ()=>{\n    // Em container Docker\n    if (process.env.NEXT_PUBLIC_USE_DOCKER === \"true\") {\n        return \"http://whatsapp-api:3000/api/whatsapp\";\n    }\n    // Em desenvolvimento local fora de container\n    return \"http://localhost:9029/api/whatsapp\";\n};\nconst whatsappApi = {\n    /**\n   * Get WhatsApp connection status\n   */ getStatus: async ()=>{\n        try {\n            const apiUrl = getApiBaseUrl();\n            console.log(`Fetching WhatsApp status from: ${apiUrl}/status`);\n            const response = await fetch(`${apiUrl}/status`);\n            const responseText = await response.text();\n            console.log(\"Status API raw response:\", responseText);\n            let json;\n            try {\n                json = JSON.parse(responseText);\n                console.log(\"Parsed WhatsApp status response:\", json);\n            } catch (parseError) {\n                console.error(\"Error parsing WhatsApp status response:\", parseError);\n                return {\n                    success: false,\n                    error: \"Erro ao processar resposta do status do WhatsApp\",\n                    statusCode: response.status\n                };\n            }\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: json.error || \"Erro ao buscar status do WhatsApp\",\n                    statusCode: response.status\n                };\n            }\n            // Extrair dados da resposta seguindo a estrutura do backend\n            const statusData = {\n                status: json.data?.status || \"disconnected\",\n                authenticated: json.data?.authenticated || false,\n                phoneNumber: json.data?.phoneNumber || null,\n                timestamp: json.data?.timestamp || new Date().toISOString()\n            };\n            console.log(\"Extracted WhatsApp status data:\", statusData);\n            return {\n                success: true,\n                data: statusData,\n                statusCode: json.statusCode || 200\n            };\n        } catch (error) {\n            console.error(\"Error fetching WhatsApp status:\", error);\n            return {\n                success: false,\n                error: \"Erro ao buscar status do WhatsApp\",\n                statusCode: 500\n            };\n        }\n    },\n    /**\n   * Get QR code for authentication\n   */ getQRCode: async ()=>{\n        try {\n            const apiUrl = getApiBaseUrl();\n            const response = await fetch(`${apiUrl}/qrcode`);\n            const json = await response.json();\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: json.error || \"QR Code n\\xe3o dispon\\xedvel\",\n                    statusCode: response.status\n                };\n            }\n            return {\n                success: true,\n                data: json.data,\n                statusCode: json.statusCode\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: \"Erro ao buscar QR code\",\n                statusCode: 500\n            };\n        }\n    },\n    /**\n   * Connect to WhatsApp\n   */ connect: async ()=>{\n        try {\n            const apiUrl = getApiBaseUrl();\n            const response = await fetch(`${apiUrl}/connect`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            const json = await response.json();\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: json.error || \"Erro ao conectar WhatsApp\",\n                    statusCode: response.status\n                };\n            }\n            return {\n                success: true,\n                data: json.data,\n                statusCode: json.statusCode\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: \"Erro ao conectar WhatsApp\",\n                statusCode: 500\n            };\n        }\n    },\n    /**\n   * Disconnect from WhatsApp\n   */ disconnect: async ()=>{\n        try {\n            const apiUrl = getApiBaseUrl();\n            const response = await fetch(`${apiUrl}/disconnect`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            const json = await response.json();\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: json.error || \"Erro ao desconectar WhatsApp\",\n                    statusCode: response.status\n                };\n            }\n            return {\n                success: true,\n                data: json.data,\n                statusCode: json.statusCode\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: \"Erro ao desconectar WhatsApp\",\n                statusCode: 500\n            };\n        }\n    },\n    /**\n   * Send WhatsApp message\n   */ sendMessage: async (number, message, lead_id)=>{\n        try {\n            console.log(\"Sending WhatsApp message:\", {\n                number,\n                messageLength: message.length,\n                lead_id\n            });\n            const apiUrl = getApiBaseUrl();\n            console.log(\"Using API URL:\", apiUrl);\n            const payload = {\n                phoneNumber: number,\n                message,\n                lead_id\n            };\n            console.log(\"Message payload (truncated):\", {\n                ...payload,\n                message: message.length > 50 ? message.substring(0, 50) + \"...\" : message\n            });\n            console.log(\"Sending POST request to:\", `${apiUrl}/send`);\n            const response = await fetch(`${apiUrl}/send`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(payload)\n            });\n            console.log(\"Response status:\", response.status);\n            // Get response data\n            let data;\n            const responseText = await response.text();\n            console.log(\"Response text:\", responseText);\n            try {\n                data = JSON.parse(responseText);\n                console.log(\"Parsed response data:\", data);\n            } catch (parseError) {\n                console.error(\"Error parsing response JSON:\", parseError);\n                return {\n                    success: false,\n                    error: `Invalid JSON response: ${responseText.substring(0, 100)}`,\n                    statusCode: response.status\n                };\n            }\n            if (!response.ok) {\n                console.error(\"Request failed:\", data);\n                return {\n                    success: false,\n                    error: data.error || `Erro ao enviar mensagem (${response.status})`,\n                    statusCode: response.status\n                };\n            }\n            return {\n                success: true,\n                data: data.data || data,\n                statusCode: response.status\n            };\n        } catch (error) {\n            console.error(\"Exception in sendMessage:\", error);\n            return {\n                success: false,\n                error: error instanceof Error ? `Erro: ${error.message}` : \"Erro ao enviar mensagem\",\n                statusCode: 500\n            };\n        }\n    },\n    /**\n   * Get all messages from all contacts\n   */ getMessages: async ()=>{\n        try {\n            const apiUrl = getApiBaseUrl();\n            const response = await fetch(`${apiUrl}/messages`);\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: \"Erro ao buscar mensagens\",\n                    statusCode: response.status\n                };\n            }\n            const data = await response.json();\n            return {\n                success: true,\n                data,\n                statusCode: 200\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: \"Erro ao buscar mensagens\",\n                statusCode: 500\n            };\n        }\n    },\n    /**\n   * Get messages from a specific contact\n   */ getContactMessages: async (number)=>{\n        try {\n            const apiUrl = getApiBaseUrl();\n            const response = await fetch(`${apiUrl}/messages/${number}`);\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: \"Erro ao buscar mensagens do contato\",\n                    statusCode: response.status\n                };\n            }\n            const data = await response.json();\n            return {\n                success: true,\n                data,\n                statusCode: 200\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: \"Erro ao buscar mensagens do contato\",\n                statusCode: 500\n            };\n        }\n    },\n    /**\n   * Clear all messages\n   */ clearMessages: async ()=>{\n        try {\n            const apiUrl = getApiBaseUrl();\n            const response = await fetch(`${apiUrl}/messages`, {\n                method: \"DELETE\"\n            });\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: \"Erro ao limpar mensagens\",\n                    statusCode: response.status\n                };\n            }\n            const data = await response.json();\n            return {\n                success: true,\n                data,\n                statusCode: 200\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: \"Erro ao limpar mensagens\",\n                statusCode: 500\n            };\n        }\n    },\n    /**\n   * Get QR code in plain text format\n   */ getQRCodePlain: async ()=>{\n        try {\n            const apiUrl = getApiBaseUrl();\n            const response = await fetch(`${apiUrl}/qrcode/plain`);\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: \"QR Code n\\xe3o dispon\\xedvel em formato de texto\",\n                    statusCode: response.status\n                };\n            }\n            const text = await response.text();\n            return {\n                success: true,\n                data: text,\n                statusCode: 200\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: \"Erro ao buscar QR code em texto\",\n                statusCode: 500\n            };\n        }\n    },\n    /**\n   * Get connected phone number\n   */ getPhone: async ()=>{\n        try {\n            const apiUrl = getApiBaseUrl();\n            const response = await fetch(`${apiUrl}/phone`);\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: \"Telefone n\\xe3o dispon\\xedvel ou desconectado\",\n                    statusCode: response.status\n                };\n            }\n            const data = await response.json();\n            return {\n                success: true,\n                data: data.data,\n                statusCode: 200\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: \"Erro ao buscar telefone\",\n                statusCode: 500\n            };\n        }\n    },\n    /**\n   * Mock authenticate (for testing without scanning QR)\n   */ mockAuthenticate: async ()=>{\n        try {\n            const apiUrl = getApiBaseUrl();\n            const response = await fetch(`${apiUrl}/mock/authenticate`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: \"Erro ao simular autentica\\xe7\\xe3o\",\n                    statusCode: response.status\n                };\n            }\n            const data = await response.json();\n            return {\n                success: true,\n                data: data.data,\n                statusCode: 200\n            };\n        } catch (error) {\n            return {\n                success: false,\n                error: \"Erro ao simular autentica\\xe7\\xe3o\",\n                statusCode: 500\n            };\n        }\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (whatsappApi);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RjtJQUNGO0FBQ0YsRUFBRTtBQUVGLGlFQUFlZixXQUFXQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9zcmMvYXBpL3doYXRzYXBwLnRzPzg1NTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFwaUNsaWVudCBmcm9tICcuL2NsaWVudCc7XG5pbXBvcnQgeyBBcGlSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuXG5pbnRlcmZhY2UgV2hhdHNBcHBTdGF0dXMge1xuICBzdGF0dXM6ICdkaXNjb25uZWN0ZWQnIHwgJ2luaXRpYWxpemluZycgfCAncXJfcmVjZWl2ZWQnIHwgJ2F1dGhlbnRpY2F0ZWQnIHwgJ2Nvbm5lY3RlZCcgfCAnZXJyb3InO1xuICB0aW1lc3RhbXA6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFFSQ29kZVJlc3BvbnNlIHtcbiAgcXJjb2RlOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBDb25uZWN0UmVzcG9uc2Uge1xuICBzdGF0dXM6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFNlbmRNZXNzYWdlUmVzcG9uc2Uge1xuICBzdWNjZXNzOiBib29sZWFuO1xuICB0bzogc3RyaW5nO1xuICBzdGF0dXM6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIE1lc3NhZ2Uge1xuICBib2R5OiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogc3RyaW5nO1xuICBpZDogc3RyaW5nO1xuICBmcm9tTWU6IGJvb2xlYW47XG4gIGZyb21PdGhlckRldmljZT86IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBNZXNzYWdlc1Jlc3BvbnNlIHtcbiAgbWVzc2FnZXM6IFJlY29yZDxzdHJpbmcsIE1lc3NhZ2VbXT47XG4gIHRvdGFsOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBDb250YWN0TWVzc2FnZXNSZXNwb25zZSB7XG4gIG51bWJlcjogc3RyaW5nO1xuICBtZXNzYWdlczogTWVzc2FnZVtdO1xufVxuXG4vLyBBUEkgV2hhdHNBcHAgLSBwcmVjaXNhbW9zIGFwb250YXIgY29uc2lzdGVudGVtZW50ZSBwYXJhIGEgcG9ydGEgOTAyOSBcbmNvbnN0IGdldEFwaUJhc2VVcmwgPSAoKTogc3RyaW5nID0+IHtcbiAgLy8gRW0gY29udGFpbmVyIERvY2tlclxuICBpZiAocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVVNFX0RPQ0tFUiA9PT0gJ3RydWUnKSB7XG4gICAgcmV0dXJuICdodHRwOi8vd2hhdHNhcHAtYXBpOjMwMDAvYXBpL3doYXRzYXBwJztcbiAgfVxuICAvLyBFbSBkZXNlbnZvbHZpbWVudG8gbG9jYWwgZm9yYSBkZSBjb250YWluZXJcbiAgcmV0dXJuICdodHRwOi8vbG9jYWxob3N0OjkwMjkvYXBpL3doYXRzYXBwJztcbn07XG5cbmludGVyZmFjZSBQaG9uZVJlc3BvbnNlIHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgcGhvbmVOdW1iZXI6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIE1vY2tBdXRoUmVzcG9uc2Uge1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBtZXNzYWdlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCB3aGF0c2FwcEFwaSA9IHtcbiAgLyoqXG4gICAqIEdldCBXaGF0c0FwcCBjb25uZWN0aW9uIHN0YXR1c1xuICAgKi9cbiAgZ2V0U3RhdHVzOiBhc3luYyAoKTogUHJvbWlzZTxBcGlSZXNwb25zZTxXaGF0c0FwcFN0YXR1cz4+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYXBpVXJsID0gZ2V0QXBpQmFzZVVybCgpO1xuICAgICAgY29uc29sZS5sb2coYEZldGNoaW5nIFdoYXRzQXBwIHN0YXR1cyBmcm9tOiAke2FwaVVybH0vc3RhdHVzYCk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2FwaVVybH0vc3RhdHVzYCk7XG4gICAgICBjb25zdCByZXNwb25zZVRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICBjb25zb2xlLmxvZygnU3RhdHVzIEFQSSByYXcgcmVzcG9uc2U6JywgcmVzcG9uc2VUZXh0KTtcbiAgICAgIFxuICAgICAgbGV0IGpzb247XG4gICAgICB0cnkge1xuICAgICAgICBqc29uID0gSlNPTi5wYXJzZShyZXNwb25zZVRleHQpO1xuICAgICAgICBjb25zb2xlLmxvZygnUGFyc2VkIFdoYXRzQXBwIHN0YXR1cyByZXNwb25zZTonLCBqc29uKTtcbiAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBXaGF0c0FwcCBzdGF0dXMgcmVzcG9uc2U6JywgcGFyc2VFcnJvcik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6ICdFcnJvIGFvIHByb2Nlc3NhciByZXNwb3N0YSBkbyBzdGF0dXMgZG8gV2hhdHNBcHAnLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1c1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IGpzb24uZXJyb3IgfHwgJ0Vycm8gYW8gYnVzY2FyIHN0YXR1cyBkbyBXaGF0c0FwcCcsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEV4dHJhaXIgZGFkb3MgZGEgcmVzcG9zdGEgc2VndWluZG8gYSBlc3RydXR1cmEgZG8gYmFja2VuZFxuICAgICAgY29uc3Qgc3RhdHVzRGF0YTogV2hhdHNBcHBTdGF0dXMgPSB7XG4gICAgICAgIHN0YXR1czoganNvbi5kYXRhPy5zdGF0dXMgfHwgJ2Rpc2Nvbm5lY3RlZCcsXG4gICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGpzb24uZGF0YT8uYXV0aGVudGljYXRlZCB8fCBmYWxzZSxcbiAgICAgICAgcGhvbmVOdW1iZXI6IGpzb24uZGF0YT8ucGhvbmVOdW1iZXIgfHwgbnVsbCxcbiAgICAgICAgdGltZXN0YW1wOiBqc29uLmRhdGE/LnRpbWVzdGFtcCB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdFeHRyYWN0ZWQgV2hhdHNBcHAgc3RhdHVzIGRhdGE6Jywgc3RhdHVzRGF0YSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHN0YXR1c0RhdGEsXG4gICAgICAgIHN0YXR1c0NvZGU6IGpzb24uc3RhdHVzQ29kZSB8fCAyMDBcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIFdoYXRzQXBwIHN0YXR1czonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdFcnJvIGFvIGJ1c2NhciBzdGF0dXMgZG8gV2hhdHNBcHAnLFxuICAgICAgICBzdGF0dXNDb2RlOiA1MDBcbiAgICAgIH07XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgUVIgY29kZSBmb3IgYXV0aGVudGljYXRpb25cbiAgICovXG4gIGdldFFSQ29kZTogYXN5bmMgKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8UVJDb2RlUmVzcG9uc2U+PiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFwaVVybCA9IGdldEFwaUJhc2VVcmwoKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7YXBpVXJsfS9xcmNvZGVgKTtcbiAgICAgIFxuICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjoganNvbi5lcnJvciB8fCAnUVIgQ29kZSBuw6NvIGRpc3BvbsOtdmVsJyxcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IGpzb24uZGF0YSBhcyBRUkNvZGVSZXNwb25zZSxcbiAgICAgICAgc3RhdHVzQ29kZToganNvbi5zdGF0dXNDb2RlXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdFcnJvIGFvIGJ1c2NhciBRUiBjb2RlJyxcbiAgICAgICAgc3RhdHVzQ29kZTogNTAwXG4gICAgICB9O1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQ29ubmVjdCB0byBXaGF0c0FwcFxuICAgKi9cbiAgY29ubmVjdDogYXN5bmMgKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8Q29ubmVjdFJlc3BvbnNlPj4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhcGlVcmwgPSBnZXRBcGlCYXNlVXJsKCk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2FwaVVybH0vY29ubmVjdGAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBqc29uLmVycm9yIHx8ICdFcnJvIGFvIGNvbmVjdGFyIFdoYXRzQXBwJyxcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IGpzb24uZGF0YSBhcyBDb25uZWN0UmVzcG9uc2UsXG4gICAgICAgIHN0YXR1c0NvZGU6IGpzb24uc3RhdHVzQ29kZVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnRXJybyBhbyBjb25lY3RhciBXaGF0c0FwcCcsXG4gICAgICAgIHN0YXR1c0NvZGU6IDUwMFxuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIERpc2Nvbm5lY3QgZnJvbSBXaGF0c0FwcFxuICAgKi9cbiAgZGlzY29ubmVjdDogYXN5bmMgKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8eyBzdGF0dXM6IHN0cmluZyB9Pj4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhcGlVcmwgPSBnZXRBcGlCYXNlVXJsKCk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2FwaVVybH0vZGlzY29ubmVjdGAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBqc29uLmVycm9yIHx8ICdFcnJvIGFvIGRlc2NvbmVjdGFyIFdoYXRzQXBwJyxcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IGpzb24uZGF0YSBhcyB7IHN0YXR1czogc3RyaW5nIH0sXG4gICAgICAgIHN0YXR1c0NvZGU6IGpzb24uc3RhdHVzQ29kZVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnRXJybyBhbyBkZXNjb25lY3RhciBXaGF0c0FwcCcsXG4gICAgICAgIHN0YXR1c0NvZGU6IDUwMFxuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNlbmQgV2hhdHNBcHAgbWVzc2FnZVxuICAgKi9cbiAgc2VuZE1lc3NhZ2U6IGFzeW5jIChudW1iZXI6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nLCBsZWFkX2lkPzogc3RyaW5nKTogUHJvbWlzZTxBcGlSZXNwb25zZTxTZW5kTWVzc2FnZVJlc3BvbnNlPj4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnU2VuZGluZyBXaGF0c0FwcCBtZXNzYWdlOicsIHsgbnVtYmVyLCBtZXNzYWdlTGVuZ3RoOiBtZXNzYWdlLmxlbmd0aCwgbGVhZF9pZCB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgYXBpVXJsID0gZ2V0QXBpQmFzZVVybCgpO1xuICAgICAgY29uc29sZS5sb2coJ1VzaW5nIEFQSSBVUkw6JywgYXBpVXJsKTtcbiAgICAgIFxuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgXG4gICAgICAgIHBob25lTnVtYmVyOiBudW1iZXIsIFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICBsZWFkX2lkIC8vIEluY2x1ZGUgbGVhZF9pZCBpZiBhdmFpbGFibGVcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdNZXNzYWdlIHBheWxvYWQgKHRydW5jYXRlZCk6Jywge1xuICAgICAgICAuLi5wYXlsb2FkLFxuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLmxlbmd0aCA+IDUwID8gbWVzc2FnZS5zdWJzdHJpbmcoMCwgNTApICsgJy4uLicgOiBtZXNzYWdlXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1NlbmRpbmcgUE9TVCByZXF1ZXN0IHRvOicsIGAke2FwaVVybH0vc2VuZGApO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHthcGlVcmx9L3NlbmRgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdSZXNwb25zZSBzdGF0dXM6JywgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IHJlc3BvbnNlIGRhdGFcbiAgICAgIGxldCBkYXRhO1xuICAgICAgY29uc3QgcmVzcG9uc2VUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgY29uc29sZS5sb2coJ1Jlc3BvbnNlIHRleHQ6JywgcmVzcG9uc2VUZXh0KTtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2VUZXh0KTtcbiAgICAgICAgY29uc29sZS5sb2coJ1BhcnNlZCByZXNwb25zZSBkYXRhOicsIGRhdGEpO1xuICAgICAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHJlc3BvbnNlIEpTT046JywgcGFyc2VFcnJvcik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IGBJbnZhbGlkIEpTT04gcmVzcG9uc2U6ICR7cmVzcG9uc2VUZXh0LnN1YnN0cmluZygwLCAxMDApfWAsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUmVxdWVzdCBmYWlsZWQ6JywgZGF0YSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IGRhdGEuZXJyb3IgfHwgYEVycm8gYW8gZW52aWFyIG1lbnNhZ2VtICgke3Jlc3BvbnNlLnN0YXR1c30pYCxcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogZGF0YS5kYXRhIHx8IGRhdGEsIC8vIEhhbmRsZSBib3RoIGZvcm1hdHNcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFeGNlcHRpb24gaW4gc2VuZE1lc3NhZ2U6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gYEVycm86ICR7ZXJyb3IubWVzc2FnZX1gIDogJ0Vycm8gYW8gZW52aWFyIG1lbnNhZ2VtJyxcbiAgICAgICAgc3RhdHVzQ29kZTogNTAwXG4gICAgICB9O1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogR2V0IGFsbCBtZXNzYWdlcyBmcm9tIGFsbCBjb250YWN0c1xuICAgKi9cbiAgZ2V0TWVzc2FnZXM6IGFzeW5jICgpOiBQcm9taXNlPEFwaVJlc3BvbnNlPE1lc3NhZ2VzUmVzcG9uc2U+PiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFwaVVybCA9IGdldEFwaUJhc2VVcmwoKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7YXBpVXJsfS9tZXNzYWdlc2ApO1xuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6ICdFcnJvIGFvIGJ1c2NhciBtZW5zYWdlbnMnLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1c1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgc3RhdHVzQ29kZTogMjAwXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdFcnJvIGFvIGJ1c2NhciBtZW5zYWdlbnMnLFxuICAgICAgICBzdGF0dXNDb2RlOiA1MDBcbiAgICAgIH07XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgbWVzc2FnZXMgZnJvbSBhIHNwZWNpZmljIGNvbnRhY3RcbiAgICovXG4gIGdldENvbnRhY3RNZXNzYWdlczogYXN5bmMgKG51bWJlcjogc3RyaW5nKTogUHJvbWlzZTxBcGlSZXNwb25zZTxDb250YWN0TWVzc2FnZXNSZXNwb25zZT4+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYXBpVXJsID0gZ2V0QXBpQmFzZVVybCgpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHthcGlVcmx9L21lc3NhZ2VzLyR7bnVtYmVyfWApO1xuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6ICdFcnJvIGFvIGJ1c2NhciBtZW5zYWdlbnMgZG8gY29udGF0bycsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhLFxuICAgICAgICBzdGF0dXNDb2RlOiAyMDBcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0Vycm8gYW8gYnVzY2FyIG1lbnNhZ2VucyBkbyBjb250YXRvJyxcbiAgICAgICAgc3RhdHVzQ29kZTogNTAwXG4gICAgICB9O1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQ2xlYXIgYWxsIG1lc3NhZ2VzXG4gICAqL1xuICBjbGVhck1lc3NhZ2VzOiBhc3luYyAoKTogUHJvbWlzZTxBcGlSZXNwb25zZTx7IHN1Y2Nlc3M6IGJvb2xlYW4gfT4+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYXBpVXJsID0gZ2V0QXBpQmFzZVVybCgpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHthcGlVcmx9L21lc3NhZ2VzYCwge1xuICAgICAgICBtZXRob2Q6ICdERUxFVEUnXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiAnRXJybyBhbyBsaW1wYXIgbWVuc2FnZW5zJyxcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGEsXG4gICAgICAgIHN0YXR1c0NvZGU6IDIwMFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnRXJybyBhbyBsaW1wYXIgbWVuc2FnZW5zJyxcbiAgICAgICAgc3RhdHVzQ29kZTogNTAwXG4gICAgICB9O1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogR2V0IFFSIGNvZGUgaW4gcGxhaW4gdGV4dCBmb3JtYXRcbiAgICovXG4gIGdldFFSQ29kZVBsYWluOiBhc3luYyAoKTogUHJvbWlzZTxBcGlSZXNwb25zZTxzdHJpbmc+PiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFwaVVybCA9IGdldEFwaUJhc2VVcmwoKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7YXBpVXJsfS9xcmNvZGUvcGxhaW5gKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiAnUVIgQ29kZSBuw6NvIGRpc3BvbsOtdmVsIGVtIGZvcm1hdG8gZGUgdGV4dG8nLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1c1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogdGV4dCxcbiAgICAgICAgc3RhdHVzQ29kZTogMjAwXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdFcnJvIGFvIGJ1c2NhciBRUiBjb2RlIGVtIHRleHRvJyxcbiAgICAgICAgc3RhdHVzQ29kZTogNTAwXG4gICAgICB9O1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogR2V0IGNvbm5lY3RlZCBwaG9uZSBudW1iZXJcbiAgICovXG4gIGdldFBob25lOiBhc3luYyAoKTogUHJvbWlzZTxBcGlSZXNwb25zZTxQaG9uZVJlc3BvbnNlPj4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhcGlVcmwgPSBnZXRBcGlCYXNlVXJsKCk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2FwaVVybH0vcGhvbmVgKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiAnVGVsZWZvbmUgbsOjbyBkaXNwb27DrXZlbCBvdSBkZXNjb25lY3RhZG8nLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1c1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogZGF0YS5kYXRhLFxuICAgICAgICBzdGF0dXNDb2RlOiAyMDBcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0Vycm8gYW8gYnVzY2FyIHRlbGVmb25lJyxcbiAgICAgICAgc3RhdHVzQ29kZTogNTAwXG4gICAgICB9O1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogTW9jayBhdXRoZW50aWNhdGUgKGZvciB0ZXN0aW5nIHdpdGhvdXQgc2Nhbm5pbmcgUVIpXG4gICAqL1xuICBtb2NrQXV0aGVudGljYXRlOiBhc3luYyAoKTogUHJvbWlzZTxBcGlSZXNwb25zZTxNb2NrQXV0aFJlc3BvbnNlPj4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhcGlVcmwgPSBnZXRBcGlCYXNlVXJsKCk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2FwaVVybH0vbW9jay9hdXRoZW50aWNhdGVgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiAnRXJybyBhbyBzaW11bGFyIGF1dGVudGljYcOnw6NvJyxcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IGRhdGEuZGF0YSxcbiAgICAgICAgc3RhdHVzQ29kZTogMjAwXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdFcnJvIGFvIHNpbXVsYXIgYXV0ZW50aWNhw6fDo28nLFxuICAgICAgICBzdGF0dXNDb2RlOiA1MDBcbiAgICAgIH07XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCB3aGF0c2FwcEFwaTsiXSwibmFtZXMiOlsiZ2V0QXBpQmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19VU0VfRE9DS0VSIiwid2hhdHNhcHBBcGkiLCJnZXRTdGF0dXMiLCJhcGlVcmwiLCJjb25zb2xlIiwibG9nIiwicmVzcG9uc2UiLCJmZXRjaCIsInJlc3BvbnNlVGV4dCIsInRleHQiLCJqc29uIiwiSlNPTiIsInBhcnNlIiwicGFyc2VFcnJvciIsImVycm9yIiwic3VjY2VzcyIsInN0YXR1c0NvZGUiLCJzdGF0dXMiLCJvayIsInN0YXR1c0RhdGEiLCJkYXRhIiwiYXV0aGVudGljYXRlZCIsInBob25lTnVtYmVyIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZ2V0UVJDb2RlIiwiY29ubmVjdCIsIm1ldGhvZCIsImhlYWRlcnMiLCJkaXNjb25uZWN0Iiwic2VuZE1lc3NhZ2UiLCJudW1iZXIiLCJtZXNzYWdlIiwibGVhZF9pZCIsIm1lc3NhZ2VMZW5ndGgiLCJsZW5ndGgiLCJwYXlsb2FkIiwic3Vic3RyaW5nIiwiYm9keSIsInN0cmluZ2lmeSIsIkVycm9yIiwiZ2V0TWVzc2FnZXMiLCJnZXRDb250YWN0TWVzc2FnZXMiLCJjbGVhck1lc3NhZ2VzIiwiZ2V0UVJDb2RlUGxhaW4iLCJnZXRQaG9uZSIsIm1vY2tBdXRoZW50aWNhdGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/whatsapp.ts\n");

/***/ }),

/***/ "./src/components/common/RealtimeNotifications.tsx":
/*!*********************************************************!*\
  !*** ./src/components/common/RealtimeNotifications.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _contexts_RealtimeContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../contexts/RealtimeContext */ \"./src/contexts/RealtimeContext.tsx\");\n\n\n\nconst RealtimeNotifications = ()=>{\n    const { isConnected, subscribeToCompanies, subscribeToLeads, subscribeToContacts } = (0,_contexts_RealtimeContext__WEBPACK_IMPORTED_MODULE_2__.useRealtime)();\n    const [notifications, setNotifications] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showNotifications, setShowNotifications] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const maxNotifications = 10;\n    // Add a notification\n    const addNotification = (message, type = \"info\", entityType = \"connection\")=>{\n        setNotifications((prev)=>{\n            const newNotifications = [\n                {\n                    id: Math.random().toString(36).substring(2, 11),\n                    message,\n                    type,\n                    entityType,\n                    timestamp: new Date()\n                },\n                ...prev\n            ];\n            // Keep only the latest notifications\n            return newNotifications.slice(0, maxNotifications);\n        });\n    };\n    // Remove a notification\n    const removeNotification = (id)=>{\n        setNotifications((prev)=>prev.filter((n)=>n.id !== id));\n    };\n    // Format relative time\n    const formatRelativeTime = (date)=>{\n        const now = new Date();\n        const diffSeconds = Math.round((now.getTime() - date.getTime()) / 1000);\n        if (diffSeconds < 60) {\n            return `${diffSeconds} segundos atrás`;\n        }\n        const diffMinutes = Math.round(diffSeconds / 60);\n        if (diffMinutes < 60) {\n            return `${diffMinutes} minuto${diffMinutes !== 1 ? \"s\" : \"\"} atrás`;\n        }\n        const diffHours = Math.round(diffMinutes / 60);\n        if (diffHours < 24) {\n            return `${diffHours} hora${diffHours !== 1 ? \"s\" : \"\"} atrás`;\n        }\n        return date.toLocaleString();\n    };\n    // Subscribe to real-time updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isConnected) return;\n        // Add notification for connection\n        addNotification(\"Conex\\xe3o em tempo real estabelecida\", \"success\", \"connection\");\n        // Handle company updates\n        const handleCompanyUpdate = (data)=>{\n            const company = data.new || data.old;\n            let message = \"\";\n            let type = \"info\";\n            switch(data.event){\n                case \"INSERT\":\n                    message = `Nova empresa adicionada: ${company.name}`;\n                    type = \"success\";\n                    break;\n                case \"UPDATE\":\n                    message = `Empresa atualizada: ${company.name}`;\n                    type = \"info\";\n                    break;\n                case \"DELETE\":\n                    message = `Empresa removida: ${company.name}`;\n                    type = \"warning\";\n                    break;\n            }\n            addNotification(message, type, \"company\");\n        };\n        // Handle lead updates\n        const handleLeadUpdate = (data)=>{\n            const lead = data.new || data.old;\n            let message = \"\";\n            let type = \"info\";\n            switch(data.event){\n                case \"INSERT\":\n                    message = `Novo lead capturado: ${lead.name}`;\n                    type = \"success\";\n                    break;\n                case \"UPDATE\":\n                    message = `Lead atualizado: ${lead.name}`;\n                    type = \"info\";\n                    break;\n                case \"DELETE\":\n                    message = `Lead removido: ${lead.name}`;\n                    type = \"warning\";\n                    break;\n            }\n            addNotification(message, type, \"lead\");\n        };\n        // Handle contact updates\n        const handleContactUpdate = (data)=>{\n            const contact = data.new || data.old;\n            let message = \"\";\n            let type = \"info\";\n            switch(data.event){\n                case \"INSERT\":\n                    message = `Novo contato adicionado: ${contact.name || contact.phone_number}`;\n                    type = \"success\";\n                    break;\n                case \"UPDATE\":\n                    message = `Contato atualizado: ${contact.name || contact.phone_number}`;\n                    type = \"info\";\n                    break;\n                case \"DELETE\":\n                    message = `Contato removido: ${contact.name || contact.phone_number}`;\n                    type = \"warning\";\n                    break;\n            }\n            addNotification(message, type, \"contact\");\n        };\n        // Subscribe to updates\n        subscribeToCompanies(handleCompanyUpdate);\n        subscribeToLeads(handleLeadUpdate);\n        subscribeToContacts(handleContactUpdate);\n        // Clean up\n        return ()=>{\n        // No need to unsubscribe, the context will handle it\n        };\n    }, [\n        isConnected\n    ]);\n    // Auto-hide notifications after 5 seconds\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (notifications.length > 0) {\n            const timer = setTimeout(()=>{\n                // Remove the oldest notification\n                setNotifications((prev)=>prev.slice(0, prev.length - 1));\n            }, 5000);\n            return ()=>clearTimeout(timer);\n        }\n    }, [\n        notifications\n    ]);\n    // Badge count for notification icon\n    const notificationCount = notifications.length;\n    // Function to get entity icon\n    const getEntityIcon = (entityType)=>{\n        switch(entityType){\n            case \"connection\":\n                return \"bi-lightning-fill\";\n            case \"company\":\n                return \"bi-building\";\n            case \"lead\":\n                return \"bi-person-plus-fill\";\n            case \"contact\":\n                return \"bi-person-lines-fill\";\n            default:\n                return \"bi-bell-fill\";\n        }\n    };\n    // Function to get entity notification class\n    const getEntityClass = (entityType)=>{\n        switch(entityType){\n            case \"lead\":\n                return \"notification-leads\";\n            case \"company\":\n                return \"notification-companies\";\n            case \"contact\":\n                return \"notification-contacts\";\n            default:\n                return \"\";\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"position-fixed top-0 end-0 p-3\",\n                style: {\n                    zIndex: 1050\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    className: \"btn btn-outline-primary position-relative\",\n                    onClick: ()=>setShowNotifications(!showNotifications),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"bi bi-bell\"\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                            lineNumber: 215,\n                            columnNumber: 11\n                        }, undefined),\n                        notificationCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger\",\n                            children: [\n                                notificationCount,\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"visually-hidden\",\n                                    children: \"notifica\\xe7\\xf5es n\\xe3o lidas\"\n                                }, void 0, false, {\n                                    fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                                    lineNumber: 219,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                            lineNumber: 217,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                    lineNumber: 211,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                lineNumber: 210,\n                columnNumber: 7\n            }, undefined),\n            showNotifications && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"position-fixed top-0 end-0 p-3 shadow\",\n                style: {\n                    zIndex: 1040,\n                    width: \"350px\",\n                    maxWidth: \"100%\",\n                    maxHeight: \"80vh\",\n                    overflow: \"auto\",\n                    marginTop: \"50px\",\n                    borderRadius: \"0.5rem\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"d-flex justify-content-between align-items-center mb-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                                className: \"mb-0\",\n                                children: \"Notifica\\xe7\\xf5es\"\n                            }, void 0, false, {\n                                fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                                lineNumber: 240,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"btn-close\",\n                                onClick: ()=>setShowNotifications(false),\n                                \"aria-label\": \"Close\"\n                            }, void 0, false, {\n                                fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                                lineNumber: 241,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                        lineNumber: 239,\n                        columnNumber: 11\n                    }, undefined),\n                    notifications.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-muted\",\n                        children: \"Nenhuma notifica\\xe7\\xe3o\"\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                        lineNumber: 249,\n                        columnNumber: 13\n                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"d-flex flex-column gap-3\",\n                        children: notifications.map((notification)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card border-0 shadow-sm\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"card-body p-3\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"d-flex\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: `notification-icon ${getEntityClass(notification.entityType)}`,\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                    className: `bi ${getEntityIcon(notification.entityType)}`\n                                                }, void 0, false, {\n                                                    fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                                                    lineNumber: 260,\n                                                    columnNumber: 25\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                                                lineNumber: 259,\n                                                columnNumber: 23\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-grow-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"d-flex justify-content-between align-items-start\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"mb-1 fw-medium\",\n                                                                children: notification.message\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                                                                lineNumber: 264,\n                                                                columnNumber: 27\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                className: \"btn-close btn-sm\",\n                                                                onClick: ()=>removeNotification(notification.id),\n                                                                \"aria-label\": \"Close\",\n                                                                style: {\n                                                                    fontSize: \"0.65rem\"\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                                                                lineNumber: 265,\n                                                                columnNumber: 27\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                                                        lineNumber: 263,\n                                                        columnNumber: 25\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"small\", {\n                                                        className: \"text-muted\",\n                                                        children: formatRelativeTime(notification.timestamp)\n                                                    }, void 0, false, {\n                                                        fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                                                        lineNumber: 272,\n                                                        columnNumber: 25\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                                                lineNumber: 262,\n                                                columnNumber: 23\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                                        lineNumber: 258,\n                                        columnNumber: 21\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                                    lineNumber: 257,\n                                    columnNumber: 19\n                                }, undefined)\n                            }, notification.id, false, {\n                                fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                                lineNumber: 253,\n                                columnNumber: 17\n                            }, undefined))\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                        lineNumber: 251,\n                        columnNumber: 13\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                lineNumber: 227,\n                columnNumber: 9\n            }, undefined),\n            notifications.length > 0 && !showNotifications && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"toast-container\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"toast show shadow-sm\",\n                    role: \"alert\",\n                    \"aria-live\": \"assertive\",\n                    \"aria-atomic\": \"true\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"toast-header\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: `notification-icon ${getEntityClass(notifications[0].entityType)} me-2`,\n                                    style: {\n                                        width: 24,\n                                        height: 24\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                        className: `bi ${getEntityIcon(notifications[0].entityType)}`,\n                                        style: {\n                                            fontSize: \"0.8rem\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                                        lineNumber: 294,\n                                        columnNumber: 17\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                                    lineNumber: 293,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                    className: \"me-auto\",\n                                    children: \"Notifica\\xe7\\xe3o\"\n                                }, void 0, false, {\n                                    fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                                    lineNumber: 296,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"small\", {\n                                    children: formatRelativeTime(notifications[0].timestamp)\n                                }, void 0, false, {\n                                    fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                                    lineNumber: 297,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"button\",\n                                    className: \"btn-close\",\n                                    onClick: ()=>removeNotification(notifications[0].id),\n                                    \"aria-label\": \"Close\"\n                                }, void 0, false, {\n                                    fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                                    lineNumber: 298,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                            lineNumber: 292,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"toast-body\",\n                            children: notifications[0].message\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                            lineNumber: 305,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                    lineNumber: 286,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/usr/src/app/src/components/common/RealtimeNotifications.tsx\",\n                lineNumber: 285,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RealtimeNotifications);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jb21tb24vUmVhbHRpbWVOb3RpZmljYXRpb25zLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQW1EO0FBQ1U7QUFXN0QsTUFBTUksd0JBQWtDO0lBQ3RDLE1BQU0sRUFBRUMsV0FBVyxFQUFFQyxvQkFBb0IsRUFBRUMsZ0JBQWdCLEVBQUVDLG1CQUFtQixFQUFFLEdBQUdMLHNFQUFXQTtJQUNoRyxNQUFNLENBQUNNLGVBQWVDLGlCQUFpQixHQUFHUiwrQ0FBUUEsQ0FBaUIsRUFBRTtJQUNyRSxNQUFNLENBQUNTLG1CQUFtQkMscUJBQXFCLEdBQUdWLCtDQUFRQSxDQUFDO0lBQzNELE1BQU1XLG1CQUFtQjtJQUV6QixxQkFBcUI7SUFDckIsTUFBTUMsa0JBQWtCLENBQ3RCQyxTQUNBQyxPQUFrRCxNQUFNLEVBQ3hEQyxhQUE0RCxZQUFZO1FBRXhFUCxpQkFBaUJRLENBQUFBO1lBQ2YsTUFBTUMsbUJBQW1CO2dCQUN2QjtvQkFDRUMsSUFBSUMsS0FBS0MsTUFBTSxHQUFHQyxRQUFRLENBQUMsSUFBSUMsU0FBUyxDQUFDLEdBQUc7b0JBQzVDVDtvQkFDQUM7b0JBQ0FDO29CQUNBUSxXQUFXLElBQUlDO2dCQUNqQjttQkFDR1I7YUFDSjtZQUVELHFDQUFxQztZQUNyQyxPQUFPQyxpQkFBaUJRLEtBQUssQ0FBQyxHQUFHZDtRQUNuQztJQUNGO0lBRUEsd0JBQXdCO0lBQ3hCLE1BQU1lLHFCQUFxQixDQUFDUjtRQUMxQlYsaUJBQWlCUSxDQUFBQSxPQUFRQSxLQUFLVyxNQUFNLENBQUNDLENBQUFBLElBQUtBLEVBQUVWLEVBQUUsS0FBS0E7SUFDckQ7SUFFQSx1QkFBdUI7SUFDdkIsTUFBTVcscUJBQXFCLENBQUNDO1FBQzFCLE1BQU1DLE1BQU0sSUFBSVA7UUFDaEIsTUFBTVEsY0FBY2IsS0FBS2MsS0FBSyxDQUFDLENBQUNGLElBQUlHLE9BQU8sS0FBS0osS0FBS0ksT0FBTyxFQUFDLElBQUs7UUFFbEUsSUFBSUYsY0FBYyxJQUFJ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b21wb25lbnRzL2NvbW1vbi9SZWFsdGltZU5vdGlmaWNhdGlvbnMudHN4P2UzNmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VSZWFsdGltZSB9IGZyb20gJy4uLy4uL2NvbnRleHRzL1JlYWx0aW1lQ29udGV4dCc7XG5pbXBvcnQgeyBDb21wYW55LCBMZWFkLCBDb250YWN0IH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcyc7XG5cbmludGVyZmFjZSBOb3RpZmljYXRpb24ge1xuICBpZDogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIHR5cGU6ICdpbmZvJyB8ICdzdWNjZXNzJyB8ICd3YXJuaW5nJyB8ICdkYW5nZXInO1xuICBlbnRpdHlUeXBlOiAnY29ubmVjdGlvbicgfCAnY29tcGFueScgfCAnbGVhZCcgfCAnY29udGFjdCc7XG4gIHRpbWVzdGFtcDogRGF0ZTtcbn1cblxuY29uc3QgUmVhbHRpbWVOb3RpZmljYXRpb25zOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgY29uc3QgeyBpc0Nvbm5lY3RlZCwgc3Vic2NyaWJlVG9Db21wYW5pZXMsIHN1YnNjcmliZVRvTGVhZHMsIHN1YnNjcmliZVRvQ29udGFjdHMgfSA9IHVzZVJlYWx0aW1lKCk7XG4gIGNvbnN0IFtub3RpZmljYXRpb25zLCBzZXROb3RpZmljYXRpb25zXSA9IHVzZVN0YXRlPE5vdGlmaWNhdGlvbltdPihbXSk7XG4gIGNvbnN0IFtzaG93Tm90aWZpY2F0aW9ucywgc2V0U2hvd05vdGlmaWNhdGlvbnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBtYXhOb3RpZmljYXRpb25zID0gMTA7XG5cbiAgLy8gQWRkIGEgbm90aWZpY2F0aW9uXG4gIGNvbnN0IGFkZE5vdGlmaWNhdGlvbiA9IChcbiAgICBtZXNzYWdlOiBzdHJpbmcsIFxuICAgIHR5cGU6ICdpbmZvJyB8ICdzdWNjZXNzJyB8ICd3YXJuaW5nJyB8ICdkYW5nZXInID0gJ2luZm8nLFxuICAgIGVudGl0eVR5cGU6ICdjb25uZWN0aW9uJyB8ICdjb21wYW55JyB8ICdsZWFkJyB8ICdjb250YWN0JyA9ICdjb25uZWN0aW9uJ1xuICApID0+IHtcbiAgICBzZXROb3RpZmljYXRpb25zKHByZXYgPT4ge1xuICAgICAgY29uc3QgbmV3Tm90aWZpY2F0aW9ucyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTEpLFxuICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICBlbnRpdHlUeXBlLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgICB9LFxuICAgICAgICAuLi5wcmV2XG4gICAgICBdO1xuICAgICAgXG4gICAgICAvLyBLZWVwIG9ubHkgdGhlIGxhdGVzdCBub3RpZmljYXRpb25zXG4gICAgICByZXR1cm4gbmV3Tm90aWZpY2F0aW9ucy5zbGljZSgwLCBtYXhOb3RpZmljYXRpb25zKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBSZW1vdmUgYSBub3RpZmljYXRpb25cbiAgY29uc3QgcmVtb3ZlTm90aWZpY2F0aW9uID0gKGlkOiBzdHJpbmcpID0+IHtcbiAgICBzZXROb3RpZmljYXRpb25zKHByZXYgPT4gcHJldi5maWx0ZXIobiA9PiBuLmlkICE9PSBpZCkpO1xuICB9O1xuXG4gIC8vIEZvcm1hdCByZWxhdGl2ZSB0aW1lXG4gIGNvbnN0IGZvcm1hdFJlbGF0aXZlVGltZSA9IChkYXRlOiBEYXRlKTogc3RyaW5nID0+IHtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGRpZmZTZWNvbmRzID0gTWF0aC5yb3VuZCgobm93LmdldFRpbWUoKSAtIGRhdGUuZ2V0VGltZSgpKSAvIDEwMDApO1xuICAgIFxuICAgIGlmIChkaWZmU2Vjb25kcyA8IDYwKSB7XG4gICAgICByZXR1cm4gYCR7ZGlmZlNlY29uZHN9IHNlZ3VuZG9zIGF0csOhc2A7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGRpZmZNaW51dGVzID0gTWF0aC5yb3VuZChkaWZmU2Vjb25kcyAvIDYwKTtcbiAgICBpZiAoZGlmZk1pbnV0ZXMgPCA2MCkge1xuICAgICAgcmV0dXJuIGAke2RpZmZNaW51dGVzfSBtaW51dG8ke2RpZmZNaW51dGVzICE9PSAxID8gJ3MnIDogJyd9IGF0csOhc2A7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGRpZmZIb3VycyA9IE1hdGgucm91bmQoZGlmZk1pbnV0ZXMgLyA2MCk7XG4gICAgaWYgKGRpZmZIb3VycyA8IDI0KSB7XG4gICAgICByZXR1cm4gYCR7ZGlmZkhvdXJzfSBob3JhJHtkaWZmSG91cnMgIT09IDEgPyAncycgOiAnJ30gYXRyw6FzYDtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVTdHJpbmcoKTtcbiAgfTtcblxuICAvLyBTdWJzY3JpYmUgdG8gcmVhbC10aW1lIHVwZGF0ZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzQ29ubmVjdGVkKSByZXR1cm47XG4gICAgXG4gICAgLy8gQWRkIG5vdGlmaWNhdGlvbiBmb3IgY29ubmVjdGlvblxuICAgIGFkZE5vdGlmaWNhdGlvbignQ29uZXjDo28gZW0gdGVtcG8gcmVhbCBlc3RhYmVsZWNpZGEnLCAnc3VjY2VzcycsICdjb25uZWN0aW9uJyk7XG4gICAgXG4gICAgLy8gSGFuZGxlIGNvbXBhbnkgdXBkYXRlc1xuICAgIGNvbnN0IGhhbmRsZUNvbXBhbnlVcGRhdGUgPSAoZGF0YTogYW55KSA9PiB7XG4gICAgICBjb25zdCBjb21wYW55ID0gZGF0YS5uZXcgfHwgZGF0YS5vbGQ7XG4gICAgICBcbiAgICAgIGxldCBtZXNzYWdlID0gJyc7XG4gICAgICBsZXQgdHlwZTogJ2luZm8nIHwgJ3N1Y2Nlc3MnIHwgJ3dhcm5pbmcnIHwgJ2RhbmdlcicgPSAnaW5mbyc7XG4gICAgICBcbiAgICAgIHN3aXRjaCAoZGF0YS5ldmVudCkge1xuICAgICAgICBjYXNlICdJTlNFUlQnOlxuICAgICAgICAgIG1lc3NhZ2UgPSBgTm92YSBlbXByZXNhIGFkaWNpb25hZGE6ICR7Y29tcGFueS5uYW1lfWA7XG4gICAgICAgICAgdHlwZSA9ICdzdWNjZXNzJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnVVBEQVRFJzpcbiAgICAgICAgICBtZXNzYWdlID0gYEVtcHJlc2EgYXR1YWxpemFkYTogJHtjb21wYW55Lm5hbWV9YDtcbiAgICAgICAgICB0eXBlID0gJ2luZm8nO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdERUxFVEUnOlxuICAgICAgICAgIG1lc3NhZ2UgPSBgRW1wcmVzYSByZW1vdmlkYTogJHtjb21wYW55Lm5hbWV9YDtcbiAgICAgICAgICB0eXBlID0gJ3dhcm5pbmcnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgXG4gICAgICBhZGROb3RpZmljYXRpb24obWVzc2FnZSwgdHlwZSwgJ2NvbXBhbnknKTtcbiAgICB9O1xuICAgIFxuICAgIC8vIEhhbmRsZSBsZWFkIHVwZGF0ZXNcbiAgICBjb25zdCBoYW5kbGVMZWFkVXBkYXRlID0gKGRhdGE6IGFueSkgPT4ge1xuICAgICAgY29uc3QgbGVhZCA9IGRhdGEubmV3IHx8IGRhdGEub2xkO1xuICAgICAgXG4gICAgICBsZXQgbWVzc2FnZSA9ICcnO1xuICAgICAgbGV0IHR5cGU6ICdpbmZvJyB8ICdzdWNjZXNzJyB8ICd3YXJuaW5nJyB8ICdkYW5nZXInID0gJ2luZm8nO1xuICAgICAgXG4gICAgICBzd2l0Y2ggKGRhdGEuZXZlbnQpIHtcbiAgICAgICAgY2FzZSAnSU5TRVJUJzpcbiAgICAgICAgICBtZXNzYWdlID0gYE5vdm8gbGVhZCBjYXB0dXJhZG86ICR7bGVhZC5uYW1lfWA7XG4gICAgICAgICAgdHlwZSA9ICdzdWNjZXNzJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnVVBEQVRFJzpcbiAgICAgICAgICBtZXNzYWdlID0gYExlYWQgYXR1YWxpemFkbzogJHtsZWFkLm5hbWV9YDtcbiAgICAgICAgICB0eXBlID0gJ2luZm8nO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdERUxFVEUnOlxuICAgICAgICAgIG1lc3NhZ2UgPSBgTGVhZCByZW1vdmlkbzogJHtsZWFkLm5hbWV9YDtcbiAgICAgICAgICB0eXBlID0gJ3dhcm5pbmcnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgXG4gICAgICBhZGROb3RpZmljYXRpb24obWVzc2FnZSwgdHlwZSwgJ2xlYWQnKTtcbiAgICB9O1xuICAgIFxuICAgIC8vIEhhbmRsZSBjb250YWN0IHVwZGF0ZXNcbiAgICBjb25zdCBoYW5kbGVDb250YWN0VXBkYXRlID0gKGRhdGE6IGFueSkgPT4ge1xuICAgICAgY29uc3QgY29udGFjdCA9IGRhdGEubmV3IHx8IGRhdGEub2xkO1xuICAgICAgXG4gICAgICBsZXQgbWVzc2FnZSA9ICcnO1xuICAgICAgbGV0IHR5cGU6ICdpbmZvJyB8ICdzdWNjZXNzJyB8ICd3YXJuaW5nJyB8ICdkYW5nZXInID0gJ2luZm8nO1xuICAgICAgXG4gICAgICBzd2l0Y2ggKGRhdGEuZXZlbnQpIHtcbiAgICAgICAgY2FzZSAnSU5TRVJUJzpcbiAgICAgICAgICBtZXNzYWdlID0gYE5vdm8gY29udGF0byBhZGljaW9uYWRvOiAke2NvbnRhY3QubmFtZSB8fCBjb250YWN0LnBob25lX251bWJlcn1gO1xuICAgICAgICAgIHR5cGUgPSAnc3VjY2Vzcyc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1VQREFURSc6XG4gICAgICAgICAgbWVzc2FnZSA9IGBDb250YXRvIGF0dWFsaXphZG86ICR7Y29udGFjdC5uYW1lIHx8IGNvbnRhY3QucGhvbmVfbnVtYmVyfWA7XG4gICAgICAgICAgdHlwZSA9ICdpbmZvJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnREVMRVRFJzpcbiAgICAgICAgICBtZXNzYWdlID0gYENvbnRhdG8gcmVtb3ZpZG86ICR7Y29udGFjdC5uYW1lIHx8IGNvbnRhY3QucGhvbmVfbnVtYmVyfWA7XG4gICAgICAgICAgdHlwZSA9ICd3YXJuaW5nJztcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgYWRkTm90aWZpY2F0aW9uKG1lc3NhZ2UsIHR5cGUsICdjb250YWN0Jyk7XG4gICAgfTtcbiAgICBcbiAgICAvLyBTdWJzY3JpYmUgdG8gdXBkYXRlc1xuICAgIHN1YnNjcmliZVRvQ29tcGFuaWVzKGhhbmRsZUNvbXBhbnlVcGRhdGUpO1xuICAgIHN1YnNjcmliZVRvTGVhZHMoaGFuZGxlTGVhZFVwZGF0ZSk7XG4gICAgc3Vic2NyaWJlVG9Db250YWN0cyhoYW5kbGVDb250YWN0VXBkYXRlKTtcbiAgICBcbiAgICAvLyBDbGVhbiB1cFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAvLyBObyBuZWVkIHRvIHVuc3Vic2NyaWJlLCB0aGUgY29udGV4dCB3aWxsIGhhbmRsZSBpdFxuICAgIH07XG4gIH0sIFtpc0Nvbm5lY3RlZF0pO1xuXG4gIC8vIEF1dG8taGlkZSBub3RpZmljYXRpb25zIGFmdGVyIDUgc2Vjb25kc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChub3RpZmljYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgb2xkZXN0IG5vdGlmaWNhdGlvblxuICAgICAgICBzZXROb3RpZmljYXRpb25zKHByZXYgPT4gcHJldi5zbGljZSgwLCBwcmV2Lmxlbmd0aCAtIDEpKTtcbiAgICAgIH0sIDUwMDApO1xuICAgICAgXG4gICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB9XG4gIH0sIFtub3RpZmljYXRpb25zXSk7XG5cbiAgLy8gQmFkZ2UgY291bnQgZm9yIG5vdGlmaWNhdGlvbiBpY29uXG4gIGNvbnN0IG5vdGlmaWNhdGlvbkNvdW50ID0gbm90aWZpY2F0aW9ucy5sZW5ndGg7XG4gIFxuICAvLyBGdW5jdGlvbiB0byBnZXQgZW50aXR5IGljb25cbiAgY29uc3QgZ2V0RW50aXR5SWNvbiA9IChlbnRpdHlUeXBlOiAnY29ubmVjdGlvbicgfCAnY29tcGFueScgfCAnbGVhZCcgfCAnY29udGFjdCcpID0+IHtcbiAgICBzd2l0Y2ggKGVudGl0eVR5cGUpIHtcbiAgICAgIGNhc2UgJ2Nvbm5lY3Rpb24nOlxuICAgICAgICByZXR1cm4gJ2JpLWxpZ2h0bmluZy1maWxsJztcbiAgICAgIGNhc2UgJ2NvbXBhbnknOlxuICAgICAgICByZXR1cm4gJ2JpLWJ1aWxkaW5nJztcbiAgICAgIGNhc2UgJ2xlYWQnOlxuICAgICAgICByZXR1cm4gJ2JpLXBlcnNvbi1wbHVzLWZpbGwnO1xuICAgICAgY2FzZSAnY29udGFjdCc6XG4gICAgICAgIHJldHVybiAnYmktcGVyc29uLWxpbmVzLWZpbGwnO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICdiaS1iZWxsLWZpbGwnO1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIEZ1bmN0aW9uIHRvIGdldCBlbnRpdHkgbm90aWZpY2F0aW9uIGNsYXNzXG4gIGNvbnN0IGdldEVudGl0eUNsYXNzID0gKGVudGl0eVR5cGU6ICdjb25uZWN0aW9uJyB8ICdjb21wYW55JyB8ICdsZWFkJyB8ICdjb250YWN0JykgPT4ge1xuICAgIHN3aXRjaCAoZW50aXR5VHlwZSkge1xuICAgICAgY2FzZSAnbGVhZCc6XG4gICAgICAgIHJldHVybiAnbm90aWZpY2F0aW9uLWxlYWRzJztcbiAgICAgIGNhc2UgJ2NvbXBhbnknOlxuICAgICAgICByZXR1cm4gJ25vdGlmaWNhdGlvbi1jb21wYW5pZXMnO1xuICAgICAgY2FzZSAnY29udGFjdCc6XG4gICAgICAgIHJldHVybiAnbm90aWZpY2F0aW9uLWNvbnRhY3RzJztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgey8qIE5vdGlmaWNhdGlvbiBpY29uICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3NpdGlvbi1maXhlZCB0b3AtMCBlbmQtMCBwLTNcIiBzdHlsZT17eyB6SW5kZXg6IDEwNTAgfX0+XG4gICAgICAgIDxidXR0b24gXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkgcG9zaXRpb24tcmVsYXRpdmVcIiBcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93Tm90aWZpY2F0aW9ucyghc2hvd05vdGlmaWNhdGlvbnMpfVxuICAgICAgICA+XG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwiYmkgYmktYmVsbFwiPjwvaT5cbiAgICAgICAgICB7bm90aWZpY2F0aW9uQ291bnQgPiAwICYmIChcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInBvc2l0aW9uLWFic29sdXRlIHRvcC0wIHN0YXJ0LTEwMCB0cmFuc2xhdGUtbWlkZGxlIGJhZGdlIHJvdW5kZWQtcGlsbCBiZy1kYW5nZXJcIj5cbiAgICAgICAgICAgICAge25vdGlmaWNhdGlvbkNvdW50fVxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ2aXN1YWxseS1oaWRkZW5cIj5ub3RpZmljYcOnw7VlcyBuw6NvIGxpZGFzPC9zcGFuPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIHsvKiBOb3RpZmljYXRpb24gZHJhd2VyICovfVxuICAgICAge3Nob3dOb3RpZmljYXRpb25zICYmIChcbiAgICAgICAgPGRpdiBcbiAgICAgICAgICBjbGFzc05hbWU9XCJwb3NpdGlvbi1maXhlZCB0b3AtMCBlbmQtMCBwLTMgc2hhZG93XCIgXG4gICAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgICB6SW5kZXg6IDEwNDAsIFxuICAgICAgICAgICAgd2lkdGg6ICczNTBweCcsIFxuICAgICAgICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgIG1heEhlaWdodDogJzgwdmgnLFxuICAgICAgICAgICAgb3ZlcmZsb3c6ICdhdXRvJyxcbiAgICAgICAgICAgIG1hcmdpblRvcDogJzUwcHgnLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnMC41cmVtJyxcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyIG1iLTNcIj5cbiAgICAgICAgICAgIDxoNSBjbGFzc05hbWU9XCJtYi0wXCI+Tm90aWZpY2HDp8O1ZXM8L2g1PlxuICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWNsb3NlXCIgXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dOb3RpZmljYXRpb25zKGZhbHNlKX1cbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNsb3NlXCJcbiAgICAgICAgICAgID48L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICB7bm90aWZpY2F0aW9ucy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCI+TmVuaHVtYSBub3RpZmljYcOnw6NvPC9wPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBmbGV4LWNvbHVtbiBnYXAtM1wiPlxuICAgICAgICAgICAgICB7bm90aWZpY2F0aW9ucy5tYXAobm90aWZpY2F0aW9uID0+IChcbiAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAga2V5PXtub3RpZmljYXRpb24uaWR9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYXJkIGJvcmRlci0wIHNoYWRvdy1zbVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWJvZHkgcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Bub3RpZmljYXRpb24taWNvbiAke2dldEVudGl0eUNsYXNzKG5vdGlmaWNhdGlvbi5lbnRpdHlUeXBlKX1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT17YGJpICR7Z2V0RW50aXR5SWNvbihub3RpZmljYXRpb24uZW50aXR5VHlwZSl9YH0+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1ncm93LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLXN0YXJ0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTEgZnctbWVkaXVtXCI+e25vdGlmaWNhdGlvbi5tZXNzYWdlfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tY2xvc2UgYnRuLXNtXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcmVtb3ZlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbi5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNsb3NlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzAuNjVyZW0nIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzTmFtZT1cInRleHQtbXV0ZWRcIj57Zm9ybWF0UmVsYXRpdmVUaW1lKG5vdGlmaWNhdGlvbi50aW1lc3RhbXApfTwvc21hbGw+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICB7LyogRmxvYXRpbmcgdG9hc3QgZm9yIG5ldyBub3RpZmljYXRpb25zICovfVxuICAgICAge25vdGlmaWNhdGlvbnMubGVuZ3RoID4gMCAmJiAhc2hvd05vdGlmaWNhdGlvbnMgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvYXN0LWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0b2FzdCBzaG93IHNoYWRvdy1zbVwiIFxuICAgICAgICAgICAgcm9sZT1cImFsZXJ0XCIgXG4gICAgICAgICAgICBhcmlhLWxpdmU9XCJhc3NlcnRpdmVcIiBcbiAgICAgICAgICAgIGFyaWEtYXRvbWljPVwidHJ1ZVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b2FzdC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Bub3RpZmljYXRpb24taWNvbiAke2dldEVudGl0eUNsYXNzKG5vdGlmaWNhdGlvbnNbMF0uZW50aXR5VHlwZSl9IG1lLTJgfSBzdHlsZT17eyB3aWR0aDogMjQsIGhlaWdodDogMjQgfX0+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPXtgYmkgJHtnZXRFbnRpdHlJY29uKG5vdGlmaWNhdGlvbnNbMF0uZW50aXR5VHlwZSl9YH0gc3R5bGU9e3sgZm9udFNpemU6ICcwLjhyZW0nIH19PjwvaT5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxzdHJvbmcgY2xhc3NOYW1lPVwibWUtYXV0b1wiPk5vdGlmaWNhw6fDo288L3N0cm9uZz5cbiAgICAgICAgICAgICAgPHNtYWxsPntmb3JtYXRSZWxhdGl2ZVRpbWUobm90aWZpY2F0aW9uc1swXS50aW1lc3RhbXApfTwvc21hbGw+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1jbG9zZVwiIFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJlbW92ZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25zWzBdLmlkKX1cbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQ2xvc2VcIlxuICAgICAgICAgICAgICA+PC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9hc3QtYm9keVwiPlxuICAgICAgICAgICAgICB7bm90aWZpY2F0aW9uc1swXS5tZXNzYWdlfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8Lz5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWx0aW1lTm90aWZpY2F0aW9uczsiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZVJlYWx0aW1lIiwiUmVhbHRpbWVOb3RpZmljYXRpb25zIiwiaXNDb25uZWN0ZWQiLCJzdWJzY3JpYmVUb0NvbXBhbmllcyIsInN1YnNjcmliZVRvTGVhZHMiLCJzdWJzY3JpYmVUb0NvbnRhY3RzIiwibm90aWZpY2F0aW9ucyIsInNldE5vdGlmaWNhdGlvbnMiLCJzaG93Tm90aWZpY2F0aW9ucyIsInNldFNob3dOb3RpZmljYXRpb25zIiwibWF4Tm90aWZpY2F0aW9ucyIsImFkZE5vdGlmaWNhdGlvbiIsIm1lc3NhZ2UiLCJ0eXBlIiwiZW50aXR5VHlwZSIsInByZXYiLCJuZXdOb3RpZmljYXRpb25zIiwiaWQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJ0aW1lc3RhbXAiLCJEYXRlIiwic2xpY2UiLCJyZW1vdmVOb3RpZmljYXRpb24iLCJmaWx0ZXIiLCJuIiwiZm9ybWF0UmVsYXRpdmVUaW1lIiwiZGF0ZSIsIm5vdyIsImRpZmZTZWNvbmRzIiwicm91bmQiLCJnZXRUaW1lIiwiZGlmZk1pbnV0ZXMiLCJkaWZmSG91cnMiLCJ0b0xvY2FsZVN0cmluZyIsImhhbmRsZUNvbXBhbnlVcGRhdGUiLCJkYXRhIiwiY29tcGFueSIsIm5ldyIsIm9sZCIsImV2ZW50IiwibmFtZSIsImhhbmRsZUxlYWRVcGRhdGUiLCJsZWFkIiwiaGFuZGxlQ29udGFjdFVwZGF0ZSIsImNvbnRhY3QiLCJwaG9uZV9udW1iZXIiLCJsZW5ndGgiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJub3RpZmljYXRpb25Db3VudCIsImdldEVudGl0eUljb24iLCJnZXRFbnRpdHlDbGFzcyIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwiekluZGV4IiwiYnV0dG9uIiwib25DbGljayIsImkiLCJzcGFuIiwid2lkdGgiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsIm92ZXJmbG93IiwibWFyZ2luVG9wIiwiYm9yZGVyUmFkaXVzIiwiaDUiLCJhcmlhLWxhYmVsIiwicCIsIm1hcCIsIm5vdGlmaWNhdGlvbiIsImZvbnRTaXplIiwic21hbGwiLCJyb2xlIiwiYXJpYS1saXZlIiwiYXJpYS1hdG9taWMiLCJoZWlnaHQiLCJzdHJvbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/common/RealtimeNotifications.tsx\n");

/***/ }),

/***/ "./src/components/common/ThemeToggle.tsx":
/*!***********************************************!*\
  !*** ./src/components/common/ThemeToggle.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _contexts_ThemeContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../contexts/ThemeContext */ \"./src/contexts/ThemeContext.tsx\");\n\n\n\nconst ThemeToggle = ()=>{\n    const { isDarkMode, toggleTheme } = (0,_contexts_ThemeContext__WEBPACK_IMPORTED_MODULE_2__.useTheme)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        className: \"theme-toggle\",\n        onClick: toggleTheme,\n        \"aria-label\": isDarkMode ? \"Mudar para modo claro\" : \"Mudar para modo escuro\",\n        title: isDarkMode ? \"Mudar para modo claro\" : \"Mudar para modo escuro\",\n        children: isDarkMode ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n            className: \"bi bi-sun-fill\"\n        }, void 0, false, {\n            fileName: \"/usr/src/app/src/components/common/ThemeToggle.tsx\",\n            lineNumber: 15,\n            columnNumber: 9\n        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n            className: \"bi bi-moon-fill\"\n        }, void 0, false, {\n            fileName: \"/usr/src/app/src/components/common/ThemeToggle.tsx\",\n            lineNumber: 17,\n            columnNumber: 9\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/usr/src/app/src/components/common/ThemeToggle.tsx\",\n        lineNumber: 8,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThemeToggle);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jb21tb24vVGhlbWVUb2dnbGUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMEI7QUFDNkI7QUFFdkQsTUFBTUUsY0FBd0I7SUFDNUIsTUFBTSxFQUFFQyxVQUFVLEVBQUVDLFdBQVcsRUFBRSxHQUFHSCxnRUFBUUE7SUFFNUMscUJBQ0UsOERBQUNJO1FBQ0NDLFdBQVU7UUFDVkMsU0FBU0g7UUFDVEksY0FBWUwsYUFBYSwwQkFBMEI7UUFDbkRNLE9BQU9OLGFBQWEsMEJBQTBCO2tCQUU3Q0EsMkJBQ0MsOERBQUNPO1lBQUVKLFdBQVU7Ozs7O3NDQUViLDhEQUFDSTtZQUFFSixXQUFVOzs7Ozs7Ozs7OztBQUlyQjtBQUVBLGlFQUFlSixXQUFXQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy9jb21tb24vVGhlbWVUb2dnbGUudHN4P2JlZjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVRoZW1lIH0gZnJvbSAnLi4vLi4vY29udGV4dHMvVGhlbWVDb250ZXh0JztcblxuY29uc3QgVGhlbWVUb2dnbGU6IFJlYWN0LkZDID0gKCkgPT4ge1xuICBjb25zdCB7IGlzRGFya01vZGUsIHRvZ2dsZVRoZW1lIH0gPSB1c2VUaGVtZSgpO1xuXG4gIHJldHVybiAoXG4gICAgPGJ1dHRvbiBcbiAgICAgIGNsYXNzTmFtZT1cInRoZW1lLXRvZ2dsZVwiIFxuICAgICAgb25DbGljaz17dG9nZ2xlVGhlbWV9IFxuICAgICAgYXJpYS1sYWJlbD17aXNEYXJrTW9kZSA/ICdNdWRhciBwYXJhIG1vZG8gY2xhcm8nIDogJ011ZGFyIHBhcmEgbW9kbyBlc2N1cm8nfVxuICAgICAgdGl0bGU9e2lzRGFya01vZGUgPyAnTXVkYXIgcGFyYSBtb2RvIGNsYXJvJyA6ICdNdWRhciBwYXJhIG1vZG8gZXNjdXJvJ31cbiAgICA+XG4gICAgICB7aXNEYXJrTW9kZSA/IChcbiAgICAgICAgPGkgY2xhc3NOYW1lPVwiYmkgYmktc3VuLWZpbGxcIj48L2k+XG4gICAgICApIDogKFxuICAgICAgICA8aSBjbGFzc05hbWU9XCJiaSBiaS1tb29uLWZpbGxcIj48L2k+XG4gICAgICApfVxuICAgIDwvYnV0dG9uPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVGhlbWVUb2dnbGU7Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlVGhlbWUiLCJUaGVtZVRvZ2dsZSIsImlzRGFya01vZGUiLCJ0b2dnbGVUaGVtZSIsImJ1dHRvbiIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJhcmlhLWxhYmVsIiwidGl0bGUiLCJpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/common/ThemeToggle.tsx\n");

/***/ }),

/***/ "./src/components/layout/Layout.tsx":
/*!******************************************!*\
  !*** ./src/components/layout/Layout.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/head */ \"next/head\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Navigation */ \"./src/components/layout/Navigation.tsx\");\n/* harmony import */ var _common_RealtimeNotifications__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/RealtimeNotifications */ \"./src/components/common/RealtimeNotifications.tsx\");\n/* harmony import */ var _common_ThemeToggle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/ThemeToggle */ \"./src/components/common/ThemeToggle.tsx\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../contexts/AuthContext */ \"./src/contexts/AuthContext.tsx\");\n\n\n\n\n\n\n\nconst Layout = ({ children, title = \"Smart-ChatBox\", description = \"Sistema inteligente para gerenciar empresas, projetos e leads\" })=>{\n    const { isAuthenticated } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__.useAuth)();\n    // This forces all table elements to use the correct dark mode styles\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (false) {}\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_2___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: title\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/layout/Layout.tsx\",\n                        lineNumber: 184,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"description\",\n                        content: description\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/layout/Layout.tsx\",\n                        lineNumber: 185,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"viewport\",\n                        content: \"width=device-width, initial-scale=1\"\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/layout/Layout.tsx\",\n                        lineNumber: 186,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"icon\",\n                        href: \"/favicon.ico\"\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/layout/Layout.tsx\",\n                        lineNumber: 187,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"stylesheet\",\n                        href: \"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css\"\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/layout/Layout.tsx\",\n                        lineNumber: 189,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"stylesheet\",\n                        href: \"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css\"\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/layout/Layout.tsx\",\n                        lineNumber: 191,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"script\", {\n                        dangerouslySetInnerHTML: {\n                            __html: `\n          // Run immediately to apply dark mode to tables if needed\n          (function() {\n            if (document.body.classList.contains('dark-mode') || document.body.getAttribute('data-theme') === 'dark') {\n              // Select all table elements\n              const tableElements = document.querySelectorAll(\n                'table, .table, tr, td, th, thead, tbody, tfoot, .table-responsive, ' +\n                '.table-striped, .table-hover, .table-bordered'\n              );\n              \n              // Apply dark mode styles\n              tableElements.forEach(el => {\n                el.classList.add('dark-mode-table');\n                el.setAttribute('data-bs-theme', 'dark');\n                el.setAttribute('data-theme-mode', 'dark');\n                \n                // Apply inline styles for immediate effect\n                if (el instanceof HTMLElement) {\n                  el.style.setProperty('background-color', 'var(--dark-card)', 'important');\n                  el.style.setProperty('color', 'var(--dark-text)', 'important');\n                  el.style.setProperty('border-color', 'var(--dark-table-border)', 'important');\n                }\n              });\n            }\n          })();\n        `\n                        }\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/layout/Layout.tsx\",\n                        lineNumber: 194,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"style\", {\n                        dangerouslySetInnerHTML: {\n                            __html: `\n          /* Inline critical table styles with very high specificity for immediate application */\n          html body.dark-mode table,\n          html body.dark-mode .table,\n          html body.dark-mode tr,\n          html body.dark-mode td,\n          html body.dark-mode th,\n          html body.dark-mode tbody,\n          html body.dark-mode thead,\n          html body.dark-mode .table-responsive,\n          [data-theme=\"dark\"] table,\n          [data-theme=\"dark\"] .table,\n          [data-theme=\"dark\"] tr,\n          [data-theme=\"dark\"] td,\n          [data-theme=\"dark\"] th {\n            background-color: var(--dark-card) !important;\n            color: var(--dark-text) !important;\n            border-color: var(--dark-table-border) !important;\n          }\n          \n          /* Specific styles for table headers */\n          html body.dark-mode thead,\n          html body.dark-mode th,\n          html body.dark-mode thead th,\n          html body.dark-mode thead td,\n          [data-theme=\"dark\"] thead,\n          [data-theme=\"dark\"] thead th {\n            background-color: var(--dark-table-header) !important;\n            color: var(--dark-text) !important;\n          }\n          \n          /* Specific styles for dark-mode-table class */\n          .dark-mode-table,\n          tr.dark-mode-table,\n          td.dark-mode-table,\n          th.dark-mode-table {\n            background-color: var(--dark-card) !important;\n            color: var(--dark-text) !important;\n            border-color: var(--dark-table-border) !important;\n          }\n          \n          /* Striped table rows in dark mode */\n          html body.dark-mode .table-striped tbody tr:nth-of-type(odd),\n          [data-theme=\"dark\"] .table-striped tbody tr:nth-of-type(odd) {\n            background-color: rgba(255, 255, 255, 0.05) !important;\n            color: var(--dark-text) !important;\n          }\n          \n          /* Handle hover effects */\n          html body.dark-mode .table-hover tbody tr:hover,\n          html body.dark-mode tr:hover,\n          [data-theme=\"dark\"] .table-hover tbody tr:hover {\n            background-color: var(--dark-table-hover) !important;\n            color: var(--dark-text) !important;\n          }\n          \n          /* Force all Bootstrap table cells in dark mode */\n          html body.dark-mode .table-responsive *,\n          html body.dark-mode table *,\n          [data-theme=\"dark\"] .table-responsive *,\n          [data-theme=\"dark\"] table * {\n            color: var(--dark-text) !important;\n          }\n        `\n                        }\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/layout/Layout.tsx\",\n                        lineNumber: 222,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/usr/src/app/src/components/layout/Layout.tsx\",\n                lineNumber: 183,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"d-flex flex-column min-vh-100\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Navigation__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {}, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/layout/Layout.tsx\",\n                        lineNumber: 289,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                        className: \"flex-grow-1 py-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"container\",\n                            children: children\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/layout/Layout.tsx\",\n                            lineNumber: 292,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/layout/Layout.tsx\",\n                        lineNumber: 291,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                        className: \"py-3 bg-light\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"container text-center\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mb-0\",\n                                children: [\n                                    \"\\xa9 \",\n                                    new Date().getFullYear(),\n                                    \" Smart-ChatBox. Todos os direitos reservados.\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/usr/src/app/src/components/layout/Layout.tsx\",\n                                lineNumber: 299,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/layout/Layout.tsx\",\n                            lineNumber: 298,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/layout/Layout.tsx\",\n                        lineNumber: 297,\n                        columnNumber: 9\n                    }, undefined),\n                    isAuthenticated && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_common_RealtimeNotifications__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/layout/Layout.tsx\",\n                        lineNumber: 306,\n                        columnNumber: 29\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_common_ThemeToggle__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {}, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/layout/Layout.tsx\",\n                        lineNumber: 309,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/usr/src/app/src/components/layout/Layout.tsx\",\n                lineNumber: 288,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Layout);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9sYXlvdXQvTGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBeUM7QUFDWjtBQUNTO0FBQzhCO0FBQ3BCO0FBQ0s7QUFRckQsTUFBTU8sU0FBZ0MsQ0FBQyxFQUNyQ0MsUUFBUSxFQUNSQyxRQUFRLGVBQWUsRUFDdkJDLGNBQWMsK0RBQStELEVBQzlFO0lBQ0MsTUFBTSxFQUFFQyxlQUFlLEVBQUUsR0FBR0wsOERBQU9BO0lBRW5DLHFFQUFxRTtJQUNyRUwsZ0RBQVNBLENBQUM7UUFDUixJQUFJLEtBQWtCLEVBQWEsRUEySmxDO0lBQ0gsR0FBRyxFQUFFO0lBRUwscUJBQ0U7OzBCQUNFLDhEQUFDQyxrREFBSUE7O2tDQUNILDhEQUFDTztrQ0FBT0E7Ozs7OztrQ0FDUiw4REFBQ2tEO3dCQUFLQyxNQUFLO3dCQUFjQyxTQUFTbkQ7Ozs7OztrQ0FDbEMsOERBQUNpRDt3QkFBS0MsTUFBSzt3QkFBV0MsU0FBUTs7Ozs7O2tDQUM5Qiw4REFBQ0M7d0JBQUtDLEtBQUk7d0JBQU9DLE1BQUs7Ozs7OztrQ0FFdEIsOERBQUNGO3dCQUFLQyxLQUFJO3dCQUFhQyxNQUFLOzs7Ozs7a0NBRTVCLDhEQUFDRjt3QkFBS0MsS0FBSTt3QkFBYUMsTUFBSzs7Ozs7O2tDQUc1Qiw4REFBQ0M7d0JBQU9DLHlCQUF5Qjs0QkFBRUMsUUFBUSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1FBeUI1QyxDQUFDO3dCQUFBOzs7Ozs7a0NBR0QsOERBQUNsRDt3QkFBTWlELHlCQUF5Qjs0QkFBRUMsUUFBUSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7UUErRDNDLENBQUM7d0JBQUE7Ozs7Ozs7Ozs7OzswQkFHSCw4REFBQ0M7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDbEUsbURBQVVBOzs7OztrQ0FFWCw4REFBQ21FO3dCQUFLRCxXQUFVO2tDQUNkLDRFQUFDRDs0QkFBSUMsV0FBVTtzQ0FDWjdEOzs7Ozs7Ozs7OztrQ0FJTCw4REFBQytEO3dCQUFPRixXQUFVO2tDQUNoQiw0RUFBQ0Q7NEJBQUlDLFdBQVU7c0NBQ2IsNEVBQUNHO2dDQUFFSCxXQUFVOztvQ0FBTztvQ0FDVixJQUFJSSxPQUFPQyxXQUFXO29DQUFHOzs7Ozs7Ozs7Ozs7Ozs7OztvQkFNdEMvRCxpQ0FBbUIsOERBQUNQLHFFQUFxQkE7Ozs7O2tDQUcxQyw4REFBQ0MsMkRBQVdBOzs7Ozs7Ozs7Ozs7O0FBSXBCO0FBRUEsaUVBQWVFLE1BQU1BLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL2xheW91dC9MYXlvdXQudHN4P2U2NDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBIZWFkIGZyb20gJ25leHQvaGVhZCc7XG5pbXBvcnQgTmF2aWdhdGlvbiBmcm9tICcuL05hdmlnYXRpb24nO1xuaW1wb3J0IFJlYWx0aW1lTm90aWZpY2F0aW9ucyBmcm9tICcuLi9jb21tb24vUmVhbHRpbWVOb3RpZmljYXRpb25zJztcbmltcG9ydCBUaGVtZVRvZ2dsZSBmcm9tICcuLi9jb21tb24vVGhlbWVUb2dnbGUnO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJy4uLy4uL2NvbnRleHRzL0F1dGhDb250ZXh0JztcblxuaW50ZXJmYWNlIExheW91dFByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xufVxuXG5jb25zdCBMYXlvdXQ6IFJlYWN0LkZDPExheW91dFByb3BzPiA9ICh7XG4gIGNoaWxkcmVuLFxuICB0aXRsZSA9ICdTbWFydC1DaGF0Qm94JyxcbiAgZGVzY3JpcHRpb24gPSAnU2lzdGVtYSBpbnRlbGlnZW50ZSBwYXJhIGdlcmVuY2lhciBlbXByZXNhcywgcHJvamV0b3MgZSBsZWFkcycsXG59KSA9PiB7XG4gIGNvbnN0IHsgaXNBdXRoZW50aWNhdGVkIH0gPSB1c2VBdXRoKCk7XG4gIFxuICAvLyBUaGlzIGZvcmNlcyBhbGwgdGFibGUgZWxlbWVudHMgdG8gdXNlIHRoZSBjb3JyZWN0IGRhcmsgbW9kZSBzdHlsZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IGFwcGx5RGFya01vZGVUb0VsZW1lbnQgPSAoZWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgLy8gQXBwbHkgZGlyZWN0bHkgd2l0aCBjbGFzcyArIGRhdGEgYXR0cmlidXRlc1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2RhcmstbW9kZS10YWJsZScpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1icy10aGVtZScsICdkYXJrJyk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lLW1vZGUnLCAnZGFyaycpO1xuICAgICAgICBcbiAgICAgICAgLy8gQXBwbHkgd2l0aCBpbmxpbmUgc3R5bGVzIGZvciBtYXhpbXVtIG92ZXJyaWRlIGNhcGFiaWxpdHlcbiAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZC1jb2xvcicsICd2YXIoLS1kYXJrLWNhcmQpJywgJ2ltcG9ydGFudCcpO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCdjb2xvcicsICd2YXIoLS1kYXJrLXRleHQpJywgJ2ltcG9ydGFudCcpO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCdib3JkZXItY29sb3InLCAndmFyKC0tZGFyay10YWJsZS1ib3JkZXIpJywgJ2ltcG9ydGFudCcpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2V0IHNwZWNpZmljIHN0eWxlcyBiYXNlZCBvbiBlbGVtZW50IHR5cGVcbiAgICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PT0gJ1RSJykge1xuICAgICAgICAgIC8vIEZvciB0YWJsZSByb3dzLCBlbnN1cmUgdGhlIGJhY2tncm91bmQgY29sb3IgaXMgZXhwbGljaXRseSBzZXRcbiAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCdiYWNrZ3JvdW5kLWNvbG9yJywgJ3ZhcigtLWRhcmstY2FyZCknLCAnaW1wb3J0YW50Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC50YWdOYW1lID09PSAnVEFCTEUnKSB7XG4gICAgICAgICAgLy8gRm9yIHRhYmxlIGVsZW1lbnRzLCBlbnN1cmUgYWxsIGJvcmRlcnMgYXJlIHByb3Blcmx5IHNldFxuICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJ2JvcmRlci1jb2xvcicsICd2YXIoLS1kYXJrLXRhYmxlLWJvcmRlciknLCAnaW1wb3J0YW50Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC50YWdOYW1lID09PSAnVEhFQUQnIHx8IGVsZW1lbnQudGFnTmFtZSA9PT0gJ1RIJykge1xuICAgICAgICAgIC8vIEZvciB0YWJsZSBoZWFkZXJzLCB1c2UgdGhlIGhlYWRlciBiYWNrZ3JvdW5kIGNvbG9yXG4gICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZC1jb2xvcicsICd2YXIoLS1kYXJrLXRhYmxlLWhlYWRlciknLCAnaW1wb3J0YW50Jyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnN0IHJlbW92ZURhcmtNb2RlRnJvbUVsZW1lbnQgPSAoZWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdkYXJrLW1vZGUtdGFibGUnKTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtYnMtdGhlbWUnKTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtdGhlbWUtbW9kZScpO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdiYWNrZ3JvdW5kLWNvbG9yJyk7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2NvbG9yJyk7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2JvcmRlci1jb2xvcicpO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3QgYXBwbHlEYXJrTW9kZVRvQWxsVGFibGVFbGVtZW50cyA9ICgpID0+IHtcbiAgICAgICAgLy8gVXNlIGEgd2lkZSBzZWxlY3RvciB0byBjYXRjaCBhbGwgcG9zc2libGUgdGFibGUgZWxlbWVudHNcbiAgICAgICAgY29uc3QgdGFibGVFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgICAgJ3RhYmxlLCAudGFibGUsIHRyLCB0ZCwgdGgsIHRoZWFkLCB0Ym9keSwgdGZvb3QsIC50YWJsZS1yZXNwb25zaXZlLCAnICtcbiAgICAgICAgICAnLnRhYmxlLXN0cmlwZWQsIC50YWJsZS1ob3ZlciwgLnRhYmxlLWJvcmRlcmVkLCAnICtcbiAgICAgICAgICAnLnRhYmxlIHRyLCAudGFibGUgdGQsIC50YWJsZSB0aCwgJyArIFxuICAgICAgICAgICd0YWJsZSB0ciwgdGFibGUgdGQsIHRhYmxlIHRoJ1xuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgdGFibGVFbGVtZW50cy5mb3JFYWNoKGVsID0+IGFwcGx5RGFya01vZGVUb0VsZW1lbnQoZWwgYXMgSFRNTEVsZW1lbnQpKTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnN0IHJlbW92ZURhcmtNb2RlRnJvbUFsbFRhYmxlRWxlbWVudHMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhcmtNb2RlRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGFyay1tb2RlLXRhYmxlJyk7XG4gICAgICAgIGRhcmtNb2RlRWxlbWVudHMuZm9yRWFjaChlbCA9PiByZW1vdmVEYXJrTW9kZUZyb21FbGVtZW50KGVsIGFzIEhUTUxFbGVtZW50KSk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBGb3JjZSBkYXJrIG1vZGUgc3R5bGVzIG9uIHRhYmxlIGVsZW1lbnRzIHdoZW4gdGhlbWUgY2hhbmdlc1xuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG4gICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKChtdXRhdGlvbikgPT4ge1xuICAgICAgICAgIGlmIChtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lID09PSAnY2xhc3MnKSB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgICAgIGNvbnN0IGlzRGFya01vZGUgPSBib2R5LmNsYXNzTGlzdC5jb250YWlucygnZGFyay1tb2RlJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChpc0RhcmtNb2RlKSB7XG4gICAgICAgICAgICAgIGFwcGx5RGFya01vZGVUb0FsbFRhYmxlRWxlbWVudHMoKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIEFsc28gc2V0IGEgZGF0YSBhdHRyaWJ1dGUgb24gYm9keSB0byBhbGxvdyBDU1Mgc2VsZWN0b3JzIHRvIHRhcmdldCBpdFxuICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScsICdkYXJrJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZW1vdmVEYXJrTW9kZUZyb21BbGxUYWJsZUVsZW1lbnRzKCk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGRhdGEgYXR0cmlidXRlXG4gICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXRoZW1lJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBTdGFydCB3YXRjaGluZyBmb3IgY2xhc3MgY2hhbmdlcyBvbiBib2R5XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcbiAgICAgIFxuICAgICAgLy8gUnVuIG9uY2UgaW5pdGlhbGx5IHRvIGhhbmRsZSBjdXJyZW50IHN0YXRlXG4gICAgICBjb25zdCBpc0RhcmtNb2RlID0gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ2RhcmstbW9kZScpO1xuICAgICAgaWYgKGlzRGFya01vZGUpIHtcbiAgICAgICAgYXBwbHlEYXJrTW9kZVRvQWxsVGFibGVFbGVtZW50cygpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScsICdkYXJrJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEhhbmRsZSBkeW5hbWljYWxseSBhZGRlZCB0YWJsZSBlbGVtZW50cyB3aXRoIGEgbW9yZSBjb21wcmVoZW5zaXZlIGFwcHJvYWNoXG4gICAgICBjb25zdCBib2R5T2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG4gICAgICAgIGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnZGFyay1tb2RlJykpIHtcbiAgICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChtdXRhdGlvbiA9PiB7XG4gICAgICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2NoaWxkTGlzdCcpIHtcbiAgICAgICAgICAgICAgbXV0YXRpb24uYWRkZWROb2Rlcy5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSB7IC8vIEVsZW1lbnQgbm9kZVxuICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IG5vZGUgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgZWxlbWVudCBpcyBhIHRhYmxlLXJlbGF0ZWQgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgaWYgKFsnVEFCTEUnLCAnVFInLCAnVEQnLCAnVEgnLCAnVEhFQUQnLCAnVEJPRFknLCAnVEZPT1QnXS5pbmNsdWRlcyhlbGVtZW50LnRhZ05hbWUpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YWJsZScpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YWJsZS1yZXNwb25zaXZlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGFwcGx5RGFya01vZGVUb0VsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIC8vIEFsc28gY2hlY2sgYWxsIGRlc2NlbmRhbnRzIG9mIHRoaXMgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgY29uc3QgdGFibGVEZXNjZW5kYW50cyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgICAgICAgICAgICAgJ3RhYmxlLCAudGFibGUsIHRyLCB0ZCwgdGgsIHRoZWFkLCB0Ym9keSwgdGZvb3QsIC50YWJsZS1yZXNwb25zaXZlLCAnICtcbiAgICAgICAgICAgICAgICAgICAgJy50YWJsZS1zdHJpcGVkLCAudGFibGUtaG92ZXIsIC50YWJsZS1ib3JkZXJlZCwgJyArXG4gICAgICAgICAgICAgICAgICAgICcudGFibGUgdHIsIC50YWJsZSB0ZCwgLnRhYmxlIHRoLCAnICsgXG4gICAgICAgICAgICAgICAgICAgICd0YWJsZSB0ciwgdGFibGUgdGQsIHRhYmxlIHRoJ1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgdGFibGVEZXNjZW5kYW50cy5mb3JFYWNoKGVsID0+IGFwcGx5RGFya01vZGVUb0VsZW1lbnQoZWwgYXMgSFRNTEVsZW1lbnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gV2F0Y2ggZm9yIERPTSBjaGFuZ2VzIHRvIGNhdGNoIGR5bmFtaWNhbGx5IGFkZGVkIHRhYmxlIGVsZW1lbnRzXG4gICAgICBib2R5T2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTtcbiAgICAgIFxuICAgICAgLy8gQWRkaXRpb25hbCBvYnNlcnZlciBmb3Igd2hlbiB0aGUgYm9keSBub2RlIGlzIGFjdHVhbGx5IGNoYW5nZWRcbiAgICAgIC8vIFRoaXMgZW5zdXJlcyB0aGF0IGludGVybmFsIGNoYW5nZXMgdG8gdGJvZHkvdGFibGUgcm93cyBhcmUgY2F1Z2h0XG4gICAgICBjb25zdCB0YWJsZUNvbnRlbnRPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHtcbiAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdkYXJrLW1vZGUnKSkge1xuICAgICAgICAgIGxldCBuZWVkc1JlYXBwbGljYXRpb24gPSBmYWxzZTtcbiAgICAgICAgICBcbiAgICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChtdXRhdGlvbiA9PiB7XG4gICAgICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2NoaWxkTGlzdCcgJiYgXG4gICAgICAgICAgICAgICAgKG11dGF0aW9uLnRhcmdldC5ub2RlTmFtZSA9PT0gJ1RBQkxFJyB8fCBcbiAgICAgICAgICAgICAgICAgbXV0YXRpb24udGFyZ2V0Lm5vZGVOYW1lID09PSAnVEJPRFknIHx8XG4gICAgICAgICAgICAgICAgIG11dGF0aW9uLnRhcmdldC5ub2RlTmFtZSA9PT0gJ1RIRUFEJyB8fFxuICAgICAgICAgICAgICAgICBtdXRhdGlvbi50YXJnZXQubm9kZU5hbWUgPT09ICdUUicgfHxcbiAgICAgICAgICAgICAgICAgKG11dGF0aW9uLnRhcmdldCBhcyBFbGVtZW50KS5jbGFzc0xpc3QuY29udGFpbnMoJ3RhYmxlLXJlc3BvbnNpdmUnKSkpIHtcbiAgICAgICAgICAgICAgbmVlZHNSZWFwcGxpY2F0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAobmVlZHNSZWFwcGxpY2F0aW9uKSB7XG4gICAgICAgICAgICAvLyBSZWFwcGx5IGRhcmsgbW9kZSB0byBhbGwgdGFibGUgZWxlbWVudHNcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gYXBwbHlEYXJrTW9kZVRvQWxsVGFibGVFbGVtZW50cygpLCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBXYXRjaCBmb3IgY2hhbmdlcyBzcGVjaWZpY2FsbHkgaW4gdGFibGUgY29udGVudFxuICAgICAgY29uc3QgdGFibGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgndGFibGUsIC50YWJsZSwgLnRhYmxlLXJlc3BvbnNpdmUnKTtcbiAgICAgIHRhYmxlcy5mb3JFYWNoKHRhYmxlID0+IHtcbiAgICAgICAgdGFibGVDb250ZW50T2JzZXJ2ZXIub2JzZXJ2ZSh0YWJsZSwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gQ2xlYW4gdXBcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgYm9keU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGFibGVDb250ZW50T2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxIZWFkPlxuICAgICAgICA8dGl0bGU+e3RpdGxlfTwvdGl0bGU+XG4gICAgICAgIDxtZXRhIG5hbWU9XCJkZXNjcmlwdGlvblwiIGNvbnRlbnQ9e2Rlc2NyaXB0aW9ufSAvPlxuICAgICAgICA8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTFcIiAvPlxuICAgICAgICA8bGluayByZWw9XCJpY29uXCIgaHJlZj1cIi9mYXZpY29uLmljb1wiIC8+XG4gICAgICAgIHsvKiBBZGQgQm9vdHN0cmFwIEljb25zIENTUyAqL31cbiAgICAgICAgPGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIGhyZWY9XCJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2Jvb3RzdHJhcC1pY29uc0AxLjExLjEvZm9udC9ib290c3RyYXAtaWNvbnMuY3NzXCIgLz5cbiAgICAgICAgey8qIEFkZCBBbmltYXRlLmNzcyBmb3IgYW5pbWF0aW9ucyAqL31cbiAgICAgICAgPGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIGhyZWY9XCJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9hbmltYXRlLmNzcy80LjEuMS9hbmltYXRlLm1pbi5jc3NcIiAvPlxuICAgICAgICBcbiAgICAgICAgey8qIEFkZCBzY3JpcHQgdG8gaW1tZWRpYXRlbHkgYXBwbHkgZGFyayBtb2RlIHRvIHRhYmxlcyBvbiBsb2FkICovfVxuICAgICAgICA8c2NyaXB0IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogYFxuICAgICAgICAgIC8vIFJ1biBpbW1lZGlhdGVseSB0byBhcHBseSBkYXJrIG1vZGUgdG8gdGFibGVzIGlmIG5lZWRlZFxuICAgICAgICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnZGFyay1tb2RlJykgfHwgZG9jdW1lbnQuYm9keS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGhlbWUnKSA9PT0gJ2RhcmsnKSB7XG4gICAgICAgICAgICAgIC8vIFNlbGVjdCBhbGwgdGFibGUgZWxlbWVudHNcbiAgICAgICAgICAgICAgY29uc3QgdGFibGVFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgICAgICAgICAgJ3RhYmxlLCAudGFibGUsIHRyLCB0ZCwgdGgsIHRoZWFkLCB0Ym9keSwgdGZvb3QsIC50YWJsZS1yZXNwb25zaXZlLCAnICtcbiAgICAgICAgICAgICAgICAnLnRhYmxlLXN0cmlwZWQsIC50YWJsZS1ob3ZlciwgLnRhYmxlLWJvcmRlcmVkJ1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQXBwbHkgZGFyayBtb2RlIHN0eWxlc1xuICAgICAgICAgICAgICB0YWJsZUVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2RhcmstbW9kZS10YWJsZScpO1xuICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1icy10aGVtZScsICdkYXJrJyk7XG4gICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lLW1vZGUnLCAnZGFyaycpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEFwcGx5IGlubGluZSBzdHlsZXMgZm9yIGltbWVkaWF0ZSBlZmZlY3RcbiAgICAgICAgICAgICAgICBpZiAoZWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgZWwuc3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQtY29sb3InLCAndmFyKC0tZGFyay1jYXJkKScsICdpbXBvcnRhbnQnKTtcbiAgICAgICAgICAgICAgICAgIGVsLnN0eWxlLnNldFByb3BlcnR5KCdjb2xvcicsICd2YXIoLS1kYXJrLXRleHQpJywgJ2ltcG9ydGFudCcpO1xuICAgICAgICAgICAgICAgICAgZWwuc3R5bGUuc2V0UHJvcGVydHkoJ2JvcmRlci1jb2xvcicsICd2YXIoLS1kYXJrLXRhYmxlLWJvcmRlciknLCAnaW1wb3J0YW50Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSgpO1xuICAgICAgICBgfX0gLz5cbiAgICAgICAgXG4gICAgICAgIHsvKiBBZGQgZXh0cmEgQ1NTIHRvIG92ZXJyaWRlIEJvb3RzdHJhcCB0YWJsZSBzdHlsZXMgKi99XG4gICAgICAgIDxzdHlsZSBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IGBcbiAgICAgICAgICAvKiBJbmxpbmUgY3JpdGljYWwgdGFibGUgc3R5bGVzIHdpdGggdmVyeSBoaWdoIHNwZWNpZmljaXR5IGZvciBpbW1lZGlhdGUgYXBwbGljYXRpb24gKi9cbiAgICAgICAgICBodG1sIGJvZHkuZGFyay1tb2RlIHRhYmxlLFxuICAgICAgICAgIGh0bWwgYm9keS5kYXJrLW1vZGUgLnRhYmxlLFxuICAgICAgICAgIGh0bWwgYm9keS5kYXJrLW1vZGUgdHIsXG4gICAgICAgICAgaHRtbCBib2R5LmRhcmstbW9kZSB0ZCxcbiAgICAgICAgICBodG1sIGJvZHkuZGFyay1tb2RlIHRoLFxuICAgICAgICAgIGh0bWwgYm9keS5kYXJrLW1vZGUgdGJvZHksXG4gICAgICAgICAgaHRtbCBib2R5LmRhcmstbW9kZSB0aGVhZCxcbiAgICAgICAgICBodG1sIGJvZHkuZGFyay1tb2RlIC50YWJsZS1yZXNwb25zaXZlLFxuICAgICAgICAgIFtkYXRhLXRoZW1lPVwiZGFya1wiXSB0YWJsZSxcbiAgICAgICAgICBbZGF0YS10aGVtZT1cImRhcmtcIl0gLnRhYmxlLFxuICAgICAgICAgIFtkYXRhLXRoZW1lPVwiZGFya1wiXSB0cixcbiAgICAgICAgICBbZGF0YS10aGVtZT1cImRhcmtcIl0gdGQsXG4gICAgICAgICAgW2RhdGEtdGhlbWU9XCJkYXJrXCJdIHRoIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWRhcmstY2FyZCkgIWltcG9ydGFudDtcbiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1kYXJrLXRleHQpICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWRhcmstdGFibGUtYm9yZGVyKSAhaW1wb3J0YW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvKiBTcGVjaWZpYyBzdHlsZXMgZm9yIHRhYmxlIGhlYWRlcnMgKi9cbiAgICAgICAgICBodG1sIGJvZHkuZGFyay1tb2RlIHRoZWFkLFxuICAgICAgICAgIGh0bWwgYm9keS5kYXJrLW1vZGUgdGgsXG4gICAgICAgICAgaHRtbCBib2R5LmRhcmstbW9kZSB0aGVhZCB0aCxcbiAgICAgICAgICBodG1sIGJvZHkuZGFyay1tb2RlIHRoZWFkIHRkLFxuICAgICAgICAgIFtkYXRhLXRoZW1lPVwiZGFya1wiXSB0aGVhZCxcbiAgICAgICAgICBbZGF0YS10aGVtZT1cImRhcmtcIl0gdGhlYWQgdGgge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGFyay10YWJsZS1oZWFkZXIpICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICBjb2xvcjogdmFyKC0tZGFyay10ZXh0KSAhaW1wb3J0YW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvKiBTcGVjaWZpYyBzdHlsZXMgZm9yIGRhcmstbW9kZS10YWJsZSBjbGFzcyAqL1xuICAgICAgICAgIC5kYXJrLW1vZGUtdGFibGUsXG4gICAgICAgICAgdHIuZGFyay1tb2RlLXRhYmxlLFxuICAgICAgICAgIHRkLmRhcmstbW9kZS10YWJsZSxcbiAgICAgICAgICB0aC5kYXJrLW1vZGUtdGFibGUge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGFyay1jYXJkKSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgY29sb3I6IHZhcigtLWRhcmstdGV4dCkgIWltcG9ydGFudDtcbiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tZGFyay10YWJsZS1ib3JkZXIpICFpbXBvcnRhbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8qIFN0cmlwZWQgdGFibGUgcm93cyBpbiBkYXJrIG1vZGUgKi9cbiAgICAgICAgICBodG1sIGJvZHkuZGFyay1tb2RlIC50YWJsZS1zdHJpcGVkIHRib2R5IHRyOm50aC1vZi10eXBlKG9kZCksXG4gICAgICAgICAgW2RhdGEtdGhlbWU9XCJkYXJrXCJdIC50YWJsZS1zdHJpcGVkIHRib2R5IHRyOm50aC1vZi10eXBlKG9kZCkge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA1KSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgY29sb3I6IHZhcigtLWRhcmstdGV4dCkgIWltcG9ydGFudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLyogSGFuZGxlIGhvdmVyIGVmZmVjdHMgKi9cbiAgICAgICAgICBodG1sIGJvZHkuZGFyay1tb2RlIC50YWJsZS1ob3ZlciB0Ym9keSB0cjpob3ZlcixcbiAgICAgICAgICBodG1sIGJvZHkuZGFyay1tb2RlIHRyOmhvdmVyLFxuICAgICAgICAgIFtkYXRhLXRoZW1lPVwiZGFya1wiXSAudGFibGUtaG92ZXIgdGJvZHkgdHI6aG92ZXIge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGFyay10YWJsZS1ob3ZlcikgIWltcG9ydGFudDtcbiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1kYXJrLXRleHQpICFpbXBvcnRhbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8qIEZvcmNlIGFsbCBCb290c3RyYXAgdGFibGUgY2VsbHMgaW4gZGFyayBtb2RlICovXG4gICAgICAgICAgaHRtbCBib2R5LmRhcmstbW9kZSAudGFibGUtcmVzcG9uc2l2ZSAqLFxuICAgICAgICAgIGh0bWwgYm9keS5kYXJrLW1vZGUgdGFibGUgKixcbiAgICAgICAgICBbZGF0YS10aGVtZT1cImRhcmtcIl0gLnRhYmxlLXJlc3BvbnNpdmUgKixcbiAgICAgICAgICBbZGF0YS10aGVtZT1cImRhcmtcIl0gdGFibGUgKiB7XG4gICAgICAgICAgICBjb2xvcjogdmFyKC0tZGFyay10ZXh0KSAhaW1wb3J0YW50O1xuICAgICAgICAgIH1cbiAgICAgICAgYH19IC8+XG4gICAgICA8L0hlYWQ+XG4gICAgICBcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGZsZXgtY29sdW1uIG1pbi12aC0xMDBcIj5cbiAgICAgICAgPE5hdmlnYXRpb24gLz5cbiAgICAgICAgXG4gICAgICAgIDxtYWluIGNsYXNzTmFtZT1cImZsZXgtZ3Jvdy0xIHB5LTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L21haW4+XG4gICAgICAgIFxuICAgICAgICA8Zm9vdGVyIGNsYXNzTmFtZT1cInB5LTMgYmctbGlnaHRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMFwiPlxuICAgICAgICAgICAgICAmY29weTsge25ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKX0gU21hcnQtQ2hhdEJveC4gVG9kb3Mgb3MgZGlyZWl0b3MgcmVzZXJ2YWRvcy5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb290ZXI+XG4gICAgICAgIFxuICAgICAgICB7LyogUmVhbC10aW1lIG5vdGlmaWNhdGlvbnMgZm9yIGF1dGhlbnRpY2F0ZWQgdXNlcnMgKi99XG4gICAgICAgIHtpc0F1dGhlbnRpY2F0ZWQgJiYgPFJlYWx0aW1lTm90aWZpY2F0aW9ucyAvPn1cbiAgICAgICAgXG4gICAgICAgIHsvKiBUaGVtZSB0b2dnbGUgYnV0dG9uICovfVxuICAgICAgICA8VGhlbWVUb2dnbGUgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTGF5b3V0OyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsIkhlYWQiLCJOYXZpZ2F0aW9uIiwiUmVhbHRpbWVOb3RpZmljYXRpb25zIiwiVGhlbWVUb2dnbGUiLCJ1c2VBdXRoIiwiTGF5b3V0IiwiY2hpbGRyZW4iLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiaXNBdXRoZW50aWNhdGVkIiwiYXBwbHlEYXJrTW9kZVRvRWxlbWVudCIsImVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJzdHlsZSIsInNldFByb3BlcnR5IiwidGFnTmFtZSIsInJlbW92ZURhcmtNb2RlRnJvbUVsZW1lbnQiLCJyZW1vdmUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJyZW1vdmVQcm9wZXJ0eSIsImFwcGx5RGFya01vZGVUb0FsbFRhYmxlRWxlbWVudHMiLCJ0YWJsZUVsZW1lbnRzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVsIiwicmVtb3ZlRGFya01vZGVGcm9tQWxsVGFibGVFbGVtZW50cyIsImRhcmtNb2RlRWxlbWVudHMiLCJvYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJtdXRhdGlvbiIsImF0dHJpYnV0ZU5hbWUiLCJib2R5IiwiaXNEYXJrTW9kZSIsImNvbnRhaW5zIiwib2JzZXJ2ZSIsImF0dHJpYnV0ZXMiLCJib2R5T2JzZXJ2ZXIiLCJ0eXBlIiwiYWRkZWROb2RlcyIsIm5vZGUiLCJub2RlVHlwZSIsImluY2x1ZGVzIiwidGFibGVEZXNjZW5kYW50cyIsImNoaWxkTGlzdCIsInN1YnRyZWUiLCJ0YWJsZUNvbnRlbnRPYnNlcnZlciIsIm5lZWRzUmVhcHBsaWNhdGlvbiIsInRhcmdldCIsIm5vZGVOYW1lIiwic2V0VGltZW91dCIsInRhYmxlcyIsInRhYmxlIiwiZGlzY29ubmVjdCIsIm1ldGEiLCJuYW1lIiwiY29udGVudCIsImxpbmsiLCJyZWwiLCJocmVmIiwic2NyaXB0IiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiLCJkaXYiLCJjbGFzc05hbWUiLCJtYWluIiwiZm9vdGVyIiwicCIsIkRhdGUiLCJnZXRGdWxsWWVhciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/layout/Layout.tsx\n");

/***/ }),

/***/ "./src/components/layout/Navigation.tsx":
/*!**********************************************!*\
  !*** ./src/components/layout/Navigation.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/link */ \"./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../contexts/AuthContext */ \"./src/contexts/AuthContext.tsx\");\n\n\n\n\n\nconst Navigation = ()=>{\n    const { isAuthenticated, user, logout } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_4__.useAuth)();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    const handleLogout = ()=>{\n        logout();\n        router.push(\"/login\");\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n        className: \"navbar navbar-expand-lg navbar-light bg-light\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                    href: \"/\",\n                    className: \"navbar-brand\",\n                    style: {\n                        color: \"#7e57c2\",\n                        fontWeight: \"bold\"\n                    },\n                    children: \"Smart-ChatBox\"\n                }, void 0, false, {\n                    fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                    lineNumber: 18,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    className: \"navbar-toggler\",\n                    type: \"button\",\n                    \"data-bs-toggle\": \"collapse\",\n                    \"data-bs-target\": \"#navbarNav\",\n                    \"aria-controls\": \"navbarNav\",\n                    \"aria-expanded\": \"false\",\n                    \"aria-label\": \"Alternar navega\\xe7\\xe3o\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"navbar-toggler-icon\"\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                        lineNumber: 31,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                    lineNumber: 22,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"collapse navbar-collapse\",\n                    id: \"navbarNav\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                            className: \"navbar-nav me-auto\",\n                            children: isAuthenticated && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        className: \"nav-item\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                            href: \"/dashboard\",\n                                            className: `nav-link ${router.pathname === \"/dashboard\" ? \"active\" : \"\"}`,\n                                            children: \"Painel\"\n                                        }, void 0, false, {\n                                            fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                            lineNumber: 39,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                        lineNumber: 38,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        className: \"nav-item\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                            href: \"/empresas\",\n                                            className: `nav-link ${router.pathname.startsWith(\"/empresas\") ? \"active\" : \"\"}`,\n                                            children: \"Empresas\"\n                                        }, void 0, false, {\n                                            fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                            lineNumber: 47,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                        lineNumber: 46,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        className: \"nav-item\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                            href: \"/projetos\",\n                                            className: `nav-link ${router.pathname.startsWith(\"/projetos\") ? \"active\" : \"\"}`,\n                                            children: \"Projetos\"\n                                        }, void 0, false, {\n                                            fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                            lineNumber: 55,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                        lineNumber: 54,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        className: \"nav-item\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                            href: \"/leads\",\n                                            className: `nav-link ${router.pathname.startsWith(\"/leads\") ? \"active\" : \"\"}`,\n                                            children: \"Leads\"\n                                        }, void 0, false, {\n                                            fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                            lineNumber: 63,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                        lineNumber: 62,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        className: \"nav-item\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                            href: \"/contacts\",\n                                            className: `nav-link ${router.pathname.startsWith(\"/contacts\") ? \"active\" : \"\"}`,\n                                            children: \"Contatos\"\n                                        }, void 0, false, {\n                                            fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                            lineNumber: 71,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                        lineNumber: 70,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        className: \"nav-item\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                            href: \"/whatsapp\",\n                                            className: `nav-link ${router.pathname.startsWith(\"/whatsapp\") ? \"active\" : \"\"}`,\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                    className: \"bi bi-whatsapp me-1 text-success\"\n                                                }, void 0, false, {\n                                                    fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                                    lineNumber: 83,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                \"WhatsApp\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                            lineNumber: 79,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                        lineNumber: 78,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true)\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                            lineNumber: 35,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                            className: \"navbar-nav\",\n                            children: isAuthenticated ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    className: \"nav-item dropdown\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                            className: \"nav-link dropdown-toggle\",\n                                            href: \"#\",\n                                            id: \"navbarDropdown\",\n                                            role: \"button\",\n                                            \"data-bs-toggle\": \"dropdown\",\n                                            \"aria-expanded\": \"false\",\n                                            children: user?.email\n                                        }, void 0, false, {\n                                            fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                            lineNumber: 95,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                            className: \"dropdown-menu dropdown-menu-end\",\n                                            \"aria-labelledby\": \"navbarDropdown\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                                        href: \"/profile\",\n                                                        className: \"dropdown-item\",\n                                                        children: \"Perfil\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                                        lineNumber: 107,\n                                                        columnNumber: 23\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                                    lineNumber: 106,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                                        href: \"/api-keys\",\n                                                        className: \"dropdown-item\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                                className: \"bi bi-key me-2\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                                                lineNumber: 113,\n                                                                columnNumber: 25\n                                                            }, undefined),\n                                                            \"API Keys\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                                        lineNumber: 112,\n                                                        columnNumber: 23\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                                    lineNumber: 111,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                                        href: \"/api-docs\",\n                                                        className: \"dropdown-item\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                                className: \"bi bi-file-earmark-text me-2\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                                                lineNumber: 119,\n                                                                columnNumber: 25\n                                                            }, undefined),\n                                                            \"Documenta\\xe7\\xe3o API\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                                        lineNumber: 118,\n                                                        columnNumber: 23\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                                    lineNumber: 117,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                                                        className: \"dropdown-divider\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                                        lineNumber: 124,\n                                                        columnNumber: 23\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                                    lineNumber: 123,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        className: \"dropdown-item\",\n                                                        onClick: handleLogout,\n                                                        children: \"Sair\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                                        lineNumber: 127,\n                                                        columnNumber: 23\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                                    lineNumber: 126,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                            lineNumber: 105,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                    lineNumber: 94,\n                                    columnNumber: 17\n                                }, undefined)\n                            }, void 0, false) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        className: \"nav-item\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                            href: \"/login\",\n                                            className: `nav-link ${router.pathname === \"/login\" ? \"active\" : \"\"}`,\n                                            children: \"Entrar\"\n                                        }, void 0, false, {\n                                            fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                            lineNumber: 137,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                        lineNumber: 136,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        className: \"nav-item\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                            href: \"/register\",\n                                            className: `nav-link ${router.pathname === \"/register\" ? \"active\" : \"\"}`,\n                                            children: \"Cadastrar\"\n                                        }, void 0, false, {\n                                            fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                            lineNumber: 145,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                                        lineNumber: 144,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true)\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                            lineNumber: 91,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n                    lineNumber: 34,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n            lineNumber: 17,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/usr/src/app/src/components/layout/Navigation.tsx\",\n        lineNumber: 16,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Navigation);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9sYXlvdXQvTmF2aWdhdGlvbi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBMEI7QUFDRztBQUNXO0FBQ2E7QUFFckQsTUFBTUksYUFBdUI7SUFDM0IsTUFBTSxFQUFFQyxlQUFlLEVBQUVDLElBQUksRUFBRUMsTUFBTSxFQUFFLEdBQUdKLDhEQUFPQTtJQUNqRCxNQUFNSyxTQUFTTixzREFBU0E7SUFFeEIsTUFBTU8sZUFBZTtRQUNuQkY7UUFDQUMsT0FBT0UsSUFBSSxDQUFDO0lBQ2Q7SUFFQSxxQkFDRSw4REFBQ0M7UUFBSUMsV0FBVTtrQkFDYiw0RUFBQ0M7WUFBSUQsV0FBVTs7OEJBQ2IsOERBQUNYLGtEQUFJQTtvQkFBQ2EsTUFBSztvQkFBSUYsV0FBVTtvQkFBZUcsT0FBTzt3QkFBRUMsT0FBTzt3QkFBV0MsWUFBWTtvQkFBTzs4QkFBRzs7Ozs7OzhCQUl6Riw4REFBQ0M7b0JBQ0NOLFdBQVU7b0JBQ1ZPLE1BQUs7b0JBQ0xDLGtCQUFlO29CQUNmQyxrQkFBZTtvQkFDZkMsaUJBQWM7b0JBQ2RDLGlCQUFjO29CQUNkQyxjQUFXOzhCQUVYLDRFQUFDQzt3QkFBS2IsV0FBVTs7Ozs7Ozs7Ozs7OEJBR2xCLDhEQUFDQztvQkFBSUQsV0FBVTtvQkFBMkJjLElBQUc7O3NDQUMzQyw4REFBQ0M7NEJBQUdmLFdBQVU7c0NBQ1hQLGlDQUNDOztrREFDRSw4REFBQ3VCO3dDQUFHaEIsV0FBVTtrREFDWiw0RUFBQ1gsa0RBQUlBOzRDQUNIYSxNQUFLOzRDQUNMRixXQUFXLENBQUMsU0FBUyxFQUFFSixPQUFPcUIsUUFBUSxLQUFLLGVBQWUsV0FBVyxHQUFHLENBQUM7c0RBQzFFOzs7Ozs7Ozs7OztrREFJSCw4REFBQ0Q7d0NBQUdoQixXQUFVO2tEQUNaLDRFQUFDWCxrREFBSUE7NENBQ0hhLE1BQUs7NENBQ0xGLFdBQVcsQ0FBQyxTQUFTLEVBQUVKLE9BQU9xQixRQUFRLENBQUNDLFVBQVUsQ0FBQyxlQUFlLFdBQVcsR0FBRyxDQUFDO3NEQUNqRjs7Ozs7Ozs7Ozs7a0RBSUgsOERBQUNGO3dDQUFHaEIsV0FBVTtrREFDWiw0RUFBQ1gsa0RBQUlBOzRDQUNIYSxNQUFLOzRDQUNMRixXQUFXLENBQUMsU0FBUyxFQUFFSixPQUFPcUIsUUFBUSxDQUFDQyxVQUFVLENBQUMsZUFBZSxXQUFXLEdBQUcsQ0FBQztzREFDakY7Ozs7Ozs7Ozs7O2tEQUlILDhEQUFDRjt3Q0FBR2hCLFdBQVU7a0RBQ1osNEVBQUNYLGtEQUFJQTs0Q0FDSGEsTUFBSzs0Q0FDTEYsV0FBVyxDQUFDLFNBQVMsRUFBRUosT0FBT3FCLFFBQVEsQ0FBQ0MsVUFBVSxDQUFDLFlBQVksV0FBVyxHQUFHLENBQUM7c0RBQzlFOzs7Ozs7Ozs7OztrREFJSCw4REFBQ0Y7d0NBQUdoQixXQUFVO2tEQUNaLDRFQUFDWCxrREFBSUE7NENBQ0hhLE1BQUs7NENBQ0xGLFdBQVcsQ0FBQyxTQUFTLEVBQUVKLE9BQU9xQixRQUFRLENBQUNDLFVBQVUsQ0FBQyxlQUFlLFdBQVcsR0FBRyxDQUFDO3NEQUNqRjs7Ozs7Ozs7Ozs7a0RBSUgsOERBQUNGO3dDQUFHaEIsV0FBVTtrREFDWiw0RUFBQ1gsa0RBQUlBOzRDQUNIYSxNQUFLOzRDQUNMRixXQUFXLENBQUMsU0FBUyxFQUFFSixPQUFPcUIsUUFBUSxDQUFDQyxVQUFVLENBQUMsZUFBZSxXQUFXLEdBQUcsQ0FBQzs7OERBRWhGLDhEQUFDQztvREFBRW5CLFdBQVU7Ozs7OztnREFBdUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7c0NBUTlELDhEQUFDZTs0QkFBR2YsV0FBVTtzQ0FDWFAsZ0NBQ0M7MENBQ0UsNEVBQUN1QjtvQ0FBR2hCLFdBQVU7O3NEQUNaLDhEQUFDb0I7NENBQ0NwQixXQUFVOzRDQUNWRSxNQUFLOzRDQUNMWSxJQUFHOzRDQUNITyxNQUFLOzRDQUNMYixrQkFBZTs0Q0FDZkcsaUJBQWM7c0RBRWJqQixNQUFNNEI7Ozs7OztzREFFVCw4REFBQ1A7NENBQUdmLFdBQVU7NENBQWtDdUIsbUJBQWdCOzs4REFDOUQsOERBQUNQOzhEQUNDLDRFQUFDM0Isa0RBQUlBO3dEQUFDYSxNQUFLO3dEQUFXRixXQUFVO2tFQUFnQjs7Ozs7Ozs7Ozs7OERBSWxELDhEQUFDZ0I7OERBQ0MsNEVBQUMzQixrREFBSUE7d0RBQUNhLE1BQUs7d0RBQVlGLFdBQVU7OzBFQUMvQiw4REFBQ21CO2dFQUFFbkIsV0FBVTs7Ozs7OzREQUFxQjs7Ozs7Ozs7Ozs7OzhEQUl0Qyw4REFBQ2dCOzhEQUNDLDRFQUFDM0Isa0RBQUlBO3dEQUFDYSxNQUFLO3dEQUFZRixXQUFVOzswRUFDL0IsOERBQUNtQjtnRUFBRW5CLFdBQVU7Ozs7Ozs0REFBbUM7Ozs7Ozs7Ozs7Ozs4REFJcEQsOERBQUNnQjs4REFDQyw0RUFBQ1E7d0RBQUd4QixXQUFVOzs7Ozs7Ozs7Ozs4REFFaEIsOERBQUNnQjs4REFDQyw0RUFBQ1Y7d0RBQU9OLFdBQVU7d0RBQWdCeUIsU0FBUzVCO2tFQUFjOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs4REFRakU7O2tEQUNFLDhEQUFDbUI7d0NBQUdoQixXQUFVO2tEQUNaLDRFQUFDWCxrREFBSUE7NENBQ0hhLE1BQUs7NENBQ0xGLFdBQVcsQ0FBQyxTQUFTLEVBQUVKLE9BQU9xQixRQUFRLEtBQUssV0FBVyxXQUFXLEdBQUcsQ0FBQztzREFDdEU7Ozs7Ozs7Ozs7O2tEQUlILDhEQUFDRDt3Q0FBR2hCLFdBQVU7a0RBQ1osNEVBQUNYLGtEQUFJQTs0Q0FDSGEsTUFBSzs0Q0FDTEYsV0FBVyxDQUFDLFNBQVMsRUFBRUosT0FBT3FCLFFBQVEsS0FBSyxjQUFjLFdBQVcsR0FBRyxDQUFDO3NEQUN6RTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFXbkI7QUFFQSxpRUFBZXpCLFVBQVVBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL2xheW91dC9OYXZpZ2F0aW9uLnRzeD81MmZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJy4uLy4uL2NvbnRleHRzL0F1dGhDb250ZXh0JztcblxuY29uc3QgTmF2aWdhdGlvbjogUmVhY3QuRkMgPSAoKSA9PiB7XG4gIGNvbnN0IHsgaXNBdXRoZW50aWNhdGVkLCB1c2VyLCBsb2dvdXQgfSA9IHVzZUF1dGgoKTtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG5cbiAgY29uc3QgaGFuZGxlTG9nb3V0ID0gKCkgPT4ge1xuICAgIGxvZ291dCgpO1xuICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxuYXYgY2xhc3NOYW1lPVwibmF2YmFyIG5hdmJhci1leHBhbmQtbGcgbmF2YmFyLWxpZ2h0IGJnLWxpZ2h0XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8TGluayBocmVmPVwiL1wiIGNsYXNzTmFtZT1cIm5hdmJhci1icmFuZFwiIHN0eWxlPXt7IGNvbG9yOiAnIzdlNTdjMicsIGZvbnRXZWlnaHQ6ICdib2xkJyB9fT5cbiAgICAgICAgICBTbWFydC1DaGF0Qm94XG4gICAgICAgIDwvTGluaz5cbiAgICAgICAgXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJuYXZiYXItdG9nZ2xlclwiXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgZGF0YS1icy10b2dnbGU9XCJjb2xsYXBzZVwiXG4gICAgICAgICAgZGF0YS1icy10YXJnZXQ9XCIjbmF2YmFyTmF2XCJcbiAgICAgICAgICBhcmlhLWNvbnRyb2xzPVwibmF2YmFyTmF2XCJcbiAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJBbHRlcm5hciBuYXZlZ2HDp8Ojb1wiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJuYXZiYXItdG9nZ2xlci1pY29uXCI+PC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sbGFwc2UgbmF2YmFyLWNvbGxhcHNlXCIgaWQ9XCJuYXZiYXJOYXZcIj5cbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibmF2YmFyLW5hdiBtZS1hdXRvXCI+XG4gICAgICAgICAgICB7aXNBdXRoZW50aWNhdGVkICYmIChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwibmF2LWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgIDxMaW5rIFxuICAgICAgICAgICAgICAgICAgICBocmVmPVwiL2Rhc2hib2FyZFwiIFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BuYXYtbGluayAke3JvdXRlci5wYXRobmFtZSA9PT0gJy9kYXNoYm9hcmQnID8gJ2FjdGl2ZScgOiAnJ31gfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBQYWluZWxcbiAgICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJuYXYtaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgPExpbmsgXG4gICAgICAgICAgICAgICAgICAgIGhyZWY9XCIvZW1wcmVzYXNcIiBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbmF2LWxpbmsgJHtyb3V0ZXIucGF0aG5hbWUuc3RhcnRzV2l0aCgnL2VtcHJlc2FzJykgPyAnYWN0aXZlJyA6ICcnfWB9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIEVtcHJlc2FzXG4gICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwibmF2LWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgIDxMaW5rIFxuICAgICAgICAgICAgICAgICAgICBocmVmPVwiL3Byb2pldG9zXCIgXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YG5hdi1saW5rICR7cm91dGVyLnBhdGhuYW1lLnN0YXJ0c1dpdGgoJy9wcm9qZXRvcycpID8gJ2FjdGl2ZScgOiAnJ31gfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBQcm9qZXRvc1xuICAgICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cIm5hdi1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICA8TGluayBcbiAgICAgICAgICAgICAgICAgICAgaHJlZj1cIi9sZWFkc1wiIFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BuYXYtbGluayAke3JvdXRlci5wYXRobmFtZS5zdGFydHNXaXRoKCcvbGVhZHMnKSA/ICdhY3RpdmUnIDogJyd9YH1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgTGVhZHNcbiAgICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJuYXYtaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgPExpbmsgXG4gICAgICAgICAgICAgICAgICAgIGhyZWY9XCIvY29udGFjdHNcIiBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbmF2LWxpbmsgJHtyb3V0ZXIucGF0aG5hbWUuc3RhcnRzV2l0aCgnL2NvbnRhY3RzJykgPyAnYWN0aXZlJyA6ICcnfWB9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIENvbnRhdG9zXG4gICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwibmF2LWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgIDxMaW5rIFxuICAgICAgICAgICAgICAgICAgICBocmVmPVwiL3doYXRzYXBwXCIgXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YG5hdi1saW5rICR7cm91dGVyLnBhdGhuYW1lLnN0YXJ0c1dpdGgoJy93aGF0c2FwcCcpID8gJ2FjdGl2ZScgOiAnJ31gfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJiaSBiaS13aGF0c2FwcCBtZS0xIHRleHQtc3VjY2Vzc1wiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgV2hhdHNBcHBcbiAgICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgICBcbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibmF2YmFyLW5hdlwiPlxuICAgICAgICAgICAge2lzQXV0aGVudGljYXRlZCA/IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwibmF2LWl0ZW0gZHJvcGRvd25cIj5cbiAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm5hdi1saW5rIGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgICAgICAgICAgIGhyZWY9XCIjXCJcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJuYXZiYXJEcm9wZG93blwiXG4gICAgICAgICAgICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWJzLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge3VzZXI/LmVtYWlsfVxuICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1lbmRcIiBhcmlhLWxhYmVsbGVkYnk9XCJuYXZiYXJEcm9wZG93blwiPlxuICAgICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9wcm9maWxlXCIgY2xhc3NOYW1lPVwiZHJvcGRvd24taXRlbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgUGVyZmlsXG4gICAgICAgICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9hcGkta2V5c1wiIGNsYXNzTmFtZT1cImRyb3Bkb3duLWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImJpIGJpLWtleSBtZS0yXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgQVBJIEtleXNcbiAgICAgICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgICA8TGluayBocmVmPVwiL2FwaS1kb2NzXCIgY2xhc3NOYW1lPVwiZHJvcGRvd24taXRlbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiYmkgYmktZmlsZS1lYXJtYXJrLXRleHQgbWUtMlwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgIERvY3VtZW50YcOnw6NvIEFQSVxuICAgICAgICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgIDxociBjbGFzc05hbWU9XCJkcm9wZG93bi1kaXZpZGVyXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiZHJvcGRvd24taXRlbVwiIG9uQ2xpY2s9e2hhbmRsZUxvZ291dH0+XG4gICAgICAgICAgICAgICAgICAgICAgICBTYWlyXG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwibmF2LWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgIDxMaW5rIFxuICAgICAgICAgICAgICAgICAgICBocmVmPVwiL2xvZ2luXCIgXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YG5hdi1saW5rICR7cm91dGVyLnBhdGhuYW1lID09PSAnL2xvZ2luJyA/ICdhY3RpdmUnIDogJyd9YH1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgRW50cmFyXG4gICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwibmF2LWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgIDxMaW5rIFxuICAgICAgICAgICAgICAgICAgICBocmVmPVwiL3JlZ2lzdGVyXCIgXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YG5hdi1saW5rICR7cm91dGVyLnBhdGhuYW1lID09PSAnL3JlZ2lzdGVyJyA/ICdhY3RpdmUnIDogJyd9YH1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQ2FkYXN0cmFyXG4gICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9uYXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBOYXZpZ2F0aW9uOyJdLCJuYW1lcyI6WyJSZWFjdCIsIkxpbmsiLCJ1c2VSb3V0ZXIiLCJ1c2VBdXRoIiwiTmF2aWdhdGlvbiIsImlzQXV0aGVudGljYXRlZCIsInVzZXIiLCJsb2dvdXQiLCJyb3V0ZXIiLCJoYW5kbGVMb2dvdXQiLCJwdXNoIiwibmF2IiwiY2xhc3NOYW1lIiwiZGl2IiwiaHJlZiIsInN0eWxlIiwiY29sb3IiLCJmb250V2VpZ2h0IiwiYnV0dG9uIiwidHlwZSIsImRhdGEtYnMtdG9nZ2xlIiwiZGF0YS1icy10YXJnZXQiLCJhcmlhLWNvbnRyb2xzIiwiYXJpYS1leHBhbmRlZCIsImFyaWEtbGFiZWwiLCJzcGFuIiwiaWQiLCJ1bCIsImxpIiwicGF0aG5hbWUiLCJzdGFydHNXaXRoIiwiaSIsImEiLCJyb2xlIiwiZW1haWwiLCJhcmlhLWxhYmVsbGVkYnkiLCJociIsIm9uQ2xpY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/layout/Navigation.tsx\n");

/***/ }),

/***/ "./src/components/leads/LeadEventTimeline.tsx":
/*!****************************************************!*\
  !*** ./src/components/leads/LeadEventTimeline.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst LeadEventTimeline = ({ events, loading })=>{\n    // Helper function to format timestamp\n    const formatDate = (timestamp)=>{\n        const date = new Date(timestamp);\n        return date.toLocaleString(\"pt-BR\");\n    };\n    // Function to format date for grouping\n    const formatDateGroup = (date)=>{\n        const now = new Date();\n        const yesterday = new Date(now);\n        yesterday.setDate(yesterday.getDate() - 1);\n        // Check if date is today\n        if (date.toDateString() === now.toDateString()) {\n            return \"Hoje\";\n        } else if (date.toDateString() === yesterday.toDateString()) {\n            return \"Ontem\";\n        } else {\n            return date.toLocaleDateString(\"pt-BR\", {\n                weekday: \"long\",\n                year: \"numeric\",\n                month: \"long\",\n                day: \"numeric\"\n            });\n        }\n    };\n    // Helper function to get icon and color based on event type\n    const getEventIconAndColor = (eventType, origin)=>{\n        // Default\n        let icon = \"bi-info-circle-fill\";\n        let color = \"#616161\"; // Secondary color\n        let bgColor = \"rgba(97, 97, 97, 0.1)\";\n        // Handle event types\n        switch(eventType){\n            case \"whatsapp_message\":\n                icon = \"bi-whatsapp\";\n                color = \"#66bb6a\"; // Success color\n                bgColor = \"rgba(102, 187, 106, 0.1)\";\n                break;\n            case \"form_submit\":\n                icon = \"bi-file-earmark-text\";\n                color = \"#7e57c2\"; // Primary color\n                bgColor = \"rgba(126, 87, 194, 0.1)\";\n                break;\n            case \"page_view\":\n                icon = \"bi-eye\";\n                color = \"#42a5f5\"; // Info color\n                bgColor = \"rgba(66, 165, 245, 0.1)\";\n                break;\n            case \"email_sent\":\n                icon = \"bi-envelope\";\n                color = \"#ffb74d\"; // Warning color\n                bgColor = \"rgba(255, 183, 77, 0.1)\";\n                break;\n            case \"email_opened\":\n                icon = \"bi-envelope-open\";\n                color = \"#66bb6a\"; // Success color\n                bgColor = \"rgba(102, 187, 106, 0.1)\";\n                break;\n            case \"status_change\":\n                icon = \"bi-arrow-right-circle\";\n                color = \"#7e57c2\"; // Primary color\n                bgColor = \"rgba(126, 87, 194, 0.1)\";\n                break;\n            case \"call\":\n                icon = \"bi-telephone\";\n                color = \"#ef5350\"; // Danger color\n                bgColor = \"rgba(239, 83, 80, 0.1)\";\n                break;\n            default:\n                // If no match on event type, check origin\n                if (origin) {\n                    switch(origin.toLowerCase()){\n                        case \"whatsapp\":\n                            icon = \"bi-whatsapp\";\n                            color = \"#66bb6a\"; // Success color\n                            bgColor = \"rgba(102, 187, 106, 0.1)\";\n                            break;\n                        case \"website\":\n                            icon = \"bi-globe\";\n                            color = \"#42a5f5\"; // Info color\n                            bgColor = \"rgba(66, 165, 245, 0.1)\";\n                            break;\n                        case \"email\":\n                            icon = \"bi-envelope\";\n                            color = \"#ffb74d\"; // Warning color\n                            bgColor = \"rgba(255, 183, 77, 0.1)\";\n                            break;\n                        case \"phone\":\n                            icon = \"bi-telephone\";\n                            color = \"#ef5350\"; // Danger color\n                            bgColor = \"rgba(239, 83, 80, 0.1)\";\n                            break;\n                        case \"api\":\n                            icon = \"bi-code-slash\";\n                            color = \"#616161\"; // Secondary color\n                            bgColor = \"rgba(97, 97, 97, 0.1)\";\n                            break;\n                    }\n                }\n        }\n        return {\n            icon,\n            color,\n            bgColor\n        };\n    };\n    // Helper function to get event title\n    const getEventTitle = (event)=>{\n        switch(event.event_type){\n            case \"whatsapp_message\":\n                return \"Mensagem WhatsApp\";\n            case \"form_submit\":\n                return \"Formul\\xe1rio Enviado\";\n            case \"page_view\":\n                return `Página Visualizada`;\n            case \"email_sent\":\n                return \"Email Enviado\";\n            case \"email_opened\":\n                return \"Email Aberto\";\n            case \"status_change\":\n                return \"Status Alterado\";\n            case \"call\":\n                return \"Chamada Telef\\xf4nica\";\n            default:\n                // Format event type to be more readable (convert snake_case to Title Case)\n                const translations = {\n                    \"message_sent\": \"Mensagem Enviada\",\n                    \"message_received\": \"Mensagem Recebida\",\n                    \"contact_attempt\": \"Tentativa de Contato\",\n                    \"note_added\": \"Anota\\xe7\\xe3o Adicionada\",\n                    \"file_uploaded\": \"Arquivo Enviado\",\n                    \"appointment_scheduled\": \"Agendamento Marcado\"\n                };\n                // Return translation if available, otherwise format\n                return translations[event.event_type] || event.event_type.split(\"_\").map((word)=>word.charAt(0).toUpperCase() + word.slice(1)).join(\" \");\n        }\n    };\n    // Helper function to get event description\n    const getEventDescription = (event)=>{\n        // Process based on event_type\n        switch(event.event_type){\n            case \"whatsapp_message\":\n                return event.event_data.message || \"Mensagem trocada via WhatsApp\";\n            case \"form_submit\":\n                return event.event_data.message || `Formulário enviado ${event.event_data.form_name ? `(${event.event_data.form_name})` : \"\"}`;\n            case \"page_view\":\n                return event.event_data.page_url || \"Lead visualizou uma p\\xe1gina no site\";\n            case \"email_sent\":\n                return event.event_data.subject ? `Email enviado: ${event.event_data.subject}` : \"Email enviado para o lead\";\n            case \"email_opened\":\n                return event.event_data.subject ? `Lead abriu email: ${event.event_data.subject}` : \"Lead abriu um email\";\n            case \"status_change\":\n                // Tradução de status\n                const translateStatus = (status)=>{\n                    const statusMap = {\n                        \"novo\": \"Novo\",\n                        \"qualificado\": \"Qualificado\",\n                        \"contatado\": \"Contatado\",\n                        \"convertido\": \"Convertido\",\n                        \"desistiu\": \"Desistiu\",\n                        \"inativo\": \"Inativo\"\n                    };\n                    return statusMap[status] || status;\n                };\n                if (event.event_data.old_status && event.event_data.new_status) {\n                    return `Status alterado de \"${translateStatus(event.event_data.old_status)}\" para \"${translateStatus(event.event_data.new_status)}\"`;\n                }\n                return \"Status do lead foi atualizado\";\n            case \"call\":\n                return event.event_data.duration ? `Duração da chamada: ${event.event_data.duration} segundos` : \"Chamada telef\\xf4nica com o lead\";\n            default:\n                // Return any available message or generic description\n                return event.event_data.message || event.event_data.content || \"Evento de lead registrado\";\n        }\n    };\n    // Group events by date\n    const groupEventsByDate = (eventsList)=>{\n        const groups = {};\n        eventsList.forEach((event)=>{\n            const date = new Date(event.created_at);\n            const dateKey = formatDateGroup(date);\n            if (!groups[dateKey]) {\n                groups[dateKey] = [];\n            }\n            groups[dateKey].push(event);\n        });\n        return groups;\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"text-center py-5\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"spinner-border\",\n                    role: \"status\",\n                    style: {\n                        color: \"#7e57c2\",\n                        width: \"3rem\",\n                        height: \"3rem\"\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"visually-hidden\",\n                        children: \"Carregando...\"\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                        lineNumber: 225,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                    lineNumber: 224,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"mt-3 text-muted\",\n                    children: \"Carregando linha do tempo de atividades...\"\n                }, void 0, false, {\n                    fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                    lineNumber: 227,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n            lineNumber: 223,\n            columnNumber: 7\n        }, undefined);\n    }\n    if (!events || events.length === 0) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"text-center py-5\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-3 rounded-circle mx-auto mb-3\",\n                    style: {\n                        backgroundColor: \"rgba(126, 87, 194, 0.1)\",\n                        width: \"fit-content\"\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: \"bi bi-calendar-x fs-1\",\n                        style: {\n                            color: \"#7e57c2\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                        lineNumber: 236,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                    lineNumber: 235,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                    className: \"mb-2\",\n                    children: \"Nenhuma Atividade Ainda\"\n                }, void 0, false, {\n                    fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                    lineNumber: 238,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-muted mb-0\",\n                    children: \"N\\xe3o h\\xe1 eventos registrados para este lead.\"\n                }, void 0, false, {\n                    fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                    lineNumber: 239,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n            lineNumber: 234,\n            columnNumber: 7\n        }, undefined);\n    }\n    // Group events by date\n    const eventGroups = groupEventsByDate(events);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"lead-timeline p-0 p-md-3\",\n        children: Object.entries(eventGroups).map(([dateGroup, groupEvents])=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"timeline-group mb-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"timeline-date mb-3\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"badge\",\n                            style: {\n                                backgroundColor: \"rgba(126, 87, 194, 0.1)\",\n                                color: \"#7e57c2\",\n                                fontSize: \"0.9rem\",\n                                padding: \"0.5rem 1rem\"\n                            },\n                            children: dateGroup\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                            lineNumber: 252,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                        lineNumber: 251,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"timeline-events\",\n                        children: groupEvents.map((event)=>{\n                            const { icon, color, bgColor } = getEventIconAndColor(event.event_type, event.origin);\n                            const eventTime = new Date(event.created_at).toLocaleTimeString(\"pt-BR\", {\n                                hour: \"2-digit\",\n                                minute: \"2-digit\"\n                            });\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"timeline-event mb-4 card border-0 shadow-sm\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"card-body p-3\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"d-flex\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"timeline-icon me-3\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"rounded-circle p-2\",\n                                                    style: {\n                                                        backgroundColor: bgColor,\n                                                        width: \"42px\",\n                                                        height: \"42px\",\n                                                        display: \"flex\",\n                                                        alignItems: \"center\",\n                                                        justifyContent: \"center\"\n                                                    },\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                        className: `bi ${icon}`,\n                                                        style: {\n                                                            color: color,\n                                                            fontSize: \"1.1rem\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                                                        lineNumber: 268,\n                                                        columnNumber: 27\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                                                    lineNumber: 267,\n                                                    columnNumber: 25\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                                                lineNumber: 266,\n                                                columnNumber: 23\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"timeline-content flex-grow-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"d-flex justify-content-between align-items-center mb-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h6\", {\n                                                                className: \"mb-0 fw-semibold\",\n                                                                children: getEventTitle(event)\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                                                                lineNumber: 274,\n                                                                columnNumber: 27\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-muted small\",\n                                                                children: eventTime\n                                                            }, void 0, false, {\n                                                                fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                                                                lineNumber: 275,\n                                                                columnNumber: 27\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                                                        lineNumber: 273,\n                                                        columnNumber: 25\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"mb-2 text-muted\",\n                                                        children: getEventDescription(event)\n                                                    }, void 0, false, {\n                                                        fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                                                        lineNumber: 278,\n                                                        columnNumber: 25\n                                                    }, undefined),\n                                                    event.origin && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mt-2\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"badge\",\n                                                            style: {\n                                                                backgroundColor: bgColor,\n                                                                color: color,\n                                                                fontWeight: \"normal\"\n                                                            },\n                                                            children: event.origin\n                                                        }, void 0, false, {\n                                                            fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                                                            lineNumber: 282,\n                                                            columnNumber: 29\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                                                        lineNumber: 281,\n                                                        columnNumber: 27\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                                                lineNumber: 272,\n                                                columnNumber: 23\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                                        lineNumber: 265,\n                                        columnNumber: 21\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                                    lineNumber: 264,\n                                    columnNumber: 19\n                                }, undefined)\n                            }, event.id, false, {\n                                fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                                lineNumber: 263,\n                                columnNumber: 17\n                            }, undefined);\n                        })\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                        lineNumber: 257,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, dateGroup, true, {\n                fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n                lineNumber: 250,\n                columnNumber: 9\n            }, undefined))\n    }, void 0, false, {\n        fileName: \"/usr/src/app/src/components/leads/LeadEventTimeline.tsx\",\n        lineNumber: 248,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LeadEventTimeline);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9sZWFkcy9MZWFkRXZlbnRUaW1lbGluZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTBCO0FBUTFCLE1BQU1DLG9CQUFzRCxDQUFDLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFO0lBQzlFLHNDQUFzQztJQUN0QyxNQUFNQyxhQUFhLENBQUNDO1FBQ2xCLE1BQU1DLE9BQU8sSUFBSUMsS0FBS0Y7UUFDdEIsT0FBT0MsS0FBS0UsY0FBYyxDQUFDO0lBQzdCO0lBRUEsdUNBQXVDO0lBQ3ZDLE1BQU1DLGtCQUFrQixDQUFDSDtRQUN2QixNQUFNSSxNQUFNLElBQUlIO1FBQ2hCLE1BQU1JLFlBQVksSUFBSUosS0FBS0c7UUFDM0JDLFVBQVVDLE9BQU8sQ0FBQ0QsVUFBVUUsT0FBTyxLQUFLO1FBRXhDLHlCQUF5QjtRQUN6QixJQUFJUCxLQUFLUSxZQUFZLE9BQU9KLElBQUlJLFlBQVksSUFBSTtZQUM5QyxPQUFPO1FBQ1QsT0FFSyxJQUFJUixLQUFLUSxZQUFZLE9BQU9ILFVBQVVHLFlBQVksSUFBSTtZQUN6RCxPQUFPO1FBQ1QsT0FFSztZQUNILE9BQU9SLEtBQUtTLGtCQUFrQixDQUFDLFNBQVM7Z0JBQ3RDQyxTQUFTO2dCQUNUQyxNQUFNO2dCQUNOQyxPQUFPO2dCQUNQQyxLQUFLO1lBQ1A7UUFDRjtJQUNGO0lBRUEsNERBQTREO0lBQzVELE1BQU1DLHVCQUF1QixDQUFDQyxXQUFtQkM7UUFDL0MsVUFBVTtRQUNWLElBQUlDLE9BQU87UUFDWCxJQUFJQyxRQUFRLFdBQVcsa0JBQWtCO1FBQ3pDLElBQUlDLFVBQVU7UUFFZCxxQkFBcUI7UUFDckIsT0FBUUo7WUFDTixLQUFLO2dCQUNIRSxPQUFPO2dCQUNQQyxRQUFRLFdBQVcsZ0JBQWdCO2dCQUNuQ0MsVUFBVTtnQkFDVjtZQUNGLEtBQUs7Z0JBQ0hGLE9BQU87Z0JBQ1BDLFFBQVEsV0FBVyxnQkFBZ0I7Z0JBQ25DQyxVQUFVO2dCQUNWO1lBQ0YsS0FBSztnQkFDSEYsT0FB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UztzRUFDM0Z6RCxNQUFNTixNQUFNOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OytCQXBCakJNLE1BQU0wRCxFQUFFOzs7Ozt3QkE2QnRCOzs7Ozs7O2VBMUNNYjs7Ozs7Ozs7OztBQWdEbEI7QUFFQSxpRUFBZXhFLGlCQUFpQkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vc3JjL2NvbXBvbmVudHMvbGVhZHMvTGVhZEV2ZW50VGltZWxpbmUudHN4P2Q2MDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExlYWRFdmVudCB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMnO1xuXG5pbnRlcmZhY2UgTGVhZEV2ZW50VGltZWxpbmVQcm9wcyB7XG4gIGV2ZW50czogTGVhZEV2ZW50W107XG4gIGxvYWRpbmc6IGJvb2xlYW47XG59XG5cbmNvbnN0IExlYWRFdmVudFRpbWVsaW5lOiBSZWFjdC5GQzxMZWFkRXZlbnRUaW1lbGluZVByb3BzPiA9ICh7IGV2ZW50cywgbG9hZGluZyB9KSA9PiB7XG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBmb3JtYXQgdGltZXN0YW1wXG4gIGNvbnN0IGZvcm1hdERhdGUgPSAodGltZXN0YW1wOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodGltZXN0YW1wKTtcbiAgICByZXR1cm4gZGF0ZS50b0xvY2FsZVN0cmluZygncHQtQlInKTtcbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byBmb3JtYXQgZGF0ZSBmb3IgZ3JvdXBpbmdcbiAgY29uc3QgZm9ybWF0RGF0ZUdyb3VwID0gKGRhdGU6IERhdGUpID0+IHtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHllc3RlcmRheSA9IG5ldyBEYXRlKG5vdyk7XG4gICAgeWVzdGVyZGF5LnNldERhdGUoeWVzdGVyZGF5LmdldERhdGUoKSAtIDEpO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIGRhdGUgaXMgdG9kYXlcbiAgICBpZiAoZGF0ZS50b0RhdGVTdHJpbmcoKSA9PT0gbm93LnRvRGF0ZVN0cmluZygpKSB7XG4gICAgICByZXR1cm4gJ0hvamUnO1xuICAgIH1cbiAgICAvLyBDaGVjayBpZiBkYXRlIGlzIHllc3RlcmRheVxuICAgIGVsc2UgaWYgKGRhdGUudG9EYXRlU3RyaW5nKCkgPT09IHllc3RlcmRheS50b0RhdGVTdHJpbmcoKSkge1xuICAgICAgcmV0dXJuICdPbnRlbSc7XG4gICAgfVxuICAgIC8vIE90aGVyd2lzZSByZXR1cm4gZm9ybWF0dGVkIGRhdGVcbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygncHQtQlInLCB7IFxuICAgICAgICB3ZWVrZGF5OiAnbG9uZycsIFxuICAgICAgICB5ZWFyOiAnbnVtZXJpYycsIFxuICAgICAgICBtb250aDogJ2xvbmcnLCBcbiAgICAgICAgZGF5OiAnbnVtZXJpYycgXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCBpY29uIGFuZCBjb2xvciBiYXNlZCBvbiBldmVudCB0eXBlXG4gIGNvbnN0IGdldEV2ZW50SWNvbkFuZENvbG9yID0gKGV2ZW50VHlwZTogc3RyaW5nLCBvcmlnaW4/OiBzdHJpbmcpID0+IHtcbiAgICAvLyBEZWZhdWx0XG4gICAgbGV0IGljb24gPSBcImJpLWluZm8tY2lyY2xlLWZpbGxcIjtcbiAgICBsZXQgY29sb3IgPSBcIiM2MTYxNjFcIjsgLy8gU2Vjb25kYXJ5IGNvbG9yXG4gICAgbGV0IGJnQ29sb3IgPSBcInJnYmEoOTcsIDk3LCA5NywgMC4xKVwiO1xuICAgIFxuICAgIC8vIEhhbmRsZSBldmVudCB0eXBlc1xuICAgIHN3aXRjaCAoZXZlbnRUeXBlKSB7XG4gICAgICBjYXNlICd3aGF0c2FwcF9tZXNzYWdlJzpcbiAgICAgICAgaWNvbiA9IFwiYmktd2hhdHNhcHBcIjtcbiAgICAgICAgY29sb3IgPSBcIiM2NmJiNmFcIjsgLy8gU3VjY2VzcyBjb2xvclxuICAgICAgICBiZ0NvbG9yID0gXCJyZ2JhKDEwMiwgMTg3LCAxMDYsIDAuMSlcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdmb3JtX3N1Ym1pdCc6XG4gICAgICAgIGljb24gPSBcImJpLWZpbGUtZWFybWFyay10ZXh0XCI7XG4gICAgICAgIGNvbG9yID0gXCIjN2U1N2MyXCI7IC8vIFByaW1hcnkgY29sb3JcbiAgICAgICAgYmdDb2xvciA9IFwicmdiYSgxMjYsIDg3LCAxOTQsIDAuMSlcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwYWdlX3ZpZXcnOlxuICAgICAgICBpY29uID0gXCJiaS1leWVcIjtcbiAgICAgICAgY29sb3IgPSBcIiM0MmE1ZjVcIjsgLy8gSW5mbyBjb2xvclxuICAgICAgICBiZ0NvbG9yID0gXCJyZ2JhKDY2LCAxNjUsIDI0NSwgMC4xKVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2VtYWlsX3NlbnQnOlxuICAgICAgICBpY29uID0gXCJiaS1lbnZlbG9wZVwiO1xuICAgICAgICBjb2xvciA9IFwiI2ZmYjc0ZFwiOyAvLyBXYXJuaW5nIGNvbG9yXG4gICAgICAgIGJnQ29sb3IgPSBcInJnYmEoMjU1LCAxODMsIDc3LCAwLjEpXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZW1haWxfb3BlbmVkJzpcbiAgICAgICAgaWNvbiA9IFwiYmktZW52ZWxvcGUtb3BlblwiO1xuICAgICAgICBjb2xvciA9IFwiIzY2YmI2YVwiOyAvLyBTdWNjZXNzIGNvbG9yXG4gICAgICAgIGJnQ29sb3IgPSBcInJnYmEoMTAyLCAxODcsIDEwNiwgMC4xKVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3N0YXR1c19jaGFuZ2UnOlxuICAgICAgICBpY29uID0gXCJiaS1hcnJvdy1yaWdodC1jaXJjbGVcIjtcbiAgICAgICAgY29sb3IgPSBcIiM3ZTU3YzJcIjsgLy8gUHJpbWFyeSBjb2xvclxuICAgICAgICBiZ0NvbG9yID0gXCJyZ2JhKDEyNiwgODcsIDE5NCwgMC4xKVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2NhbGwnOlxuICAgICAgICBpY29uID0gXCJiaS10ZWxlcGhvbmVcIjtcbiAgICAgICAgY29sb3IgPSBcIiNlZjUzNTBcIjsgLy8gRGFuZ2VyIGNvbG9yXG4gICAgICAgIGJnQ29sb3IgPSBcInJnYmEoMjM5LCA4MywgODAsIDAuMSlcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBJZiBubyBtYXRjaCBvbiBldmVudCB0eXBlLCBjaGVjayBvcmlnaW5cbiAgICAgICAgaWYgKG9yaWdpbikge1xuICAgICAgICAgIHN3aXRjaCAob3JpZ2luLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgJ3doYXRzYXBwJzpcbiAgICAgICAgICAgICAgaWNvbiA9IFwiYmktd2hhdHNhcHBcIjtcbiAgICAgICAgICAgICAgY29sb3IgPSBcIiM2NmJiNmFcIjsgLy8gU3VjY2VzcyBjb2xvclxuICAgICAgICAgICAgICBiZ0NvbG9yID0gXCJyZ2JhKDEwMiwgMTg3LCAxMDYsIDAuMSlcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd3ZWJzaXRlJzpcbiAgICAgICAgICAgICAgaWNvbiA9IFwiYmktZ2xvYmVcIjtcbiAgICAgICAgICAgICAgY29sb3IgPSBcIiM0MmE1ZjVcIjsgLy8gSW5mbyBjb2xvclxuICAgICAgICAgICAgICBiZ0NvbG9yID0gXCJyZ2JhKDY2LCAxNjUsIDI0NSwgMC4xKVwiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgICAgICAgICAgaWNvbiA9IFwiYmktZW52ZWxvcGVcIjtcbiAgICAgICAgICAgICAgY29sb3IgPSBcIiNmZmI3NGRcIjsgLy8gV2FybmluZyBjb2xvclxuICAgICAgICAgICAgICBiZ0NvbG9yID0gXCJyZ2JhKDI1NSwgMTgzLCA3NywgMC4xKVwiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3Bob25lJzpcbiAgICAgICAgICAgICAgaWNvbiA9IFwiYmktdGVsZXBob25lXCI7XG4gICAgICAgICAgICAgIGNvbG9yID0gXCIjZWY1MzUwXCI7IC8vIERhbmdlciBjb2xvclxuICAgICAgICAgICAgICBiZ0NvbG9yID0gXCJyZ2JhKDIzOSwgODMsIDgwLCAwLjEpXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYXBpJzpcbiAgICAgICAgICAgICAgaWNvbiA9IFwiYmktY29kZS1zbGFzaFwiO1xuICAgICAgICAgICAgICBjb2xvciA9IFwiIzYxNjE2MVwiOyAvLyBTZWNvbmRhcnkgY29sb3JcbiAgICAgICAgICAgICAgYmdDb2xvciA9IFwicmdiYSg5NywgOTcsIDk3LCAwLjEpXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4geyBpY29uLCBjb2xvciwgYmdDb2xvciB9O1xuICB9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgZXZlbnQgdGl0bGVcbiAgY29uc3QgZ2V0RXZlbnRUaXRsZSA9IChldmVudDogTGVhZEV2ZW50KSA9PiB7XG4gICAgc3dpdGNoIChldmVudC5ldmVudF90eXBlKSB7XG4gICAgICBjYXNlICd3aGF0c2FwcF9tZXNzYWdlJzpcbiAgICAgICAgcmV0dXJuICdNZW5zYWdlbSBXaGF0c0FwcCc7XG4gICAgICBjYXNlICdmb3JtX3N1Ym1pdCc6XG4gICAgICAgIHJldHVybiAnRm9ybXVsw6FyaW8gRW52aWFkbyc7XG4gICAgICBjYXNlICdwYWdlX3ZpZXcnOlxuICAgICAgICByZXR1cm4gYFDDoWdpbmEgVmlzdWFsaXphZGFgO1xuICAgICAgY2FzZSAnZW1haWxfc2VudCc6XG4gICAgICAgIHJldHVybiAnRW1haWwgRW52aWFkbyc7XG4gICAgICBjYXNlICdlbWFpbF9vcGVuZWQnOlxuICAgICAgICByZXR1cm4gJ0VtYWlsIEFiZXJ0byc7XG4gICAgICBjYXNlICdzdGF0dXNfY2hhbmdlJzpcbiAgICAgICAgcmV0dXJuICdTdGF0dXMgQWx0ZXJhZG8nO1xuICAgICAgY2FzZSAnY2FsbCc6XG4gICAgICAgIHJldHVybiAnQ2hhbWFkYSBUZWxlZsO0bmljYSc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBGb3JtYXQgZXZlbnQgdHlwZSB0byBiZSBtb3JlIHJlYWRhYmxlIChjb252ZXJ0IHNuYWtlX2Nhc2UgdG8gVGl0bGUgQ2FzZSlcbiAgICAgICAgY29uc3QgdHJhbnNsYXRpb25zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgICAgICdtZXNzYWdlX3NlbnQnOiAnTWVuc2FnZW0gRW52aWFkYScsXG4gICAgICAgICAgJ21lc3NhZ2VfcmVjZWl2ZWQnOiAnTWVuc2FnZW0gUmVjZWJpZGEnLFxuICAgICAgICAgICdjb250YWN0X2F0dGVtcHQnOiAnVGVudGF0aXZhIGRlIENvbnRhdG8nLFxuICAgICAgICAgICdub3RlX2FkZGVkJzogJ0Fub3Rhw6fDo28gQWRpY2lvbmFkYScsXG4gICAgICAgICAgJ2ZpbGVfdXBsb2FkZWQnOiAnQXJxdWl2byBFbnZpYWRvJyxcbiAgICAgICAgICAnYXBwb2ludG1lbnRfc2NoZWR1bGVkJzogJ0FnZW5kYW1lbnRvIE1hcmNhZG8nXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAvLyBSZXR1cm4gdHJhbnNsYXRpb24gaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgZm9ybWF0XG4gICAgICAgIHJldHVybiB0cmFuc2xhdGlvbnNbZXZlbnQuZXZlbnRfdHlwZV0gfHwgZXZlbnQuZXZlbnRfdHlwZVxuICAgICAgICAgIC5zcGxpdCgnXycpXG4gICAgICAgICAgLm1hcCh3b3JkID0+IHdvcmQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB3b3JkLnNsaWNlKDEpKVxuICAgICAgICAgIC5qb2luKCcgJyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgZXZlbnQgZGVzY3JpcHRpb25cbiAgY29uc3QgZ2V0RXZlbnREZXNjcmlwdGlvbiA9IChldmVudDogTGVhZEV2ZW50KSA9PiB7XG4gICAgLy8gUHJvY2VzcyBiYXNlZCBvbiBldmVudF90eXBlXG4gICAgc3dpdGNoIChldmVudC5ldmVudF90eXBlKSB7XG4gICAgICBjYXNlICd3aGF0c2FwcF9tZXNzYWdlJzpcbiAgICAgICAgcmV0dXJuIGV2ZW50LmV2ZW50X2RhdGEubWVzc2FnZSB8fCAnTWVuc2FnZW0gdHJvY2FkYSB2aWEgV2hhdHNBcHAnO1xuICAgICAgY2FzZSAnZm9ybV9zdWJtaXQnOlxuICAgICAgICByZXR1cm4gZXZlbnQuZXZlbnRfZGF0YS5tZXNzYWdlIHx8IGBGb3JtdWzDoXJpbyBlbnZpYWRvICR7ZXZlbnQuZXZlbnRfZGF0YS5mb3JtX25hbWUgPyBgKCR7ZXZlbnQuZXZlbnRfZGF0YS5mb3JtX25hbWV9KWAgOiAnJ31gO1xuICAgICAgY2FzZSAncGFnZV92aWV3JzpcbiAgICAgICAgcmV0dXJuIGV2ZW50LmV2ZW50X2RhdGEucGFnZV91cmwgfHwgJ0xlYWQgdmlzdWFsaXpvdSB1bWEgcMOhZ2luYSBubyBzaXRlJztcbiAgICAgIGNhc2UgJ2VtYWlsX3NlbnQnOlxuICAgICAgICByZXR1cm4gZXZlbnQuZXZlbnRfZGF0YS5zdWJqZWN0IFxuICAgICAgICAgID8gYEVtYWlsIGVudmlhZG86ICR7ZXZlbnQuZXZlbnRfZGF0YS5zdWJqZWN0fWAgXG4gICAgICAgICAgOiAnRW1haWwgZW52aWFkbyBwYXJhIG8gbGVhZCc7XG4gICAgICBjYXNlICdlbWFpbF9vcGVuZWQnOlxuICAgICAgICByZXR1cm4gZXZlbnQuZXZlbnRfZGF0YS5zdWJqZWN0IFxuICAgICAgICAgID8gYExlYWQgYWJyaXUgZW1haWw6ICR7ZXZlbnQuZXZlbnRfZGF0YS5zdWJqZWN0fWAgXG4gICAgICAgICAgOiAnTGVhZCBhYnJpdSB1bSBlbWFpbCc7XG4gICAgICBjYXNlICdzdGF0dXNfY2hhbmdlJzpcbiAgICAgICAgLy8gVHJhZHXDp8OjbyBkZSBzdGF0dXNcbiAgICAgICAgY29uc3QgdHJhbnNsYXRlU3RhdHVzID0gKHN0YXR1czogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAgICAgICBjb25zdCBzdGF0dXNNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAgICAgICAnbm92byc6ICdOb3ZvJyxcbiAgICAgICAgICAgICdxdWFsaWZpY2Fkbyc6ICdRdWFsaWZpY2FkbycsXG4gICAgICAgICAgICAnY29udGF0YWRvJzogJ0NvbnRhdGFkbycsXG4gICAgICAgICAgICAnY29udmVydGlkbyc6ICdDb252ZXJ0aWRvJyxcbiAgICAgICAgICAgICdkZXNpc3RpdSc6ICdEZXNpc3RpdScsXG4gICAgICAgICAgICAnaW5hdGl2byc6ICdJbmF0aXZvJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIHN0YXR1c01hcFtzdGF0dXNdIHx8IHN0YXR1cztcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGlmIChldmVudC5ldmVudF9kYXRhLm9sZF9zdGF0dXMgJiYgZXZlbnQuZXZlbnRfZGF0YS5uZXdfc3RhdHVzKSB7XG4gICAgICAgICAgcmV0dXJuIGBTdGF0dXMgYWx0ZXJhZG8gZGUgXCIke3RyYW5zbGF0ZVN0YXR1cyhldmVudC5ldmVudF9kYXRhLm9sZF9zdGF0dXMpfVwiIHBhcmEgXCIke3RyYW5zbGF0ZVN0YXR1cyhldmVudC5ldmVudF9kYXRhLm5ld19zdGF0dXMpfVwiYDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ1N0YXR1cyBkbyBsZWFkIGZvaSBhdHVhbGl6YWRvJztcbiAgICAgIGNhc2UgJ2NhbGwnOlxuICAgICAgICByZXR1cm4gZXZlbnQuZXZlbnRfZGF0YS5kdXJhdGlvbiBcbiAgICAgICAgICA/IGBEdXJhw6fDo28gZGEgY2hhbWFkYTogJHtldmVudC5ldmVudF9kYXRhLmR1cmF0aW9ufSBzZWd1bmRvc2AgXG4gICAgICAgICAgOiAnQ2hhbWFkYSB0ZWxlZsO0bmljYSBjb20gbyBsZWFkJztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIFJldHVybiBhbnkgYXZhaWxhYmxlIG1lc3NhZ2Ugb3IgZ2VuZXJpYyBkZXNjcmlwdGlvblxuICAgICAgICByZXR1cm4gZXZlbnQuZXZlbnRfZGF0YS5tZXNzYWdlIHx8IGV2ZW50LmV2ZW50X2RhdGEuY29udGVudCB8fCAnRXZlbnRvIGRlIGxlYWQgcmVnaXN0cmFkbyc7XG4gICAgfVxuICB9O1xuXG4gIC8vIEdyb3VwIGV2ZW50cyBieSBkYXRlXG4gIGNvbnN0IGdyb3VwRXZlbnRzQnlEYXRlID0gKGV2ZW50c0xpc3Q6IExlYWRFdmVudFtdKSA9PiB7XG4gICAgY29uc3QgZ3JvdXBzOiB7W2tleTogc3RyaW5nXTogTGVhZEV2ZW50W119ID0ge307XG4gICAgXG4gICAgZXZlbnRzTGlzdC5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShldmVudC5jcmVhdGVkX2F0KTtcbiAgICAgIGNvbnN0IGRhdGVLZXkgPSBmb3JtYXREYXRlR3JvdXAoZGF0ZSk7XG4gICAgICBcbiAgICAgIGlmICghZ3JvdXBzW2RhdGVLZXldKSB7XG4gICAgICAgIGdyb3Vwc1tkYXRlS2V5XSA9IFtdO1xuICAgICAgfVxuICAgICAgXG4gICAgICBncm91cHNbZGF0ZUtleV0ucHVzaChldmVudCk7XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIGdyb3VwcztcbiAgfTtcblxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGlubmVyLWJvcmRlclwiIHJvbGU9XCJzdGF0dXNcIiBzdHlsZT17eyBjb2xvcjogJyM3ZTU3YzInLCB3aWR0aDogJzNyZW0nLCBoZWlnaHQ6ICczcmVtJyB9fT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ2aXN1YWxseS1oaWRkZW5cIj5DYXJyZWdhbmRvLi4uPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMyB0ZXh0LW11dGVkXCI+Q2FycmVnYW5kbyBsaW5oYSBkbyB0ZW1wbyBkZSBhdGl2aWRhZGVzLi4uPC9wPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGlmICghZXZlbnRzIHx8IGV2ZW50cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS01XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zIHJvdW5kZWQtY2lyY2xlIG14LWF1dG8gbWItM1wiIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMTI2LCA4NywgMTk0LCAwLjEpJywgd2lkdGg6ICdmaXQtY29udGVudCcgfX0+XG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwiYmkgYmktY2FsZW5kYXIteCBmcy0xXCIgc3R5bGU9e3sgY29sb3I6ICcjN2U1N2MyJyB9fT48L2k+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8aDUgY2xhc3NOYW1lPVwibWItMlwiPk5lbmh1bWEgQXRpdmlkYWRlIEFpbmRhPC9oNT5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZCBtYi0wXCI+TsOjbyBow6EgZXZlbnRvcyByZWdpc3RyYWRvcyBwYXJhIGVzdGUgbGVhZC48L3A+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gR3JvdXAgZXZlbnRzIGJ5IGRhdGVcbiAgY29uc3QgZXZlbnRHcm91cHMgPSBncm91cEV2ZW50c0J5RGF0ZShldmVudHMpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJsZWFkLXRpbWVsaW5lIHAtMCBwLW1kLTNcIj5cbiAgICAgIHtPYmplY3QuZW50cmllcyhldmVudEdyb3VwcykubWFwKChbZGF0ZUdyb3VwLCBncm91cEV2ZW50c10pID0+IChcbiAgICAgICAgPGRpdiBrZXk9e2RhdGVHcm91cH0gY2xhc3NOYW1lPVwidGltZWxpbmUtZ3JvdXAgbWItNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGltZWxpbmUtZGF0ZSBtYi0zXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJiYWRnZVwiIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMTI2LCA4NywgMTk0LCAwLjEpJywgY29sb3I6ICcjN2U1N2MyJywgZm9udFNpemU6ICcwLjlyZW0nLCBwYWRkaW5nOiAnMC41cmVtIDFyZW0nIH19PlxuICAgICAgICAgICAgICB7ZGF0ZUdyb3VwfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGltZWxpbmUtZXZlbnRzXCI+XG4gICAgICAgICAgICB7Z3JvdXBFdmVudHMubWFwKChldmVudCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB7IGljb24sIGNvbG9yLCBiZ0NvbG9yIH0gPSBnZXRFdmVudEljb25BbmRDb2xvcihldmVudC5ldmVudF90eXBlLCBldmVudC5vcmlnaW4pO1xuICAgICAgICAgICAgICBjb25zdCBldmVudFRpbWUgPSBuZXcgRGF0ZShldmVudC5jcmVhdGVkX2F0KS50b0xvY2FsZVRpbWVTdHJpbmcoJ3B0LUJSJywgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGtleT17ZXZlbnQuaWR9IGNsYXNzTmFtZT1cInRpbWVsaW5lLWV2ZW50IG1iLTQgY2FyZCBib3JkZXItMCBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1ib2R5IHAtM1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGltZWxpbmUtaWNvbiBtZS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtY2lyY2xlIHAtMlwiIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogYmdDb2xvciwgd2lkdGg6ICc0MnB4JywgaGVpZ2h0OiAnNDJweCcsIGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPXtgYmkgJHtpY29ufWB9IHN0eWxlPXt7IGNvbG9yOiBjb2xvciwgZm9udFNpemU6ICcxLjFyZW0nIH19PjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGltZWxpbmUtY29udGVudCBmbGV4LWdyb3ctMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGg2IGNsYXNzTmFtZT1cIm1iLTAgZnctc2VtaWJvbGRcIj57Z2V0RXZlbnRUaXRsZShldmVudCl9PC9oNj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1tdXRlZCBzbWFsbFwiPntldmVudFRpbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTIgdGV4dC1tdXRlZFwiPntnZXRFdmVudERlc2NyaXB0aW9uKGV2ZW50KX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHtldmVudC5vcmlnaW4gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJiYWRnZVwiIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogYmdDb2xvciwgY29sb3I6IGNvbG9yLCBmb250V2VpZ2h0OiAnbm9ybWFsJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtldmVudC5vcmlnaW59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IExlYWRFdmVudFRpbWVsaW5lOyJdLCJuYW1lcyI6WyJSZWFjdCIsIkxlYWRFdmVudFRpbWVsaW5lIiwiZXZlbnRzIiwibG9hZGluZyIsImZvcm1hdERhdGUiLCJ0aW1lc3RhbXAiLCJkYXRlIiwiRGF0ZSIsInRvTG9jYWxlU3RyaW5nIiwiZm9ybWF0RGF0ZUdyb3VwIiwibm93IiwieWVzdGVyZGF5Iiwic2V0RGF0ZSIsImdldERhdGUiLCJ0b0RhdGVTdHJpbmciLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ3ZWVrZGF5IiwieWVhciIsIm1vbnRoIiwiZGF5IiwiZ2V0RXZlbnRJY29uQW5kQ29sb3IiLCJldmVudFR5cGUiLCJvcmlnaW4iLCJpY29uIiwiY29sb3IiLCJiZ0NvbG9yIiwidG9Mb3dlckNhc2UiLCJnZXRFdmVudFRpdGxlIiwiZXZlbnQiLCJldmVudF90eXBlIiwidHJhbnNsYXRpb25zIiwic3BsaXQiLCJtYXAiLCJ3b3JkIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsImpvaW4iLCJnZXRFdmVudERlc2NyaXB0aW9uIiwiZXZlbnRfZGF0YSIsIm1lc3NhZ2UiLCJmb3JtX25hbWUiLCJwYWdlX3VybCIsInN1YmplY3QiLCJ0cmFuc2xhdGVTdGF0dXMiLCJzdGF0dXMiLCJzdGF0dXNNYXAiLCJvbGRfc3RhdHVzIiwibmV3X3N0YXR1cyIsImR1cmF0aW9uIiwiY29udGVudCIsImdyb3VwRXZlbnRzQnlEYXRlIiwiZXZlbnRzTGlzdCIsImdyb3VwcyIsImZvckVhY2giLCJjcmVhdGVkX2F0IiwiZGF0ZUtleSIsInB1c2giLCJkaXYiLCJjbGFzc05hbWUiLCJyb2xlIiwic3R5bGUiLCJ3aWR0aCIsImhlaWdodCIsInNwYW4iLCJwIiwibGVuZ3RoIiwiYmFja2dyb3VuZENvbG9yIiwiaSIsImg1IiwiZXZlbnRHcm91cHMiLCJPYmplY3QiLCJlbnRyaWVzIiwiZGF0ZUdyb3VwIiwiZ3JvdXBFdmVudHMiLCJmb250U2l6ZSIsInBhZGRpbmciLCJldmVudFRpbWUiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwiZGlzcGxheSIsImFsaWduSXRlbXMiLCJqdXN0aWZ5Q29udGVudCIsImg2IiwiZm9udFdlaWdodCIsImlkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/leads/LeadEventTimeline.tsx\n");

/***/ }),

/***/ "./src/components/leads/LeadWhatsAppChat.tsx":
/*!***************************************************!*\
  !*** ./src/components/leads/LeadWhatsAppChat.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _api_whatsapp__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api/whatsapp */ \"./src/api/whatsapp.ts\");\n\n\n\nconst LeadWhatsAppChat = ({ lead, isConnected })=>{\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [sending, setSending] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [newMessage, setNewMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [hasNewMessages, setHasNewMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [phoneNumber, setPhoneNumber] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [lastUpdated, setLastUpdated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const messagesContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Get WhatsApp status\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fetchWhatsAppStatus = async ()=>{\n            try {\n                const result = await _api_whatsapp__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getStatus();\n                if (result.success && result.data) {\n                    setPhoneNumber(result.data.phoneNumber);\n                }\n            } catch (err) {\n                console.error(\"Error fetching WhatsApp status:\", err);\n            }\n        };\n        if (isConnected) {\n            fetchWhatsAppStatus();\n        }\n    }, [\n        isConnected\n    ]);\n    // Clean phone numbers for comparison\n    const cleanPhoneNumber = (phone)=>{\n        if (!phone) return \"\";\n        // Remove @c.us suffix and all non-digit characters\n        let cleaned = phone.replace(\"@c.us\", \"\").replace(/\\D/g, \"\");\n        // For Brazilian numbers, consider removing country code if present\n        if (cleaned.startsWith(\"55\") && cleaned.length > 10) {\n            console.log(\"Phone has Brazilian format with country code:\", cleaned);\n        }\n        return cleaned;\n    };\n    // Format phone number for display\n    const formatPhoneNumber = (phone)=>{\n        if (!phone) return \"\";\n        // Formato brasileiro: +55 (21) 98786-8395\n        if (phone.startsWith(\"55\") && phone.length >= 12) {\n            const ddd = phone.substring(2, 4);\n            const firstPart = phone.substring(4, 9);\n            const secondPart = phone.substring(9);\n            return `+55 (${ddd}) ${firstPart}-${secondPart}`;\n        }\n        // Outros formatos - exibir com espaços para legibilidade\n        return phone.replace(/(\\d{2})(\\d{2})(\\d{5})(\\d+)/, \"+$1 ($2) $3-$4\");\n    };\n    // Check if a number belongs to the current lead\n    const isLeadPhone = (phone)=>{\n        if (!lead.phone) return false;\n        if (!phone) return false;\n        console.log(`Comparing phones: Lead=${lead.phone}, Message=${phone}`);\n        const cleanLeadPhone = cleanPhoneNumber(lead.phone);\n        const cleanPhoneToCheck = cleanPhoneNumber(phone.replace(\"@c.us\", \"\"));\n        console.log(`Clean phones: Lead=${cleanLeadPhone}, Message=${cleanPhoneToCheck}`);\n        // Check if numbers match with various formats:\n        // 1. Exact match\n        // 2. Lead phone ends with message phone (lead has country code, message doesn't)\n        // 3. Message phone ends with lead phone (message has country code, lead doesn't)\n        // 4. Match by last 8 or 9 digits (mobile numbers in Brazil)\n        const isMatch = cleanLeadPhone === cleanPhoneToCheck || cleanLeadPhone.endsWith(cleanPhoneToCheck) || cleanPhoneToCheck.endsWith(cleanLeadPhone) || cleanLeadPhone.length >= 8 && cleanPhoneToCheck.endsWith(cleanLeadPhone.slice(-8)) || cleanLeadPhone.length >= 9 && cleanPhoneToCheck.endsWith(cleanLeadPhone.slice(-9)) || cleanPhoneToCheck.length >= 8 && cleanLeadPhone.endsWith(cleanPhoneToCheck.slice(-8)) || cleanPhoneToCheck.length >= 9 && cleanLeadPhone.endsWith(cleanPhoneToCheck.slice(-9));\n        console.log(`Phone match result: ${isMatch}`);\n        return isMatch;\n    };\n    // Fetch messages for this lead\n    const fetchMessages = async ()=>{\n        try {\n            setLoading(true);\n            console.log(`Fetching WhatsApp messages for lead ${lead.id} (${lead.name})...`);\n            // Add debugging to show current lead phone\n            console.log(`Lead phone from state: ${lead.phone}`);\n            // Try to get messages specifically for this contact\n            const cleanedPhone = cleanPhoneNumber(lead.phone);\n            console.log(`Fetching messages for phone: ${cleanedPhone}`);\n            // First try to get messages directly from this contact\n            if (cleanedPhone) {\n                try {\n                    console.log(`Attempting to get messages specifically for number: ${cleanedPhone}`);\n                    const contactMessagesResult = await _api_whatsapp__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getContactMessages(cleanedPhone);\n                    console.log(\"Contact messages API response:\", contactMessagesResult);\n                    if (contactMessagesResult.success && contactMessagesResult.data) {\n                        let contactMessages = [];\n                        // Handle different response formats\n                        if (Array.isArray(contactMessagesResult.data)) {\n                            contactMessages = contactMessagesResult.data;\n                        } else if (contactMessagesResult.data.messages && Array.isArray(contactMessagesResult.data.messages)) {\n                            contactMessages = contactMessagesResult.data.messages;\n                        } else if (typeof contactMessagesResult.data === \"object\") {\n                            // Try to extract messages from response\n                            const possibleMessages = Object.values(contactMessagesResult.data).find((val)=>Array.isArray(val));\n                            if (possibleMessages) {\n                                contactMessages = possibleMessages;\n                            }\n                        }\n                        console.log(`Found ${contactMessages.length} direct messages for contact`);\n                        if (contactMessages.length > 0) {\n                            // Sort messages by timestamp (newest first)\n                            contactMessages.sort((a, b)=>{\n                                const timeA = new Date(a.timestamp || 0).getTime();\n                                const timeB = new Date(b.timestamp || 0).getTime();\n                                return timeB - timeA;\n                            });\n                            setMessages(contactMessages);\n                            setLastUpdated(new Date());\n                            setLoading(false);\n                            return;\n                        }\n                    }\n                    console.log(\"No specific messages found for this contact, using alternative method\");\n                } catch (err) {\n                    console.error(\"Error fetching contact-specific messages:\", err);\n                // Continue with fallback method\n                }\n            }\n            // Fallback: Get all messages and filter by this lead's phone number\n            console.log(\"Falling back to fetching and filtering all messages\");\n            const allMessagesResult = await _api_whatsapp__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getMessages();\n            if (allMessagesResult.success && allMessagesResult.data) {\n                // Log API response\n                console.log(\"WhatsApp API response:\", allMessagesResult.data);\n                console.log(\"Response structure:\", Object.keys(allMessagesResult.data));\n                let leadMessages = [];\n                // Handle different response formats\n                if (Array.isArray(allMessagesResult.data)) {\n                    console.log(\"Processing array response format...\");\n                    // Filter messages to only show this lead's messages\n                    leadMessages = allMessagesResult.data.filter((msg)=>{\n                        const matchFrom = isLeadPhone(msg.from);\n                        const matchTo = isLeadPhone(msg.to);\n                        console.log(`Message ${msg.id}: from=${msg.from}, to=${msg.to}, matches=${matchFrom || matchTo}`);\n                        return matchFrom || matchTo;\n                    });\n                } else if (allMessagesResult.data.messages && typeof allMessagesResult.data.messages === \"object\") {\n                    console.log(\"Processing grouped messages format...\");\n                    // Handle grouped messages format\n                    const messagesObj = allMessagesResult.data.messages;\n                    console.log(\"Available phone numbers:\", Object.keys(messagesObj));\n                    // Only get messages from the lead's phone number\n                    for (const [phoneNumber, msgs] of Object.entries(messagesObj)){\n                        console.log(`Checking phone number: ${phoneNumber}`);\n                        const isMatch = isLeadPhone(phoneNumber);\n                        console.log(`Match result for ${phoneNumber}: ${isMatch}`);\n                        if (isMatch && Array.isArray(msgs)) {\n                            console.log(`Adding ${msgs.length} messages from ${phoneNumber}`);\n                            leadMessages = [\n                                ...leadMessages,\n                                ...msgs\n                            ];\n                        }\n                    }\n                }\n                console.log(`Found ${leadMessages.length} messages for this lead`);\n                // Sort messages by timestamp (newest first)\n                leadMessages.sort((a, b)=>{\n                    const timeA = new Date(a.timestamp || 0).getTime();\n                    const timeB = new Date(b.timestamp || 0).getTime();\n                    return timeB - timeA;\n                });\n                // Check for new messages\n                if (lastUpdated && leadMessages.length > messages.length) {\n                    console.log(\"Detected potentially new messages\");\n                    const currentNewestTime = messages.length > 0 ? new Date(messages[0]?.timestamp || 0).getTime() : 0;\n                    const hasNew = leadMessages.some((msg)=>!msg.fromMe && new Date(msg.timestamp || 0).getTime() > currentNewestTime);\n                    if (hasNew) {\n                        console.log(\"New incoming messages detected!\");\n                        setHasNewMessages(true);\n                        setTimeout(()=>setHasNewMessages(false), 3000);\n                    }\n                }\n                setMessages(leadMessages);\n                setLastUpdated(new Date());\n            } else {\n                console.error(\"API response error:\", allMessagesResult.error);\n            }\n        } catch (err) {\n            console.error(\"Error fetching messages for lead:\", err);\n            setError(\"N\\xe3o foi poss\\xedvel carregar as mensagens do WhatsApp\");\n        } finally{\n            setLoading(false);\n        }\n    };\n    // Fetch messages initially and set up polling\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isConnected && lead.phone) {\n            console.log(\"Setting up WhatsApp message polling for lead:\", lead.id, \"with phone:\", lead.phone);\n            fetchMessages();\n            // Set up polling for messages\n            const interval = setInterval(()=>{\n                console.log(\"Polling for WhatsApp messages...\");\n                fetchMessages();\n            }, 5000); // Poll every 5 seconds for more responsive updates\n            return ()=>{\n                console.log(\"Clearing WhatsApp message polling interval\");\n                clearInterval(interval);\n            };\n        }\n    }, [\n        isConnected,\n        lead.phone\n    ]);\n    // Scroll to bottom when messages change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (messagesContainerRef.current) {\n            messagesContainerRef.current.scrollTop = messagesContainerRef.current.scrollHeight;\n        }\n    }, [\n        messages\n    ]);\n    // Send message to lead\n    const handleSendMessage = async (e)=>{\n        e.preventDefault();\n        if (!newMessage.trim() || !lead.phone || !isConnected) return;\n        try {\n            setSending(true);\n            setError(null);\n            // Send message via API\n            const result = await _api_whatsapp__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sendMessage(cleanPhoneNumber(lead.phone), newMessage, lead.id);\n            if (result.success) {\n                setNewMessage(\"\");\n                fetchMessages(); // Refresh messages\n            } else {\n                setError(result.error || \"Falha ao enviar mensagem\");\n            }\n        } catch (err) {\n            console.error(\"Error sending message:\", err);\n            setError(\"Erro ao enviar mensagem\");\n        } finally{\n            setSending(false);\n        }\n    };\n    // If phone number or WhatsApp connection is missing\n    if (!isConnected) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"card border-0 shadow-sm h-100\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"card-header d-flex align-items-center\",\n                    style: {\n                        backgroundColor: \"white\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"bi bi-whatsapp me-2 text-success\"\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                            lineNumber: 311,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                            className: \"mb-0\",\n                            children: \"Chat WhatsApp\"\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                            lineNumber: 312,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                    lineNumber: 310,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"card-body d-flex flex-column justify-content-center align-items-center py-5\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-3 rounded-circle bg-light mb-3\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"bi bi-wifi-off fs-2 text-muted\"\n                            }, void 0, false, {\n                                fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                                lineNumber: 316,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                            lineNumber: 315,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                            className: \"mb-2\",\n                            children: \"WhatsApp n\\xe3o conectado\"\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                            lineNumber: 318,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-muted text-center mb-3\",\n                            children: \"\\xc9 necess\\xe1rio conectar ao WhatsApp para visualizar e enviar mensagens.\"\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                            lineNumber: 319,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                            href: \"/whatsapp\",\n                            className: \"btn btn-outline-success\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"bi bi-whatsapp me-2\"\n                                }, void 0, false, {\n                                    fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                                    lineNumber: 323,\n                                    columnNumber: 13\n                                }, undefined),\n                                \"Conectar WhatsApp\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                            lineNumber: 322,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                    lineNumber: 314,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n            lineNumber: 309,\n            columnNumber: 7\n        }, undefined);\n    }\n    if (!lead.phone) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"card border-0 shadow-sm h-100\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"card-header d-flex align-items-center\",\n                    style: {\n                        backgroundColor: \"white\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                            className: \"bi bi-whatsapp me-2 text-success\"\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                            lineNumber: 335,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                            className: \"mb-0\",\n                            children: \"Chat WhatsApp\"\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                            lineNumber: 336,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                    lineNumber: 334,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"card-body d-flex flex-column justify-content-center align-items-center py-5\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-3 rounded-circle bg-light mb-3\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"bi bi-telephone-x fs-2 text-muted\"\n                            }, void 0, false, {\n                                fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                                lineNumber: 340,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                            lineNumber: 339,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                            className: \"mb-2\",\n                            children: \"Telefone n\\xe3o cadastrado\"\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                            lineNumber: 342,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-muted text-center mb-3\",\n                            children: \"Este lead n\\xe3o possui um n\\xfamero de telefone cadastrado para envio de mensagens.\"\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                            lineNumber: 343,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                            href: `/leads/${lead.id}/edit`,\n                            className: \"btn btn-outline-primary\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"bi bi-pencil me-2\"\n                                }, void 0, false, {\n                                    fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                                    lineNumber: 347,\n                                    columnNumber: 13\n                                }, undefined),\n                                \"Editar Lead\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                            lineNumber: 346,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                    lineNumber: 338,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n            lineNumber: 333,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"card border-0 shadow-sm h-100\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"card-header d-flex align-items-center\",\n                style: {\n                    backgroundColor: \"white\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: \"bi bi-whatsapp me-2 text-success\"\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                        lineNumber: 358,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                                className: \"mb-0\",\n                                children: \"Chat WhatsApp\"\n                            }, void 0, false, {\n                                fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                                lineNumber: 360,\n                                columnNumber: 11\n                            }, undefined),\n                            phoneNumber && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"small\", {\n                                className: \"text-muted\",\n                                children: [\n                                    \"De: \",\n                                    formatPhoneNumber(phoneNumber),\n                                    \" | Para: \",\n                                    formatPhoneNumber(lead.phone)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                                lineNumber: 362,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                        lineNumber: 359,\n                        columnNumber: 9\n                    }, undefined),\n                    hasNewMessages && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"badge bg-success ms-auto animate__animated animate__pulse animate__infinite\",\n                        children: \"Nova mensagem!\"\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                        lineNumber: 368,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                lineNumber: 357,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: messagesContainerRef,\n                className: `card-body p-2 overflow-auto ${hasNewMessages ? \"border border-success\" : \"\"}`,\n                style: {\n                    height: \"350px\",\n                    backgroundColor: \"#f5f5f5\",\n                    transition: \"border-color 0.5s ease\"\n                },\n                children: loading && messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"d-flex justify-content-center align-items-center h-100\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"spinner-border text-success\",\n                        role: \"status\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"visually-hidden\",\n                            children: \"Carregando...\"\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                            lineNumber: 386,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                        lineNumber: 385,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                    lineNumber: 384,\n                    columnNumber: 11\n                }, undefined) : messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"d-flex flex-column justify-content-center align-items-center h-100 text-center p-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-3 rounded-circle bg-light mb-3\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"bi bi-chat-left-text fs-2 text-muted\"\n                            }, void 0, false, {\n                                fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                                lineNumber: 392,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                            lineNumber: 391,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                            className: \"mb-2\",\n                            children: \"Nenhuma mensagem\"\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                            lineNumber: 394,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-muted\",\n                            children: \"N\\xe3o h\\xe1 conversas com este lead ainda. Envie uma mensagem para iniciar.\"\n                        }, void 0, false, {\n                            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                            lineNumber: 395,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                    lineNumber: 390,\n                    columnNumber: 11\n                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"messages-container\",\n                    children: [\n                        ...messages\n                    ].reverse().map((msg)=>{\n                        const isOutgoing = msg.fromMe;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: `message-bubble mb-3 ${isOutgoing ? \"text-end\" : \"\"}`,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `d-inline-block p-3 rounded-3 ${isOutgoing ? \"bg-success text-white\" : \"bg-white text-dark\"}`,\n                                style: {\n                                    maxWidth: \"80%\",\n                                    boxShadow: \"0 1px 2px rgba(0,0,0,0.1)\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"message-body\",\n                                        children: msg.body\n                                    }, void 0, false, {\n                                        fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                                        lineNumber: 419,\n                                        columnNumber: 21\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"message-footer mt-1\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"small\", {\n                                            className: isOutgoing ? \"text-white-50\" : \"text-muted\",\n                                            children: new Date(msg.timestamp).toLocaleString(\"pt-BR\", {\n                                                day: \"2-digit\",\n                                                month: \"2-digit\",\n                                                hour: \"2-digit\",\n                                                minute: \"2-digit\"\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                                            lineNumber: 423,\n                                            columnNumber: 23\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                                        lineNumber: 422,\n                                        columnNumber: 21\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                                lineNumber: 410,\n                                columnNumber: 19\n                            }, undefined)\n                        }, msg.id, false, {\n                            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                            lineNumber: 406,\n                            columnNumber: 17\n                        }, undefined);\n                    })\n                }, void 0, false, {\n                    fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                    lineNumber: 400,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                lineNumber: 374,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"card-footer\",\n                style: {\n                    backgroundColor: \"white\"\n                },\n                children: [\n                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"alert alert-danger py-2 mb-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"bi bi-exclamation-triangle-fill me-2\"\n                            }, void 0, false, {\n                                fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                                lineNumber: 443,\n                                columnNumber: 13\n                            }, undefined),\n                            error\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                        lineNumber: 442,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                        onSubmit: handleSendMessage,\n                        className: \"d-flex\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"text\",\n                                className: \"form-control me-2\",\n                                placeholder: \"Digite uma mensagem...\",\n                                value: newMessage,\n                                onChange: (e)=>setNewMessage(e.target.value),\n                                disabled: sending\n                            }, void 0, false, {\n                                fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                                lineNumber: 449,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"submit\",\n                                className: \"btn btn-success\",\n                                disabled: !newMessage.trim() || sending,\n                                children: sending ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"spinner-border spinner-border-sm\",\n                                    role: \"status\",\n                                    \"aria-hidden\": \"true\"\n                                }, void 0, false, {\n                                    fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                                    lineNumber: 463,\n                                    columnNumber: 15\n                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"bi bi-send\"\n                                }, void 0, false, {\n                                    fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                                    lineNumber: 465,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                                lineNumber: 457,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                        lineNumber: 448,\n                        columnNumber: 9\n                    }, undefined),\n                    lastUpdated && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center mt-2\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"small\", {\n                            className: \"text-muted\",\n                            children: [\n                                \"\\xdaltima atualiza\\xe7\\xe3o: \",\n                                lastUpdated.toLocaleString(\"pt-BR\")\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                            lineNumber: 472,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                        lineNumber: 471,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n                lineNumber: 440,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/usr/src/app/src/components/leads/LeadWhatsAppChat.tsx\",\n        lineNumber: 356,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LeadWhatsAppChat);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9sZWFkcy9MZWFkV2hhdHNBcHBDaGF0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTJEO0FBQ2Q7QUFpQjdDLE1BQU1LLG1CQUFvRCxDQUFDLEVBQUVDLElBQUksRUFBRUMsV0FBVyxFQUFFO0lBQzlFLE1BQU0sQ0FBQ0MsVUFBVUMsWUFBWSxHQUFHUiwrQ0FBUUEsQ0FBb0IsRUFBRTtJQUM5RCxNQUFNLENBQUNTLFNBQVNDLFdBQVcsR0FBR1YsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDVyxTQUFTQyxXQUFXLEdBQUdaLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ2EsT0FBT0MsU0FBUyxHQUFHZCwrQ0FBUUEsQ0FBZ0I7SUFDbEQsTUFBTSxDQUFDZSxZQUFZQyxjQUFjLEdBQUdoQiwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUNpQixnQkFBZ0JDLGtCQUFrQixHQUFHbEIsK0NBQVFBLENBQUM7SUFDckQsTUFBTSxDQUFDbUIsYUFBYUMsZUFBZSxHQUFHcEIsK0NBQVFBLENBQWdCO0lBQzlELE1BQU0sQ0FBQ3FCLGFBQWFDLGVBQWUsR0FBR3RCLCtDQUFRQSxDQUFjO0lBRTVELE1BQU11Qix1QkFBdUJyQiw2Q0FBTUEsQ0FBaUI7SUFFcEQsc0JBQXNCO0lBQ3RCRCxnREFBU0EsQ0FBQztRQUNSLE1BQU11QixzQkFBc0I7WUFDMUIsSUFBSTtnQkFDRixNQUFNQyxTQUFTLE1BQU10QiwrREFBcUI7Z0JBQzFDLElBQUlzQixPQUFPRSxPQUFPLElBQUlGLE9BQU9HLElBQUksRUFBRTtvQkFDakNSLGVBQWVLLE9BQU9HLElBQUksQ0FBQ1QsV0FBVztnQkFDeEM7WUFDRixFQUFFLE9BQU9VLEtBQUs7Z0JBQ1pDLFFBQVFqQixLQUFLLENBQUMsbUNBQW1DZ0I7WUFDbkQ7UUFDRjtRQUVBLElBQUl2QixhQUFhO1lBQ2ZrQjtRQUNGO0lBQ0YsR0FBRztRQUFDbEI7S0FBWTtJQUVoQixxQ0FBcUM7SUFDckMsTUFBTXlCLG1C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QUFhO2dDQUNQaEYsWUFBWW1HLGNBQWMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTzlEO0FBRUEsaUVBQWVwSCxnQkFBZ0JBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL2xlYWRzL0xlYWRXaGF0c0FwcENoYXQudHN4PzI4ODAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB3aGF0c2FwcEFwaSBmcm9tICcuLi8uLi9hcGkvd2hhdHNhcHAnO1xuaW1wb3J0IHsgTGVhZCB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMnO1xuXG5pbnRlcmZhY2UgTGVhZFdoYXRzQXBwQ2hhdFByb3BzIHtcbiAgbGVhZDogTGVhZDtcbiAgaXNDb25uZWN0ZWQ6IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBXaGF0c0FwcE1lc3NhZ2Uge1xuICBpZDogc3RyaW5nO1xuICBib2R5OiBzdHJpbmc7XG4gIGZyb206IHN0cmluZztcbiAgdG86IHN0cmluZztcbiAgZnJvbU1lOiBib29sZWFuO1xuICB0aW1lc3RhbXA6IHN0cmluZztcbn1cblxuY29uc3QgTGVhZFdoYXRzQXBwQ2hhdDogUmVhY3QuRkM8TGVhZFdoYXRzQXBwQ2hhdFByb3BzPiA9ICh7IGxlYWQsIGlzQ29ubmVjdGVkIH0pID0+IHtcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxXaGF0c0FwcE1lc3NhZ2VbXT4oW10pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3NlbmRpbmcsIHNldFNlbmRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbmV3TWVzc2FnZSwgc2V0TmV3TWVzc2FnZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtoYXNOZXdNZXNzYWdlcywgc2V0SGFzTmV3TWVzc2FnZXNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcGhvbmVOdW1iZXIsIHNldFBob25lTnVtYmVyXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbGFzdFVwZGF0ZWQsIHNldExhc3RVcGRhdGVkXSA9IHVzZVN0YXRlPERhdGUgfCBudWxsPihudWxsKTtcbiAgXG4gIGNvbnN0IG1lc3NhZ2VzQ29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgXG4gIC8vIEdldCBXaGF0c0FwcCBzdGF0dXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmZXRjaFdoYXRzQXBwU3RhdHVzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2hhdHNhcHBBcGkuZ2V0U3RhdHVzKCk7XG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcyAmJiByZXN1bHQuZGF0YSkge1xuICAgICAgICAgIHNldFBob25lTnVtYmVyKHJlc3VsdC5kYXRhLnBob25lTnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBXaGF0c0FwcCBzdGF0dXM6XCIsIGVycik7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBpZiAoaXNDb25uZWN0ZWQpIHtcbiAgICAgIGZldGNoV2hhdHNBcHBTdGF0dXMoKTtcbiAgICB9XG4gIH0sIFtpc0Nvbm5lY3RlZF0pO1xuICBcbiAgLy8gQ2xlYW4gcGhvbmUgbnVtYmVycyBmb3IgY29tcGFyaXNvblxuICBjb25zdCBjbGVhblBob25lTnVtYmVyID0gKHBob25lOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIXBob25lKSByZXR1cm4gJyc7XG4gICAgLy8gUmVtb3ZlIEBjLnVzIHN1ZmZpeCBhbmQgYWxsIG5vbi1kaWdpdCBjaGFyYWN0ZXJzXG4gICAgbGV0IGNsZWFuZWQgPSBwaG9uZS5yZXBsYWNlKCdAYy51cycsICcnKS5yZXBsYWNlKC9cXEQvZywgJycpO1xuICAgIFxuICAgIC8vIEZvciBCcmF6aWxpYW4gbnVtYmVycywgY29uc2lkZXIgcmVtb3ZpbmcgY291bnRyeSBjb2RlIGlmIHByZXNlbnRcbiAgICBpZiAoY2xlYW5lZC5zdGFydHNXaXRoKCc1NScpICYmIGNsZWFuZWQubGVuZ3RoID4gMTApIHtcbiAgICAgIGNvbnNvbGUubG9nKCdQaG9uZSBoYXMgQnJhemlsaWFuIGZvcm1hdCB3aXRoIGNvdW50cnkgY29kZTonLCBjbGVhbmVkKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGNsZWFuZWQ7XG4gIH07XG4gIFxuICAvLyBGb3JtYXQgcGhvbmUgbnVtYmVyIGZvciBkaXNwbGF5XG4gIGNvbnN0IGZvcm1hdFBob25lTnVtYmVyID0gKHBob25lOiBzdHJpbmcgfCBudWxsKSA9PiB7XG4gICAgaWYgKCFwaG9uZSkgcmV0dXJuICcnO1xuICAgIFxuICAgIC8vIEZvcm1hdG8gYnJhc2lsZWlybzogKzU1ICgyMSkgOTg3ODYtODM5NVxuICAgIGlmIChwaG9uZS5zdGFydHNXaXRoKCc1NScpICYmIHBob25lLmxlbmd0aCA+PSAxMikge1xuICAgICAgY29uc3QgZGRkID0gcGhvbmUuc3Vic3RyaW5nKDIsIDQpO1xuICAgICAgY29uc3QgZmlyc3RQYXJ0ID0gcGhvbmUuc3Vic3RyaW5nKDQsIDkpO1xuICAgICAgY29uc3Qgc2Vjb25kUGFydCA9IHBob25lLnN1YnN0cmluZyg5KTtcbiAgICAgIHJldHVybiBgKzU1ICgke2RkZH0pICR7Zmlyc3RQYXJ0fS0ke3NlY29uZFBhcnR9YDtcbiAgICB9XG4gICAgXG4gICAgLy8gT3V0cm9zIGZvcm1hdG9zIC0gZXhpYmlyIGNvbSBlc3Bhw6dvcyBwYXJhIGxlZ2liaWxpZGFkZVxuICAgIHJldHVybiBwaG9uZS5yZXBsYWNlKC8oXFxkezJ9KShcXGR7Mn0pKFxcZHs1fSkoXFxkKykvLCAnKyQxICgkMikgJDMtJDQnKTtcbiAgfTtcbiAgXG4gIC8vIENoZWNrIGlmIGEgbnVtYmVyIGJlbG9uZ3MgdG8gdGhlIGN1cnJlbnQgbGVhZFxuICBjb25zdCBpc0xlYWRQaG9uZSA9IChwaG9uZTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFsZWFkLnBob25lKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCFwaG9uZSkgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGBDb21wYXJpbmcgcGhvbmVzOiBMZWFkPSR7bGVhZC5waG9uZX0sIE1lc3NhZ2U9JHtwaG9uZX1gKTtcbiAgICBcbiAgICBjb25zdCBjbGVhbkxlYWRQaG9uZSA9IGNsZWFuUGhvbmVOdW1iZXIobGVhZC5waG9uZSk7XG4gICAgY29uc3QgY2xlYW5QaG9uZVRvQ2hlY2sgPSBjbGVhblBob25lTnVtYmVyKHBob25lLnJlcGxhY2UoJ0BjLnVzJywgJycpKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgQ2xlYW4gcGhvbmVzOiBMZWFkPSR7Y2xlYW5MZWFkUGhvbmV9LCBNZXNzYWdlPSR7Y2xlYW5QaG9uZVRvQ2hlY2t9YCk7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgbnVtYmVycyBtYXRjaCB3aXRoIHZhcmlvdXMgZm9ybWF0czpcbiAgICAvLyAxLiBFeGFjdCBtYXRjaFxuICAgIC8vIDIuIExlYWQgcGhvbmUgZW5kcyB3aXRoIG1lc3NhZ2UgcGhvbmUgKGxlYWQgaGFzIGNvdW50cnkgY29kZSwgbWVzc2FnZSBkb2Vzbid0KVxuICAgIC8vIDMuIE1lc3NhZ2UgcGhvbmUgZW5kcyB3aXRoIGxlYWQgcGhvbmUgKG1lc3NhZ2UgaGFzIGNvdW50cnkgY29kZSwgbGVhZCBkb2Vzbid0KVxuICAgIC8vIDQuIE1hdGNoIGJ5IGxhc3QgOCBvciA5IGRpZ2l0cyAobW9iaWxlIG51bWJlcnMgaW4gQnJhemlsKVxuICAgIGNvbnN0IGlzTWF0Y2ggPSBcbiAgICAgIGNsZWFuTGVhZFBob25lID09PSBjbGVhblBob25lVG9DaGVjayB8fFxuICAgICAgY2xlYW5MZWFkUGhvbmUuZW5kc1dpdGgoY2xlYW5QaG9uZVRvQ2hlY2spIHx8XG4gICAgICBjbGVhblBob25lVG9DaGVjay5lbmRzV2l0aChjbGVhbkxlYWRQaG9uZSkgfHxcbiAgICAgIChjbGVhbkxlYWRQaG9uZS5sZW5ndGggPj0gOCAmJiBjbGVhblBob25lVG9DaGVjay5lbmRzV2l0aChjbGVhbkxlYWRQaG9uZS5zbGljZSgtOCkpKSB8fFxuICAgICAgKGNsZWFuTGVhZFBob25lLmxlbmd0aCA+PSA5ICYmIGNsZWFuUGhvbmVUb0NoZWNrLmVuZHNXaXRoKGNsZWFuTGVhZFBob25lLnNsaWNlKC05KSkpIHx8XG4gICAgICAoY2xlYW5QaG9uZVRvQ2hlY2subGVuZ3RoID49IDggJiYgY2xlYW5MZWFkUGhvbmUuZW5kc1dpdGgoY2xlYW5QaG9uZVRvQ2hlY2suc2xpY2UoLTgpKSkgfHxcbiAgICAgIChjbGVhblBob25lVG9DaGVjay5sZW5ndGggPj0gOSAmJiBjbGVhbkxlYWRQaG9uZS5lbmRzV2l0aChjbGVhblBob25lVG9DaGVjay5zbGljZSgtOSkpKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgUGhvbmUgbWF0Y2ggcmVzdWx0OiAke2lzTWF0Y2h9YCk7XG4gICAgcmV0dXJuIGlzTWF0Y2g7XG4gIH07XG4gIFxuICAvLyBGZXRjaCBtZXNzYWdlcyBmb3IgdGhpcyBsZWFkXG4gIGNvbnN0IGZldGNoTWVzc2FnZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBjb25zb2xlLmxvZyhgRmV0Y2hpbmcgV2hhdHNBcHAgbWVzc2FnZXMgZm9yIGxlYWQgJHtsZWFkLmlkfSAoJHtsZWFkLm5hbWV9KS4uLmApO1xuICAgICAgXG4gICAgICAvLyBBZGQgZGVidWdnaW5nIHRvIHNob3cgY3VycmVudCBsZWFkIHBob25lXG4gICAgICBjb25zb2xlLmxvZyhgTGVhZCBwaG9uZSBmcm9tIHN0YXRlOiAke2xlYWQucGhvbmV9YCk7XG4gICAgICBcbiAgICAgIC8vIFRyeSB0byBnZXQgbWVzc2FnZXMgc3BlY2lmaWNhbGx5IGZvciB0aGlzIGNvbnRhY3RcbiAgICAgIGNvbnN0IGNsZWFuZWRQaG9uZSA9IGNsZWFuUGhvbmVOdW1iZXIobGVhZC5waG9uZSk7XG4gICAgICBjb25zb2xlLmxvZyhgRmV0Y2hpbmcgbWVzc2FnZXMgZm9yIHBob25lOiAke2NsZWFuZWRQaG9uZX1gKTtcbiAgICAgIFxuICAgICAgLy8gRmlyc3QgdHJ5IHRvIGdldCBtZXNzYWdlcyBkaXJlY3RseSBmcm9tIHRoaXMgY29udGFjdFxuICAgICAgaWYgKGNsZWFuZWRQaG9uZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBBdHRlbXB0aW5nIHRvIGdldCBtZXNzYWdlcyBzcGVjaWZpY2FsbHkgZm9yIG51bWJlcjogJHtjbGVhbmVkUGhvbmV9YCk7XG4gICAgICAgICAgY29uc3QgY29udGFjdE1lc3NhZ2VzUmVzdWx0ID0gYXdhaXQgd2hhdHNhcHBBcGkuZ2V0Q29udGFjdE1lc3NhZ2VzKGNsZWFuZWRQaG9uZSk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0NvbnRhY3QgbWVzc2FnZXMgQVBJIHJlc3BvbnNlOicsIGNvbnRhY3RNZXNzYWdlc1Jlc3VsdCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGNvbnRhY3RNZXNzYWdlc1Jlc3VsdC5zdWNjZXNzICYmIGNvbnRhY3RNZXNzYWdlc1Jlc3VsdC5kYXRhKSB7XG4gICAgICAgICAgICBsZXQgY29udGFjdE1lc3NhZ2VzID0gW107XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEhhbmRsZSBkaWZmZXJlbnQgcmVzcG9uc2UgZm9ybWF0c1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29udGFjdE1lc3NhZ2VzUmVzdWx0LmRhdGEpKSB7XG4gICAgICAgICAgICAgIGNvbnRhY3RNZXNzYWdlcyA9IGNvbnRhY3RNZXNzYWdlc1Jlc3VsdC5kYXRhO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb250YWN0TWVzc2FnZXNSZXN1bHQuZGF0YS5tZXNzYWdlcyAmJiBBcnJheS5pc0FycmF5KGNvbnRhY3RNZXNzYWdlc1Jlc3VsdC5kYXRhLm1lc3NhZ2VzKSkge1xuICAgICAgICAgICAgICBjb250YWN0TWVzc2FnZXMgPSBjb250YWN0TWVzc2FnZXNSZXN1bHQuZGF0YS5tZXNzYWdlcztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbnRhY3RNZXNzYWdlc1Jlc3VsdC5kYXRhID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAvLyBUcnkgdG8gZXh0cmFjdCBtZXNzYWdlcyBmcm9tIHJlc3BvbnNlXG4gICAgICAgICAgICAgIGNvbnN0IHBvc3NpYmxlTWVzc2FnZXMgPSBPYmplY3QudmFsdWVzKGNvbnRhY3RNZXNzYWdlc1Jlc3VsdC5kYXRhKS5maW5kKHZhbCA9PiBBcnJheS5pc0FycmF5KHZhbCkpO1xuICAgICAgICAgICAgICBpZiAocG9zc2libGVNZXNzYWdlcykge1xuICAgICAgICAgICAgICAgIGNvbnRhY3RNZXNzYWdlcyA9IHBvc3NpYmxlTWVzc2FnZXM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coYEZvdW5kICR7Y29udGFjdE1lc3NhZ2VzLmxlbmd0aH0gZGlyZWN0IG1lc3NhZ2VzIGZvciBjb250YWN0YCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChjb250YWN0TWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAvLyBTb3J0IG1lc3NhZ2VzIGJ5IHRpbWVzdGFtcCAobmV3ZXN0IGZpcnN0KVxuICAgICAgICAgICAgICBjb250YWN0TWVzc2FnZXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVBID0gbmV3IERhdGUoYS50aW1lc3RhbXAgfHwgMCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVCID0gbmV3IERhdGUoYi50aW1lc3RhbXAgfHwgMCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aW1lQiAtIHRpbWVBO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHNldE1lc3NhZ2VzKGNvbnRhY3RNZXNzYWdlcyk7XG4gICAgICAgICAgICAgIHNldExhc3RVcGRhdGVkKG5ldyBEYXRlKCkpO1xuICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmxvZygnTm8gc3BlY2lmaWMgbWVzc2FnZXMgZm91bmQgZm9yIHRoaXMgY29udGFjdCwgdXNpbmcgYWx0ZXJuYXRpdmUgbWV0aG9kJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNvbnRhY3Qtc3BlY2lmaWMgbWVzc2FnZXM6JywgZXJyKTtcbiAgICAgICAgICAvLyBDb250aW51ZSB3aXRoIGZhbGxiYWNrIG1ldGhvZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZhbGxiYWNrOiBHZXQgYWxsIG1lc3NhZ2VzIGFuZCBmaWx0ZXIgYnkgdGhpcyBsZWFkJ3MgcGhvbmUgbnVtYmVyXG4gICAgICBjb25zb2xlLmxvZygnRmFsbGluZyBiYWNrIHRvIGZldGNoaW5nIGFuZCBmaWx0ZXJpbmcgYWxsIG1lc3NhZ2VzJyk7XG4gICAgICBjb25zdCBhbGxNZXNzYWdlc1Jlc3VsdCA9IGF3YWl0IHdoYXRzYXBwQXBpLmdldE1lc3NhZ2VzKCk7XG4gICAgICBcbiAgICAgIGlmIChhbGxNZXNzYWdlc1Jlc3VsdC5zdWNjZXNzICYmIGFsbE1lc3NhZ2VzUmVzdWx0LmRhdGEpIHtcbiAgICAgICAgLy8gTG9nIEFQSSByZXNwb25zZVxuICAgICAgICBjb25zb2xlLmxvZyhcIldoYXRzQXBwIEFQSSByZXNwb25zZTpcIiwgYWxsTWVzc2FnZXNSZXN1bHQuZGF0YSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVzcG9uc2Ugc3RydWN0dXJlOlwiLCBPYmplY3Qua2V5cyhhbGxNZXNzYWdlc1Jlc3VsdC5kYXRhKSk7XG4gICAgICAgIFxuICAgICAgICBsZXQgbGVhZE1lc3NhZ2VzOiBXaGF0c0FwcE1lc3NhZ2VbXSA9IFtdO1xuICAgICAgICBcbiAgICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCByZXNwb25zZSBmb3JtYXRzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFsbE1lc3NhZ2VzUmVzdWx0LmRhdGEpKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJQcm9jZXNzaW5nIGFycmF5IHJlc3BvbnNlIGZvcm1hdC4uLlwiKTtcbiAgICAgICAgICAvLyBGaWx0ZXIgbWVzc2FnZXMgdG8gb25seSBzaG93IHRoaXMgbGVhZCdzIG1lc3NhZ2VzXG4gICAgICAgICAgbGVhZE1lc3NhZ2VzID0gYWxsTWVzc2FnZXNSZXN1bHQuZGF0YS5maWx0ZXIobXNnID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoRnJvbSA9IGlzTGVhZFBob25lKG1zZy5mcm9tKTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoVG8gPSBpc0xlYWRQaG9uZShtc2cudG8pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYE1lc3NhZ2UgJHttc2cuaWR9OiBmcm9tPSR7bXNnLmZyb219LCB0bz0ke21zZy50b30sIG1hdGNoZXM9JHttYXRjaEZyb20gfHwgbWF0Y2hUb31gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoRnJvbSB8fCBtYXRjaFRvO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGFsbE1lc3NhZ2VzUmVzdWx0LmRhdGEubWVzc2FnZXMgJiYgdHlwZW9mIGFsbE1lc3NhZ2VzUmVzdWx0LmRhdGEubWVzc2FnZXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJQcm9jZXNzaW5nIGdyb3VwZWQgbWVzc2FnZXMgZm9ybWF0Li4uXCIpO1xuICAgICAgICAgIC8vIEhhbmRsZSBncm91cGVkIG1lc3NhZ2VzIGZvcm1hdFxuICAgICAgICAgIGNvbnN0IG1lc3NhZ2VzT2JqID0gYWxsTWVzc2FnZXNSZXN1bHQuZGF0YS5tZXNzYWdlcztcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkF2YWlsYWJsZSBwaG9uZSBudW1iZXJzOlwiLCBPYmplY3Qua2V5cyhtZXNzYWdlc09iaikpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIE9ubHkgZ2V0IG1lc3NhZ2VzIGZyb20gdGhlIGxlYWQncyBwaG9uZSBudW1iZXJcbiAgICAgICAgICBmb3IgKGNvbnN0IFtwaG9uZU51bWJlciwgbXNnc10gb2YgT2JqZWN0LmVudHJpZXMobWVzc2FnZXNPYmopKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2hlY2tpbmcgcGhvbmUgbnVtYmVyOiAke3Bob25lTnVtYmVyfWApO1xuICAgICAgICAgICAgY29uc3QgaXNNYXRjaCA9IGlzTGVhZFBob25lKHBob25lTnVtYmVyKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBNYXRjaCByZXN1bHQgZm9yICR7cGhvbmVOdW1iZXJ9OiAke2lzTWF0Y2h9YCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChpc01hdGNoICYmIEFycmF5LmlzQXJyYXkobXNncykpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYEFkZGluZyAke21zZ3MubGVuZ3RofSBtZXNzYWdlcyBmcm9tICR7cGhvbmVOdW1iZXJ9YCk7XG4gICAgICAgICAgICAgIGxlYWRNZXNzYWdlcyA9IFsuLi5sZWFkTWVzc2FnZXMsIC4uLm1zZ3NdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coYEZvdW5kICR7bGVhZE1lc3NhZ2VzLmxlbmd0aH0gbWVzc2FnZXMgZm9yIHRoaXMgbGVhZGApO1xuICAgICAgICBcbiAgICAgICAgLy8gU29ydCBtZXNzYWdlcyBieSB0aW1lc3RhbXAgKG5ld2VzdCBmaXJzdClcbiAgICAgICAgbGVhZE1lc3NhZ2VzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICBjb25zdCB0aW1lQSA9IG5ldyBEYXRlKGEudGltZXN0YW1wIHx8IDApLmdldFRpbWUoKTtcbiAgICAgICAgICBjb25zdCB0aW1lQiA9IG5ldyBEYXRlKGIudGltZXN0YW1wIHx8IDApLmdldFRpbWUoKTtcbiAgICAgICAgICByZXR1cm4gdGltZUIgLSB0aW1lQTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBmb3IgbmV3IG1lc3NhZ2VzXG4gICAgICAgIGlmIChsYXN0VXBkYXRlZCAmJiBsZWFkTWVzc2FnZXMubGVuZ3RoID4gbWVzc2FnZXMubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJEZXRlY3RlZCBwb3RlbnRpYWxseSBuZXcgbWVzc2FnZXNcIik7XG4gICAgICAgICAgY29uc3QgY3VycmVudE5ld2VzdFRpbWUgPSBtZXNzYWdlcy5sZW5ndGggPiAwIFxuICAgICAgICAgICAgPyBuZXcgRGF0ZShtZXNzYWdlc1swXT8udGltZXN0YW1wIHx8IDApLmdldFRpbWUoKSBcbiAgICAgICAgICAgIDogMDtcbiAgICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGhhc05ldyA9IGxlYWRNZXNzYWdlcy5zb21lKG1zZyA9PiBcbiAgICAgICAgICAgICFtc2cuZnJvbU1lICYmIG5ldyBEYXRlKG1zZy50aW1lc3RhbXAgfHwgMCkuZ2V0VGltZSgpID4gY3VycmVudE5ld2VzdFRpbWVcbiAgICAgICAgICApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChoYXNOZXcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTmV3IGluY29taW5nIG1lc3NhZ2VzIGRldGVjdGVkIVwiKTtcbiAgICAgICAgICAgIHNldEhhc05ld01lc3NhZ2VzKHRydWUpO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRIYXNOZXdNZXNzYWdlcyhmYWxzZSksIDMwMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0TWVzc2FnZXMobGVhZE1lc3NhZ2VzKTtcbiAgICAgICAgc2V0TGFzdFVwZGF0ZWQobmV3IERhdGUoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQVBJIHJlc3BvbnNlIGVycm9yOlwiLCBhbGxNZXNzYWdlc1Jlc3VsdC5lcnJvcik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgbWVzc2FnZXMgZm9yIGxlYWQ6XCIsIGVycik7XG4gICAgICBzZXRFcnJvcihcIk7Do28gZm9pIHBvc3PDrXZlbCBjYXJyZWdhciBhcyBtZW5zYWdlbnMgZG8gV2hhdHNBcHBcIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIEZldGNoIG1lc3NhZ2VzIGluaXRpYWxseSBhbmQgc2V0IHVwIHBvbGxpbmdcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNDb25uZWN0ZWQgJiYgbGVhZC5waG9uZSkge1xuICAgICAgY29uc29sZS5sb2coJ1NldHRpbmcgdXAgV2hhdHNBcHAgbWVzc2FnZSBwb2xsaW5nIGZvciBsZWFkOicsIGxlYWQuaWQsICd3aXRoIHBob25lOicsIGxlYWQucGhvbmUpO1xuICAgICAgZmV0Y2hNZXNzYWdlcygpO1xuICAgICAgXG4gICAgICAvLyBTZXQgdXAgcG9sbGluZyBmb3IgbWVzc2FnZXNcbiAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnUG9sbGluZyBmb3IgV2hhdHNBcHAgbWVzc2FnZXMuLi4nKTtcbiAgICAgICAgZmV0Y2hNZXNzYWdlcygpO1xuICAgICAgfSwgNTAwMCk7IC8vIFBvbGwgZXZlcnkgNSBzZWNvbmRzIGZvciBtb3JlIHJlc3BvbnNpdmUgdXBkYXRlc1xuICAgICAgXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnQ2xlYXJpbmcgV2hhdHNBcHAgbWVzc2FnZSBwb2xsaW5nIGludGVydmFsJyk7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFtpc0Nvbm5lY3RlZCwgbGVhZC5waG9uZV0pO1xuICBcbiAgLy8gU2Nyb2xsIHRvIGJvdHRvbSB3aGVuIG1lc3NhZ2VzIGNoYW5nZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtZXNzYWdlc0NvbnRhaW5lclJlZi5jdXJyZW50KSB7XG4gICAgICBtZXNzYWdlc0NvbnRhaW5lclJlZi5jdXJyZW50LnNjcm9sbFRvcCA9IG1lc3NhZ2VzQ29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0O1xuICAgIH1cbiAgfSwgW21lc3NhZ2VzXSk7XG4gIFxuICAvLyBTZW5kIG1lc3NhZ2UgdG8gbGVhZFxuICBjb25zdCBoYW5kbGVTZW5kTWVzc2FnZSA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgXG4gICAgaWYgKCFuZXdNZXNzYWdlLnRyaW0oKSB8fCAhbGVhZC5waG9uZSB8fCAhaXNDb25uZWN0ZWQpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgc2V0U2VuZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgXG4gICAgICAvLyBTZW5kIG1lc3NhZ2UgdmlhIEFQSVxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2hhdHNhcHBBcGkuc2VuZE1lc3NhZ2UoXG4gICAgICAgIGNsZWFuUGhvbmVOdW1iZXIobGVhZC5waG9uZSksXG4gICAgICAgIG5ld01lc3NhZ2UsXG4gICAgICAgIGxlYWQuaWRcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBzZXROZXdNZXNzYWdlKCcnKTtcbiAgICAgICAgZmV0Y2hNZXNzYWdlcygpOyAvLyBSZWZyZXNoIG1lc3NhZ2VzXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRFcnJvcihyZXN1bHQuZXJyb3IgfHwgXCJGYWxoYSBhbyBlbnZpYXIgbWVuc2FnZW1cIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igc2VuZGluZyBtZXNzYWdlOlwiLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoXCJFcnJvIGFvIGVudmlhciBtZW5zYWdlbVwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0U2VuZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuICBcbiAgLy8gSWYgcGhvbmUgbnVtYmVyIG9yIFdoYXRzQXBwIGNvbm5lY3Rpb24gaXMgbWlzc2luZ1xuICBpZiAoIWlzQ29ubmVjdGVkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZCBib3JkZXItMCBzaGFkb3ctc20gaC0xMDBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWhlYWRlciBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXCIgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnIH19PlxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImJpIGJpLXdoYXRzYXBwIG1lLTIgdGV4dC1zdWNjZXNzXCI+PC9pPlxuICAgICAgICAgIDxoNSBjbGFzc05hbWU9XCJtYi0wXCI+Q2hhdCBXaGF0c0FwcDwvaDU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtYm9keSBkLWZsZXggZmxleC1jb2x1bW4ganVzdGlmeS1jb250ZW50LWNlbnRlciBhbGlnbi1pdGVtcy1jZW50ZXIgcHktNVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zIHJvdW5kZWQtY2lyY2xlIGJnLWxpZ2h0IG1iLTNcIj5cbiAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImJpIGJpLXdpZmktb2ZmIGZzLTIgdGV4dC1tdXRlZFwiPjwvaT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwibWItMlwiPldoYXRzQXBwIG7Do28gY29uZWN0YWRvPC9oNT5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkIHRleHQtY2VudGVyIG1iLTNcIj5cbiAgICAgICAgICAgIMOJIG5lY2Vzc8OhcmlvIGNvbmVjdGFyIGFvIFdoYXRzQXBwIHBhcmEgdmlzdWFsaXphciBlIGVudmlhciBtZW5zYWdlbnMuXG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxhIGhyZWY9XCIvd2hhdHNhcHBcIiBjbGFzc05hbWU9XCJidG4gYnRuLW91dGxpbmUtc3VjY2Vzc1wiPlxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiYmkgYmktd2hhdHNhcHAgbWUtMlwiPjwvaT5cbiAgICAgICAgICAgIENvbmVjdGFyIFdoYXRzQXBwXG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbiAgXG4gIGlmICghbGVhZC5waG9uZSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQgYm9yZGVyLTAgc2hhZG93LXNtIGgtMTAwXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1oZWFkZXIgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyB9fT5cbiAgICAgICAgICA8aSBjbGFzc05hbWU9XCJiaSBiaS13aGF0c2FwcCBtZS0yIHRleHQtc3VjY2Vzc1wiPjwvaT5cbiAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwibWItMFwiPkNoYXQgV2hhdHNBcHA8L2g1PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWJvZHkgZC1mbGV4IGZsZXgtY29sdW1uIGp1c3RpZnktY29udGVudC1jZW50ZXIgYWxpZ24taXRlbXMtY2VudGVyIHB5LTVcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMyByb3VuZGVkLWNpcmNsZSBiZy1saWdodCBtYi0zXCI+XG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJiaSBiaS10ZWxlcGhvbmUteCBmcy0yIHRleHQtbXV0ZWRcIj48L2k+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGg1IGNsYXNzTmFtZT1cIm1iLTJcIj5UZWxlZm9uZSBuw6NvIGNhZGFzdHJhZG88L2g1PlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQgdGV4dC1jZW50ZXIgbWItM1wiPlxuICAgICAgICAgICAgRXN0ZSBsZWFkIG7Do28gcG9zc3VpIHVtIG7Dum1lcm8gZGUgdGVsZWZvbmUgY2FkYXN0cmFkbyBwYXJhIGVudmlvIGRlIG1lbnNhZ2Vucy5cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPGEgaHJlZj17YC9sZWFkcy8ke2xlYWQuaWR9L2VkaXRgfSBjbGFzc05hbWU9XCJidG4gYnRuLW91dGxpbmUtcHJpbWFyeVwiPlxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiYmkgYmktcGVuY2lsIG1lLTJcIj48L2k+XG4gICAgICAgICAgICBFZGl0YXIgTGVhZFxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG4gIFxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZCBib3JkZXItMCBzaGFkb3ctc20gaC0xMDBcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1oZWFkZXIgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyB9fT5cbiAgICAgICAgPGkgY2xhc3NOYW1lPVwiYmkgYmktd2hhdHNhcHAgbWUtMiB0ZXh0LXN1Y2Nlc3NcIj48L2k+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGg1IGNsYXNzTmFtZT1cIm1iLTBcIj5DaGF0IFdoYXRzQXBwPC9oNT5cbiAgICAgICAgICB7cGhvbmVOdW1iZXIgJiYgKFxuICAgICAgICAgICAgPHNtYWxsIGNsYXNzTmFtZT1cInRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgRGU6IHtmb3JtYXRQaG9uZU51bWJlcihwaG9uZU51bWJlcil9IHwgUGFyYToge2Zvcm1hdFBob25lTnVtYmVyKGxlYWQucGhvbmUpfVxuICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge2hhc05ld01lc3NhZ2VzICYmIChcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJiYWRnZSBiZy1zdWNjZXNzIG1zLWF1dG8gYW5pbWF0ZV9fYW5pbWF0ZWQgYW5pbWF0ZV9fcHVsc2UgYW5pbWF0ZV9faW5maW5pdGVcIj5cbiAgICAgICAgICAgIE5vdmEgbWVuc2FnZW0hXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIDxkaXYgXG4gICAgICAgIHJlZj17bWVzc2FnZXNDb250YWluZXJSZWZ9XG4gICAgICAgIGNsYXNzTmFtZT17YGNhcmQtYm9keSBwLTIgb3ZlcmZsb3ctYXV0byAke2hhc05ld01lc3NhZ2VzID8gJ2JvcmRlciBib3JkZXItc3VjY2VzcycgOiAnJ31gfSBcbiAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgaGVpZ2h0OiAnMzUwcHgnLCBcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZjVmNWY1JyxcbiAgICAgICAgICB0cmFuc2l0aW9uOiAnYm9yZGVyLWNvbG9yIDAuNXMgZWFzZScgXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIHtsb2FkaW5nICYmIG1lc3NhZ2VzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlciBoLTEwMFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGlubmVyLWJvcmRlciB0ZXh0LXN1Y2Nlc3NcIiByb2xlPVwic3RhdHVzXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInZpc3VhbGx5LWhpZGRlblwiPkNhcnJlZ2FuZG8uLi48L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IG1lc3NhZ2VzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBmbGV4LWNvbHVtbiBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlciBoLTEwMCB0ZXh0LWNlbnRlciBwLTNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zIHJvdW5kZWQtY2lyY2xlIGJnLWxpZ2h0IG1iLTNcIj5cbiAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiYmkgYmktY2hhdC1sZWZ0LXRleHQgZnMtMiB0ZXh0LW11dGVkXCI+PC9pPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwibWItMlwiPk5lbmh1bWEgbWVuc2FnZW08L2g1PlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICBOw6NvIGjDoSBjb252ZXJzYXMgY29tIGVzdGUgbGVhZCBhaW5kYS4gRW52aWUgdW1hIG1lbnNhZ2VtIHBhcmEgaW5pY2lhci5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2VzLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgey8qIFJldmVyc2UgbWVzc2FnZXMgYXJyYXkgdG8gc2hvdyBvbGRlc3QgZmlyc3QgKi99XG4gICAgICAgICAgICB7Wy4uLm1lc3NhZ2VzXS5yZXZlcnNlKCkubWFwKG1zZyA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGlzT3V0Z29pbmcgPSBtc2cuZnJvbU1lO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAga2V5PXttc2cuaWR9IFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbWVzc2FnZS1idWJibGUgbWItMyAke2lzT3V0Z29pbmcgPyAndGV4dC1lbmQnIDogJyd9YH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BkLWlubGluZS1ibG9jayBwLTMgcm91bmRlZC0zICR7XG4gICAgICAgICAgICAgICAgICAgICAgaXNPdXRnb2luZyA/ICdiZy1zdWNjZXNzIHRleHQtd2hpdGUnIDogJ2JnLXdoaXRlIHRleHQtZGFyaydcbiAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6ICc4MCUnLFxuICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogJzAgMXB4IDJweCByZ2JhKDAsMCwwLDAuMSknXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgICAge21zZy5ib2R5fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWZvb3RlciBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzTmFtZT17aXNPdXRnb2luZyA/ICd0ZXh0LXdoaXRlLTUwJyA6ICd0ZXh0LW11dGVkJ30+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bmV3IERhdGUobXNnLnRpbWVzdGFtcCkudG9Mb2NhbGVTdHJpbmcoJ3B0LUJSJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXk6ICcyLWRpZ2l0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGg6ICcyLWRpZ2l0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaG91cjogJzItZGlnaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtaW51dGU6ICcyLWRpZ2l0J1xuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1mb290ZXJcIiBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScgfX0+XG4gICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbGVydCBhbGVydC1kYW5nZXIgcHktMiBtYi0yXCI+XG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJiaSBiaS1leGNsYW1hdGlvbi10cmlhbmdsZS1maWxsIG1lLTJcIj48L2k+XG4gICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU2VuZE1lc3NhZ2V9IGNsYXNzTmFtZT1cImQtZmxleFwiPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIG1lLTJcIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJEaWdpdGUgdW1hIG1lbnNhZ2VtLi4uXCJcbiAgICAgICAgICAgIHZhbHVlPXtuZXdNZXNzYWdlfVxuICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0TmV3TWVzc2FnZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICBkaXNhYmxlZD17c2VuZGluZ31cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICB0eXBlPVwic3VibWl0XCIgXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXN1Y2Nlc3NcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9eyFuZXdNZXNzYWdlLnRyaW0oKSB8fCBzZW5kaW5nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtzZW5kaW5nID8gKFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzcGlubmVyLWJvcmRlciBzcGlubmVyLWJvcmRlci1zbVwiIHJvbGU9XCJzdGF0dXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L3NwYW4+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJiaSBiaS1zZW5kXCI+PC9pPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgICBcbiAgICAgICAge2xhc3RVcGRhdGVkICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG10LTJcIj5cbiAgICAgICAgICAgIDxzbWFsbCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgIMOabHRpbWEgYXR1YWxpemHDp8Ojbzoge2xhc3RVcGRhdGVkLnRvTG9jYWxlU3RyaW5nKCdwdC1CUicpfVxuICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTGVhZFdoYXRzQXBwQ2hhdDsiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsIndoYXRzYXBwQXBpIiwiTGVhZFdoYXRzQXBwQ2hhdCIsImxlYWQiLCJpc0Nvbm5lY3RlZCIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInNlbmRpbmciLCJzZXRTZW5kaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsIm5ld01lc3NhZ2UiLCJzZXROZXdNZXNzYWdlIiwiaGFzTmV3TWVzc2FnZXMiLCJzZXRIYXNOZXdNZXNzYWdlcyIsInBob25lTnVtYmVyIiwic2V0UGhvbmVOdW1iZXIiLCJsYXN0VXBkYXRlZCIsInNldExhc3RVcGRhdGVkIiwibWVzc2FnZXNDb250YWluZXJSZWYiLCJmZXRjaFdoYXRzQXBwU3RhdHVzIiwicmVzdWx0IiwiZ2V0U3RhdHVzIiwic3VjY2VzcyIsImRhdGEiLCJlcnIiLCJjb25zb2xlIiwiY2xlYW5QaG9uZU51bWJlciIsInBob25lIiwiY2xlYW5lZCIsInJlcGxhY2UiLCJzdGFydHNXaXRoIiwibGVuZ3RoIiwibG9nIiwiZm9ybWF0UGhvbmVOdW1iZXIiLCJkZGQiLCJzdWJzdHJpbmciLCJmaXJzdFBhcnQiLCJzZWNvbmRQYXJ0IiwiaXNMZWFkUGhvbmUiLCJjbGVhbkxlYWRQaG9uZSIsImNsZWFuUGhvbmVUb0NoZWNrIiwiaXNNYXRjaCIsImVuZHNXaXRoIiwic2xpY2UiLCJmZXRjaE1lc3NhZ2VzIiwiaWQiLCJuYW1lIiwiY2xlYW5lZFBob25lIiwiY29udGFjdE1lc3NhZ2VzUmVzdWx0IiwiZ2V0Q29udGFjdE1lc3NhZ2VzIiwiY29udGFjdE1lc3NhZ2VzIiwiQXJyYXkiLCJpc0FycmF5IiwicG9zc2libGVNZXNzYWdlcyIsIk9iamVjdCIsInZhbHVlcyIsImZpbmQiLCJ2YWwiLCJzb3J0IiwiYSIsImIiLCJ0aW1lQSIsIkRhdGUiLCJ0aW1lc3RhbXAiLCJnZXRUaW1lIiwidGltZUIiLCJhbGxNZXNzYWdlc1Jlc3VsdCIsImdldE1lc3NhZ2VzIiwia2V5cyIsImxlYWRNZXNzYWdlcyIsImZpbHRlciIsIm1zZyIsIm1hdGNoRnJvbSIsImZyb20iLCJtYXRjaFRvIiwidG8iLCJtZXNzYWdlc09iaiIsIm1zZ3MiLCJlbnRyaWVzIiwiY3VycmVudE5ld2VzdFRpbWUiLCJoYXNOZXciLCJzb21lIiwiZnJvbU1lIiwic2V0VGltZW91dCIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiY3VycmVudCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImhhbmRsZVNlbmRNZXNzYWdlIiwiZSIsInByZXZlbnREZWZhdWx0IiwidHJpbSIsInNlbmRNZXNzYWdlIiwiZGl2IiwiY2xhc3NOYW1lIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJpIiwiaDUiLCJwIiwiaHJlZiIsInNtYWxsIiwic3BhbiIsInJlZiIsImhlaWdodCIsInRyYW5zaXRpb24iLCJyb2xlIiwicmV2ZXJzZSIsIm1hcCIsImlzT3V0Z29pbmciLCJtYXhXaWR0aCIsImJveFNoYWRvdyIsImJvZHkiLCJ0b0xvY2FsZVN0cmluZyIsImRheSIsIm1vbnRoIiwiaG91ciIsIm1pbnV0ZSIsImZvcm0iLCJvblN1Ym1pdCIsImlucHV0IiwidHlwZSIsInBsYWNlaG9sZGVyIiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsImRpc2FibGVkIiwiYnV0dG9uIiwiYXJpYS1oaWRkZW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/leads/LeadWhatsAppChat.tsx\n");

/***/ }),

/***/ "./src/contexts/AuthContext.tsx":
/*!**************************************!*\
  !*** ./src/contexts/AuthContext.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _api_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api/auth */ \"./src/api/auth.ts\");\n\n\n\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    user: null,\n    isAuthenticated: false,\n    isLoading: true,\n    login: async ()=>false,\n    logout: ()=>{},\n    register: async ()=>false\n});\nconst AuthProvider = ({ children })=>{\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Check if user is authenticated on mount\n        const verifyAuth = async ()=>{\n            try {\n                const response = await _api_auth__WEBPACK_IMPORTED_MODULE_2__[\"default\"].verifyToken();\n                if (response.success && response.data?.valid) {\n                    setUser(response.data.user);\n                } else {\n                    // Clear any invalid token\n                    _api_auth__WEBPACK_IMPORTED_MODULE_2__[\"default\"].logout();\n                }\n            } catch (error) {\n                console.error(\"Auth verification error:\", error);\n                // Clear token on error\n                _api_auth__WEBPACK_IMPORTED_MODULE_2__[\"default\"].logout();\n            } finally{\n                setIsLoading(false);\n            }\n        };\n        verifyAuth();\n    }, []);\n    const login = async (email, password)=>{\n        setIsLoading(true);\n        try {\n            const response = await _api_auth__WEBPACK_IMPORTED_MODULE_2__[\"default\"].login(email, password);\n            if (response.success && response.data?.user) {\n                setUser(response.data.user);\n                return true;\n            }\n            return false;\n        } catch (error) {\n            console.error(\"Login error:\", error);\n            return false;\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const logout = ()=>{\n        _api_auth__WEBPACK_IMPORTED_MODULE_2__[\"default\"].logout();\n        setUser(null);\n    };\n    const register = async (email, password, name)=>{\n        setIsLoading(true);\n        try {\n            const response = await _api_auth__WEBPACK_IMPORTED_MODULE_2__[\"default\"].register(email, password, name);\n            return response.success;\n        } catch (error) {\n            console.error(\"Registration error:\", error);\n            return false;\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: {\n            user,\n            isAuthenticated: !!user,\n            isLoading,\n            login,\n            logout,\n            register\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/usr/src/app/src/contexts/AuthContext.tsx\",\n        lineNumber: 88,\n        columnNumber: 5\n    }, undefined);\n};\nconst useAuth = ()=>(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AuthContext);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29udGV4dHMvQXV0aENvbnRleHQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUE4RTtBQUU1QztBQVdsQyxNQUFNTSw0QkFBY0wsb0RBQWFBLENBQWtCO0lBQ2pETSxNQUFNO0lBQ05DLGlCQUFpQjtJQUNqQkMsV0FBVztJQUNYQyxPQUFPLFVBQVk7SUFDbkJDLFFBQVEsS0FBTztJQUNmQyxVQUFVLFVBQVk7QUFDeEI7QUFFTyxNQUFNQyxlQUF3RCxDQUFDLEVBQUVDLFFBQVEsRUFBRTtJQUNoRixNQUFNLENBQUNQLE1BQU1RLFFBQVEsR0FBR2IsK0NBQVFBLENBQWM7SUFDOUMsTUFBTSxDQUFDTyxXQUFXTyxhQUFhLEdBQUdkLCtDQUFRQSxDQUFDO0lBRTNDQyxnREFBU0EsQ0FBQztRQUNSLDBDQUEwQztRQUMxQyxNQUFNYyxhQUFhO1lBQ2pCLElBQUk7Z0JBQ0YsTUFBTUMsV0FBVyxNQUFNYiw2REFBbUI7Z0JBRTFDLElBQUlhLFNBQVNFLE9BQU8sSUFBSUYsU0FBU0csSUFBSSxFQUFFQyxPQUFPO29CQUM1Q1AsUUFBUUcsU0FBU0csSUFBSSxDQUFDZCxJQUFJO2dCQUM1QixPQUFPO29CQUNMLDBCQUEwQjtvQkFDMUJGLHdEQUFjO2dCQUNoQjtZQUNGLEVBQUUsT0FBT2tCLE9BQU87Z0JBQ2RDLFFBQVFELEtBQUssQ0FBQyw0QkFBNEJBO2dCQUMxQyx1QkFBdUI7Z0JBQ3ZCbEIsd0RBQWM7WUFDaEIsU0FBVTtnQkFDUlcsYUFBYTtZQUNmO1FBQ0Y7UUFFQUM7SUFDRixHQUFHLEVBQUU7SUFFTCxNQUFNUCxRQUFRLE9BQU9lLE9BQWVDO1FBQ2xDVixhQUFhO1FBQ2IsSUFBSTtZQUNGLE1BQU1FLFdBQVcsTUFBTWIsdURBQWEsQ0FBQ29CLE9BQU9DO1lBRTVDLElBQUlSLFNBQVNFLE9BQU8sSUFBSUYsU0FBU0csSUFBSSxFQUFFZCxNQUFNO2dCQUMzQ1EsUUFBUUcsU0FBU0csSUFBSSxDQUFDZCxJQUFJO2dCQUMxQixPQUFPO1lBQ1Q7WUFDQSxPQUFPO1FBQ1QsRUFBRSxPQUFPZ0IsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsZ0JBQWdCQTtZQUM5QixPQUFPO1FBQ1QsU0FBVTtZQUNSUCxhQUFhO1FBQ2Y7SUFDRjtJQUVBLE1BQU1MLFNBQVM7UUFDYk4sd0RBQWM7UUFDZFUsUUFBUTtJQUNWO0lBRUEsTUFBTUgsV0FBVyxPQUFPYSxPQUFlQyxVQUFrQkM7UUFDdkRYLGFBQWE7UUFDYixJQUFJO1lBQ0YsTUFBTUUsV0FBVyxNQUFNYiwwREFBZ0IsQ0FBQ29CLE9BQU9DLFVBQVVDO1lBQ3pELE9BQU9ULFNBQVNFLE9BQU87UUFDekIsRUFBRSxPQUFPRyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyx1QkFBdUJBO1lBQ3JDLE9BQU87UUFDVCxTQUFVO1lBQ1JQLGFBQWE7UUFDZjtJQUNGO0lBRUEscUJBQ0UsOERBQUNWLFlBQVlzQixRQUFRO1FBQ25CQyxPQUFPO1lBQ0x0QjtZQUNBQyxpQkFBaUIsQ0FBQyxDQUFDRDtZQUNuQkU7WUFDQUM7WUFDQUM7WUFDQUM7UUFDRjtrQkFFQ0U7Ozs7OztBQUdQLEVBQUU7QUFFSyxNQUFNZ0IsVUFBVSxJQUFNMUIsaURBQVVBLENBQUNFLGFBQWE7QUFFckQsaUVBQWVBLFdBQVdBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL3NyYy9jb250ZXh0cy9BdXRoQ29udGV4dC50c3g/MWZhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFVzZXIgfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcbmltcG9ydCBhdXRoQXBpIGZyb20gJy4uL2FwaS9hdXRoJztcblxuaW50ZXJmYWNlIEF1dGhDb250ZXh0VHlwZSB7XG4gIHVzZXI6IFVzZXIgfCBudWxsO1xuICBpc0F1dGhlbnRpY2F0ZWQ6IGJvb2xlYW47XG4gIGlzTG9hZGluZzogYm9vbGVhbjtcbiAgbG9naW46IChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSA9PiBQcm9taXNlPGJvb2xlYW4+O1xuICBsb2dvdXQ6ICgpID0+IHZvaWQ7XG4gIHJlZ2lzdGVyOiAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZywgbmFtZTogc3RyaW5nKSA9PiBQcm9taXNlPGJvb2xlYW4+O1xufVxuXG5jb25zdCBBdXRoQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8QXV0aENvbnRleHRUeXBlPih7XG4gIHVzZXI6IG51bGwsXG4gIGlzQXV0aGVudGljYXRlZDogZmFsc2UsXG4gIGlzTG9hZGluZzogdHJ1ZSxcbiAgbG9naW46IGFzeW5jICgpID0+IGZhbHNlLFxuICBsb2dvdXQ6ICgpID0+IHt9LFxuICByZWdpc3RlcjogYXN5bmMgKCkgPT4gZmFsc2UsXG59KTtcblxuZXhwb3J0IGNvbnN0IEF1dGhQcm92aWRlcjogUmVhY3QuRkM8eyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0+ID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZTxVc2VyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYXV0aGVudGljYXRlZCBvbiBtb3VudFxuICAgIGNvbnN0IHZlcmlmeUF1dGggPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF1dGhBcGkudmVyaWZ5VG9rZW4oKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzICYmIHJlc3BvbnNlLmRhdGE/LnZhbGlkKSB7XG4gICAgICAgICAgc2V0VXNlcihyZXNwb25zZS5kYXRhLnVzZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIENsZWFyIGFueSBpbnZhbGlkIHRva2VuXG4gICAgICAgICAgYXV0aEFwaS5sb2dvdXQoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQXV0aCB2ZXJpZmljYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAvLyBDbGVhciB0b2tlbiBvbiBlcnJvclxuICAgICAgICBhdXRoQXBpLmxvZ291dCgpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmVyaWZ5QXV0aCgpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgbG9naW4gPSBhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhdXRoQXBpLmxvZ2luKGVtYWlsLCBwYXNzd29yZCk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzICYmIHJlc3BvbnNlLmRhdGE/LnVzZXIpIHtcbiAgICAgICAgc2V0VXNlcihyZXNwb25zZS5kYXRhLnVzZXIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignTG9naW4gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBsb2dvdXQgPSAoKSA9PiB7XG4gICAgYXV0aEFwaS5sb2dvdXQoKTtcbiAgICBzZXRVc2VyKG51bGwpO1xuICB9O1xuXG4gIGNvbnN0IHJlZ2lzdGVyID0gYXN5bmMgKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcsIG5hbWU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhdXRoQXBpLnJlZ2lzdGVyKGVtYWlsLCBwYXNzd29yZCwgbmFtZSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2Uuc3VjY2VzcztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignUmVnaXN0cmF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8QXV0aENvbnRleHQuUHJvdmlkZXJcbiAgICAgIHZhbHVlPXt7XG4gICAgICAgIHVzZXIsXG4gICAgICAgIGlzQXV0aGVudGljYXRlZDogISF1c2VyLFxuICAgICAgICBpc0xvYWRpbmcsXG4gICAgICAgIGxvZ2luLFxuICAgICAgICBsb2dvdXQsXG4gICAgICAgIHJlZ2lzdGVyLFxuICAgICAgfX1cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9BdXRoQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VBdXRoID0gKCkgPT4gdXNlQ29udGV4dChBdXRoQ29udGV4dCk7XG5cbmV4cG9ydCBkZWZhdWx0IEF1dGhDb250ZXh0OyJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNvbnRleHQiLCJhdXRoQXBpIiwiQXV0aENvbnRleHQiLCJ1c2VyIiwiaXNBdXRoZW50aWNhdGVkIiwiaXNMb2FkaW5nIiwibG9naW4iLCJsb2dvdXQiLCJyZWdpc3RlciIsIkF1dGhQcm92aWRlciIsImNoaWxkcmVuIiwic2V0VXNlciIsInNldElzTG9hZGluZyIsInZlcmlmeUF1dGgiLCJyZXNwb25zZSIsInZlcmlmeVRva2VuIiwic3VjY2VzcyIsImRhdGEiLCJ2YWxpZCIsImVycm9yIiwiY29uc29sZSIsImVtYWlsIiwicGFzc3dvcmQiLCJuYW1lIiwiUHJvdmlkZXIiLCJ2YWx1ZSIsInVzZUF1dGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/contexts/AuthContext.tsx\n");

/***/ }),

/***/ "./src/contexts/RealtimeContext.tsx":
/*!******************************************!*\
  !*** ./src/contexts/RealtimeContext.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RealtimeProvider: () => (/* binding */ RealtimeProvider),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   useRealtime: () => (/* binding */ useRealtime)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _services_websocketService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/websocketService */ \"./src/services/websocketService.ts\");\n/* harmony import */ var _AuthContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AuthContext */ \"./src/contexts/AuthContext.tsx\");\n\n\n\n\n// Create context\nconst RealtimeContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    isConnected: false,\n    subscribeToCompanies: ()=>{},\n    subscribeToLeads: ()=>{},\n    subscribeToContacts: ()=>{},\n    unsubscribeFromCompanies: ()=>{},\n    unsubscribeFromLeads: ()=>{},\n    unsubscribeFromContacts: ()=>{},\n    companies: [],\n    leads: [],\n    contacts: [],\n    leadStats: null,\n    updateLeadStats: ()=>{}\n});\n// Channel names for different resources\nconst COMPANIES_CHANNEL = \"companies:*\";\nconst LEADS_CHANNEL = \"leads:*\";\nconst CONTACTS_CHANNEL = \"contacts:*\";\n// Provider component\nconst RealtimeProvider = ({ children })=>{\n    const { isAuthenticated, user } = (0,_AuthContext__WEBPACK_IMPORTED_MODULE_3__.useAuth)();\n    const [isConnected, setIsConnected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // State for cached data\n    const [companies, setCompanies] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [leads, setLeads] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [contacts, setContacts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [leadStats, setLeadStats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Get WebSocket service instance\n    const websocketService = _services_websocketService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getInstance();\n    // Connect to WebSocket and authenticate when user is authenticated\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isAuthenticated && user) {\n            // Connect to WebSocket\n            const connectWebSocket = async ()=>{\n                try {\n                    const connected = await websocketService.connect();\n                    setIsConnected(connected);\n                    if (connected) {\n                        // Get token from localStorage\n                        const token = localStorage.getItem(\"auth_token\");\n                        if (token) {\n                            websocketService.authenticate(token);\n                        }\n                    }\n                } catch (error) {\n                    console.error(\"Error connecting to WebSocket:\", error);\n                    setIsConnected(false);\n                }\n            };\n            connectWebSocket();\n            // Clean up on unmount\n            return ()=>{\n                websocketService.disconnect();\n                setIsConnected(false);\n            };\n        }\n    }, [\n        isAuthenticated,\n        user\n    ]);\n    // Companies handlers\n    const handleCompanyInsert = (company)=>{\n        setCompanies((prevCompanies)=>{\n            // Make sure we don't duplicate\n            const exists = prevCompanies.some((c)=>c.id === company.id);\n            if (exists) return prevCompanies;\n            // Add new company\n            return [\n                ...prevCompanies,\n                company\n            ];\n        });\n    };\n    const handleCompanyUpdate = (company)=>{\n        setCompanies((prevCompanies)=>prevCompanies.map((c)=>c.id === company.id ? company : c));\n    };\n    const handleCompanyDelete = (company)=>{\n        setCompanies((prevCompanies)=>prevCompanies.filter((c)=>c.id !== company.id));\n    };\n    // Leads handlers\n    const handleLeadInsert = (lead)=>{\n        setLeads((prevLeads)=>{\n            // Make sure we don't duplicate\n            const exists = prevLeads.some((l)=>l.id === lead.id);\n            if (exists) return prevLeads;\n            // Add new lead\n            return [\n                ...prevLeads,\n                lead\n            ];\n        });\n        // Update stats if we have them\n        if (leadStats) {\n            setLeadStats({\n                ...leadStats,\n                total_leads: leadStats.total_leads + 1,\n                new_leads_period: leadStats.new_leads_period + 1,\n                // Update status count\n                leads_by_status: {\n                    ...leadStats.leads_by_status,\n                    [lead.status]: (leadStats.leads_by_status[lead.status] || 0) + 1\n                }\n            });\n        }\n    };\n    const handleLeadUpdate = (lead)=>{\n        setLeads((prevLeads)=>{\n            // Find the lead we're updating\n            const oldLead = prevLeads.find((l)=>l.id === lead.id);\n            // Update the lead\n            const updatedLeads = prevLeads.map((l)=>l.id === lead.id ? lead : l);\n            // Update stats if status changed\n            if (oldLead && oldLead.status !== lead.status && leadStats) {\n                // Decrement the old status count\n                const oldStatusCount = leadStats.leads_by_status[oldLead.status] || 0;\n                // Increment the new status count\n                const newStatusCount = leadStats.leads_by_status[lead.status] || 0;\n                setLeadStats({\n                    ...leadStats,\n                    leads_by_status: {\n                        ...leadStats.leads_by_status,\n                        [oldLead.status]: Math.max(0, oldStatusCount - 1),\n                        [lead.status]: newStatusCount + 1\n                    }\n                });\n            }\n            return updatedLeads;\n        });\n    };\n    const handleLeadDelete = (lead)=>{\n        setLeads((prevLeads)=>{\n            // Find the lead we're deleting\n            const oldLead = prevLeads.find((l)=>l.id === lead.id);\n            // Remove the lead\n            const updatedLeads = prevLeads.filter((l)=>l.id !== lead.id);\n            // Update stats\n            if (oldLead && leadStats) {\n                // Decrement the status count\n                const statusCount = leadStats.leads_by_status[oldLead.status] || 0;\n                setLeadStats({\n                    ...leadStats,\n                    total_leads: Math.max(0, leadStats.total_leads - 1),\n                    new_leads_period: Math.max(0, leadStats.new_leads_period - 1),\n                    leads_by_status: {\n                        ...leadStats.leads_by_status,\n                        [oldLead.status]: Math.max(0, statusCount - 1)\n                    }\n                });\n            }\n            return updatedLeads;\n        });\n    };\n    // Contacts handlers\n    const handleContactInsert = (contact)=>{\n        setContacts((prevContacts)=>{\n            // Make sure we don't duplicate\n            const exists = prevContacts.some((c)=>c.id === contact.id);\n            if (exists) return prevContacts;\n            // Add new contact\n            return [\n                ...prevContacts,\n                contact\n            ];\n        });\n    };\n    const handleContactUpdate = (contact)=>{\n        setContacts((prevContacts)=>prevContacts.map((c)=>c.id === contact.id ? contact : c));\n    };\n    const handleContactDelete = (contact)=>{\n        setContacts((prevContacts)=>prevContacts.filter((c)=>c.id !== contact.id));\n    };\n    // Subscribe to resource updates\n    const subscribeToCompanies = (handler)=>{\n        websocketService.subscribe(COMPANIES_CHANNEL, handler);\n    };\n    const subscribeToLeads = (handler)=>{\n        websocketService.subscribe(LEADS_CHANNEL, handler);\n    };\n    const subscribeToContacts = (handler)=>{\n        websocketService.subscribe(CONTACTS_CHANNEL, handler);\n    };\n    // Unsubscribe from resource updates\n    const unsubscribeFromCompanies = (handler)=>{\n        websocketService.unsubscribe(COMPANIES_CHANNEL, handler);\n    };\n    const unsubscribeFromLeads = (handler)=>{\n        websocketService.unsubscribe(LEADS_CHANNEL, handler);\n    };\n    const unsubscribeFromContacts = (handler)=>{\n        websocketService.unsubscribe(CONTACTS_CHANNEL, handler);\n    };\n    // Update lead stats\n    const updateLeadStats = (stats)=>{\n        setLeadStats(stats);\n    };\n    // Set up default subscriptions for internal cache updates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isConnected) {\n            // Subscribe to companies updates\n            subscribeToCompanies((data)=>{\n                if (data.event === \"INSERT\") {\n                    handleCompanyInsert(data.new);\n                } else if (data.event === \"UPDATE\") {\n                    handleCompanyUpdate(data.new);\n                } else if (data.event === \"DELETE\") {\n                    handleCompanyDelete(data.old);\n                }\n            });\n            // Subscribe to leads updates\n            subscribeToLeads((data)=>{\n                if (data.event === \"INSERT\") {\n                    handleLeadInsert(data.new);\n                } else if (data.event === \"UPDATE\") {\n                    handleLeadUpdate(data.new);\n                } else if (data.event === \"DELETE\") {\n                    handleLeadDelete(data.old);\n                }\n            });\n            // Subscribe to contacts updates\n            subscribeToContacts((data)=>{\n                if (data.event === \"INSERT\") {\n                    handleContactInsert(data.new);\n                } else if (data.event === \"UPDATE\") {\n                    handleContactUpdate(data.new);\n                } else if (data.event === \"DELETE\") {\n                    handleContactDelete(data.old);\n                }\n            });\n            // Clean up subscriptions on unmount\n            return ()=>{\n                websocketService.unsubscribe(COMPANIES_CHANNEL);\n                websocketService.unsubscribe(LEADS_CHANNEL);\n                websocketService.unsubscribe(CONTACTS_CHANNEL);\n            };\n        }\n    }, [\n        isConnected\n    ]);\n    // Context value\n    const value = {\n        isConnected,\n        subscribeToCompanies,\n        subscribeToLeads,\n        subscribeToContacts,\n        unsubscribeFromCompanies,\n        unsubscribeFromLeads,\n        unsubscribeFromContacts,\n        companies,\n        leads,\n        contacts,\n        leadStats,\n        updateLeadStats\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(RealtimeContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"/usr/src/app/src/contexts/RealtimeContext.tsx\",\n        lineNumber: 318,\n        columnNumber: 5\n    }, undefined);\n};\n// Hook for consuming the context\nconst useRealtime = ()=>(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(RealtimeContext);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RealtimeContext);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBQy9CO1FBQ0Y7SUFDRixHQUFHO1FBQUNkO0tBQVk7SUFFaEIsZ0JBQWdCO0lBQ2hCLE1BQU04RSxRQUE4QjtRQUNsQzlFO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQ1osZ0JBQWdCZ0YsUUFBUTtRQUFDRCxPQUFPQTtrQkFDOUI5RDs7Ozs7O0FBR1AsRUFBRTtBQUVGLGlDQUFpQztBQUMxQixNQUFNZ0UsY0FBYyxJQUFNdEYsaURBQVVBLENBQUNLLGlCQUFpQjtBQUU3RCxpRUFBZUEsZUFBZUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vc3JjL2NvbnRleHRzL1JlYWx0aW1lQ29udGV4dC50c3g/ZDQ3NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBXZWJTb2NrZXRTZXJ2aWNlLCB7IFdlYlNvY2tldEV2ZW50SGFuZGxlciB9IGZyb20gJy4uL3NlcnZpY2VzL3dlYnNvY2tldFNlcnZpY2UnO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJy4vQXV0aENvbnRleHQnO1xuaW1wb3J0IHsgQ29tcGFueSwgTGVhZCwgQ29udGFjdCwgTGVhZFN0YXRzIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5cbi8vIENvbnRleHQgdmFsdWUgaW50ZXJmYWNlXG5pbnRlcmZhY2UgUmVhbHRpbWVDb250ZXh0VmFsdWUge1xuICBpc0Nvbm5lY3RlZDogYm9vbGVhbjtcbiAgLy8gU3Vic2NyaWJlIHRvIHJlYWwtdGltZSB1cGRhdGVzIGZvciBkaWZmZXJlbnQgcmVzb3VyY2VzXG4gIHN1YnNjcmliZVRvQ29tcGFuaWVzOiAoaGFuZGxlcjogV2ViU29ja2V0RXZlbnRIYW5kbGVyKSA9PiB2b2lkO1xuICBzdWJzY3JpYmVUb0xlYWRzOiAoaGFuZGxlcjogV2ViU29ja2V0RXZlbnRIYW5kbGVyKSA9PiB2b2lkO1xuICBzdWJzY3JpYmVUb0NvbnRhY3RzOiAoaGFuZGxlcjogV2ViU29ja2V0RXZlbnRIYW5kbGVyKSA9PiB2b2lkO1xuICAvLyBVbnN1YnNjcmliZSBoYW5kbGVyc1xuICB1bnN1YnNjcmliZUZyb21Db21wYW5pZXM6IChoYW5kbGVyOiBXZWJTb2NrZXRFdmVudEhhbmRsZXIpID0+IHZvaWQ7XG4gIHVuc3Vic2NyaWJlRnJvbUxlYWRzOiAoaGFuZGxlcjogV2ViU29ja2V0RXZlbnRIYW5kbGVyKSA9PiB2b2lkO1xuICB1bnN1YnNjcmliZUZyb21Db250YWN0czogKGhhbmRsZXI6IFdlYlNvY2tldEV2ZW50SGFuZGxlcikgPT4gdm9pZDtcbiAgLy8gQ2FjaGVkIGRhdGEgKGxhdGVzdCBzdGF0ZSlcbiAgY29tcGFuaWVzOiBDb21wYW55W107XG4gIGxlYWRzOiBMZWFkW107XG4gIGNvbnRhY3RzOiBDb250YWN0W107XG4gIC8vIFN0YXRzXG4gIGxlYWRTdGF0czogTGVhZFN0YXRzIHwgbnVsbDtcbiAgLy8gVXBkYXRlIHN0YXRzXG4gIHVwZGF0ZUxlYWRTdGF0czogKHN0YXRzOiBMZWFkU3RhdHMpID0+IHZvaWQ7XG59XG5cbi8vIENyZWF0ZSBjb250ZXh0XG5jb25zdCBSZWFsdGltZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0PFJlYWx0aW1lQ29udGV4dFZhbHVlPih7XG4gIGlzQ29ubmVjdGVkOiBmYWxzZSxcbiAgc3Vic2NyaWJlVG9Db21wYW5pZXM6ICgpID0+IHt9LFxuICBzdWJzY3JpYmVUb0xlYWRzOiAoKSA9PiB7fSxcbiAgc3Vic2NyaWJlVG9Db250YWN0czogKCkgPT4ge30sXG4gIHVuc3Vic2NyaWJlRnJvbUNvbXBhbmllczogKCkgPT4ge30sXG4gIHVuc3Vic2NyaWJlRnJvbUxlYWRzOiAoKSA9PiB7fSxcbiAgdW5zdWJzY3JpYmVGcm9tQ29udGFjdHM6ICgpID0+IHt9LFxuICBjb21wYW5pZXM6IFtdLFxuICBsZWFkczogW10sXG4gIGNvbnRhY3RzOiBbXSxcbiAgbGVhZFN0YXRzOiBudWxsLFxuICB1cGRhdGVMZWFkU3RhdHM6ICgpID0+IHt9LFxufSk7XG5cbi8vIENoYW5uZWwgbmFtZXMgZm9yIGRpZmZlcmVudCByZXNvdXJjZXNcbmNvbnN0IENPTVBBTklFU19DSEFOTkVMID0gJ2NvbXBhbmllczoqJztcbmNvbnN0IExFQURTX0NIQU5ORUwgPSAnbGVhZHM6Kic7XG5jb25zdCBDT05UQUNUU19DSEFOTkVMID0gJ2NvbnRhY3RzOionO1xuXG4vLyBQcm92aWRlciBjb21wb25lbnRcbmV4cG9ydCBjb25zdCBSZWFsdGltZVByb3ZpZGVyOiBSZWFjdC5GQzx7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfT4gPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gIGNvbnN0IHsgaXNBdXRoZW50aWNhdGVkLCB1c2VyIH0gPSB1c2VBdXRoKCk7XG4gIGNvbnN0IFtpc0Nvbm5lY3RlZCwgc2V0SXNDb25uZWN0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgLy8gU3RhdGUgZm9yIGNhY2hlZCBkYXRhXG4gIGNvbnN0IFtjb21wYW5pZXMsIHNldENvbXBhbmllc10gPSB1c2VTdGF0ZTxDb21wYW55W10+KFtdKTtcbiAgY29uc3QgW2xlYWRzLCBzZXRMZWFkc10gPSB1c2VTdGF0ZTxMZWFkW10+KFtdKTtcbiAgY29uc3QgW2NvbnRhY3RzLCBzZXRDb250YWN0c10gPSB1c2VTdGF0ZTxDb250YWN0W10+KFtdKTtcbiAgY29uc3QgW2xlYWRTdGF0cywgc2V0TGVhZFN0YXRzXSA9IHVzZVN0YXRlPExlYWRTdGF0cyB8IG51bGw+KG51bGwpO1xuICBcbiAgLy8gR2V0IFdlYlNvY2tldCBzZXJ2aWNlIGluc3RhbmNlXG4gIGNvbnN0IHdlYnNvY2tldFNlcnZpY2UgPSBXZWJTb2NrZXRTZXJ2aWNlLmdldEluc3RhbmNlKCk7XG4gIFxuICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldCBhbmQgYXV0aGVudGljYXRlIHdoZW4gdXNlciBpcyBhdXRoZW50aWNhdGVkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzQXV0aGVudGljYXRlZCAmJiB1c2VyKSB7XG4gICAgICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldFxuICAgICAgY29uc3QgY29ubmVjdFdlYlNvY2tldCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBjb25uZWN0ZWQgPSBhd2FpdCB3ZWJzb2NrZXRTZXJ2aWNlLmNvbm5lY3QoKTtcbiAgICAgICAgICBzZXRJc0Nvbm5lY3RlZChjb25uZWN0ZWQpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChjb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIC8vIEdldCB0b2tlbiBmcm9tIGxvY2FsU3RvcmFnZVxuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aF90b2tlbicpO1xuICAgICAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICAgIHdlYnNvY2tldFNlcnZpY2UuYXV0aGVudGljYXRlKHRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29ubmVjdGluZyB0byBXZWJTb2NrZXQ6JywgZXJyb3IpO1xuICAgICAgICAgIHNldElzQ29ubmVjdGVkKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29ubmVjdFdlYlNvY2tldCgpO1xuICAgICAgXG4gICAgICAvLyBDbGVhbiB1cCBvbiB1bm1vdW50XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB3ZWJzb2NrZXRTZXJ2aWNlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgc2V0SXNDb25uZWN0ZWQoZmFsc2UpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFtpc0F1dGhlbnRpY2F0ZWQsIHVzZXJdKTtcbiAgXG4gIC8vIENvbXBhbmllcyBoYW5kbGVyc1xuICBjb25zdCBoYW5kbGVDb21wYW55SW5zZXJ0ID0gKGNvbXBhbnk6IENvbXBhbnkpID0+IHtcbiAgICBzZXRDb21wYW5pZXMocHJldkNvbXBhbmllcyA9PiB7XG4gICAgICAvLyBNYWtlIHN1cmUgd2UgZG9uJ3QgZHVwbGljYXRlXG4gICAgICBjb25zdCBleGlzdHMgPSBwcmV2Q29tcGFuaWVzLnNvbWUoYyA9PiBjLmlkID09PSBjb21wYW55LmlkKTtcbiAgICAgIGlmIChleGlzdHMpIHJldHVybiBwcmV2Q29tcGFuaWVzO1xuICAgICAgXG4gICAgICAvLyBBZGQgbmV3IGNvbXBhbnlcbiAgICAgIHJldHVybiBbLi4ucHJldkNvbXBhbmllcywgY29tcGFueV07XG4gICAgfSk7XG4gIH07XG4gIFxuICBjb25zdCBoYW5kbGVDb21wYW55VXBkYXRlID0gKGNvbXBhbnk6IENvbXBhbnkpID0+IHtcbiAgICBzZXRDb21wYW5pZXMocHJldkNvbXBhbmllcyA9PiBcbiAgICAgIHByZXZDb21wYW5pZXMubWFwKGMgPT4gYy5pZCA9PT0gY29tcGFueS5pZCA/IGNvbXBhbnkgOiBjKVxuICAgICk7XG4gIH07XG4gIFxuICBjb25zdCBoYW5kbGVDb21wYW55RGVsZXRlID0gKGNvbXBhbnk6IENvbXBhbnkpID0+IHtcbiAgICBzZXRDb21wYW5pZXMocHJldkNvbXBhbmllcyA9PiBcbiAgICAgIHByZXZDb21wYW5pZXMuZmlsdGVyKGMgPT4gYy5pZCAhPT0gY29tcGFueS5pZClcbiAgICApO1xuICB9O1xuICBcbiAgLy8gTGVhZHMgaGFuZGxlcnNcbiAgY29uc3QgaGFuZGxlTGVhZEluc2VydCA9IChsZWFkOiBMZWFkKSA9PiB7XG4gICAgc2V0TGVhZHMocHJldkxlYWRzID0+IHtcbiAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBkb24ndCBkdXBsaWNhdGVcbiAgICAgIGNvbnN0IGV4aXN0cyA9IHByZXZMZWFkcy5zb21lKGwgPT4gbC5pZCA9PT0gbGVhZC5pZCk7XG4gICAgICBpZiAoZXhpc3RzKSByZXR1cm4gcHJldkxlYWRzO1xuICAgICAgXG4gICAgICAvLyBBZGQgbmV3IGxlYWRcbiAgICAgIHJldHVybiBbLi4ucHJldkxlYWRzLCBsZWFkXTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBVcGRhdGUgc3RhdHMgaWYgd2UgaGF2ZSB0aGVtXG4gICAgaWYgKGxlYWRTdGF0cykge1xuICAgICAgc2V0TGVhZFN0YXRzKHtcbiAgICAgICAgLi4ubGVhZFN0YXRzLFxuICAgICAgICB0b3RhbF9sZWFkczogbGVhZFN0YXRzLnRvdGFsX2xlYWRzICsgMSxcbiAgICAgICAgbmV3X2xlYWRzX3BlcmlvZDogbGVhZFN0YXRzLm5ld19sZWFkc19wZXJpb2QgKyAxLFxuICAgICAgICAvLyBVcGRhdGUgc3RhdHVzIGNvdW50XG4gICAgICAgIGxlYWRzX2J5X3N0YXR1czoge1xuICAgICAgICAgIC4uLmxlYWRTdGF0cy5sZWFkc19ieV9zdGF0dXMsXG4gICAgICAgICAgW2xlYWQuc3RhdHVzXTogKGxlYWRTdGF0cy5sZWFkc19ieV9zdGF0dXNbbGVhZC5zdGF0dXNdIHx8IDApICsgMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIFxuICBjb25zdCBoYW5kbGVMZWFkVXBkYXRlID0gKGxlYWQ6IExlYWQpID0+IHtcbiAgICBzZXRMZWFkcyhwcmV2TGVhZHMgPT4ge1xuICAgICAgLy8gRmluZCB0aGUgbGVhZCB3ZSdyZSB1cGRhdGluZ1xuICAgICAgY29uc3Qgb2xkTGVhZCA9IHByZXZMZWFkcy5maW5kKGwgPT4gbC5pZCA9PT0gbGVhZC5pZCk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSB0aGUgbGVhZFxuICAgICAgY29uc3QgdXBkYXRlZExlYWRzID0gcHJldkxlYWRzLm1hcChsID0+IGwuaWQgPT09IGxlYWQuaWQgPyBsZWFkIDogbCk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBzdGF0cyBpZiBzdGF0dXMgY2hhbmdlZFxuICAgICAgaWYgKG9sZExlYWQgJiYgb2xkTGVhZC5zdGF0dXMgIT09IGxlYWQuc3RhdHVzICYmIGxlYWRTdGF0cykge1xuICAgICAgICAvLyBEZWNyZW1lbnQgdGhlIG9sZCBzdGF0dXMgY291bnRcbiAgICAgICAgY29uc3Qgb2xkU3RhdHVzQ291bnQgPSBsZWFkU3RhdHMubGVhZHNfYnlfc3RhdHVzW29sZExlYWQuc3RhdHVzXSB8fCAwO1xuICAgICAgICAvLyBJbmNyZW1lbnQgdGhlIG5ldyBzdGF0dXMgY291bnRcbiAgICAgICAgY29uc3QgbmV3U3RhdHVzQ291bnQgPSBsZWFkU3RhdHMubGVhZHNfYnlfc3RhdHVzW2xlYWQuc3RhdHVzXSB8fCAwO1xuICAgICAgICBcbiAgICAgICAgc2V0TGVhZFN0YXRzKHtcbiAgICAgICAgICAuLi5sZWFkU3RhdHMsXG4gICAgICAgICAgbGVhZHNfYnlfc3RhdHVzOiB7XG4gICAgICAgICAgICAuLi5sZWFkU3RhdHMubGVhZHNfYnlfc3RhdHVzLFxuICAgICAgICAgICAgW29sZExlYWQuc3RhdHVzXTogTWF0aC5tYXgoMCwgb2xkU3RhdHVzQ291bnQgLSAxKSxcbiAgICAgICAgICAgIFtsZWFkLnN0YXR1c106IG5ld1N0YXR1c0NvdW50ICsgMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB1cGRhdGVkTGVhZHM7XG4gICAgfSk7XG4gIH07XG4gIFxuICBjb25zdCBoYW5kbGVMZWFkRGVsZXRlID0gKGxlYWQ6IExlYWQpID0+IHtcbiAgICBzZXRMZWFkcyhwcmV2TGVhZHMgPT4ge1xuICAgICAgLy8gRmluZCB0aGUgbGVhZCB3ZSdyZSBkZWxldGluZ1xuICAgICAgY29uc3Qgb2xkTGVhZCA9IHByZXZMZWFkcy5maW5kKGwgPT4gbC5pZCA9PT0gbGVhZC5pZCk7XG4gICAgICBcbiAgICAgIC8vIFJlbW92ZSB0aGUgbGVhZFxuICAgICAgY29uc3QgdXBkYXRlZExlYWRzID0gcHJldkxlYWRzLmZpbHRlcihsID0+IGwuaWQgIT09IGxlYWQuaWQpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgc3RhdHNcbiAgICAgIGlmIChvbGRMZWFkICYmIGxlYWRTdGF0cykge1xuICAgICAgICAvLyBEZWNyZW1lbnQgdGhlIHN0YXR1cyBjb3VudFxuICAgICAgICBjb25zdCBzdGF0dXNDb3VudCA9IGxlYWRTdGF0cy5sZWFkc19ieV9zdGF0dXNbb2xkTGVhZC5zdGF0dXNdIHx8IDA7XG4gICAgICAgIFxuICAgICAgICBzZXRMZWFkU3RhdHMoe1xuICAgICAgICAgIC4uLmxlYWRTdGF0cyxcbiAgICAgICAgICB0b3RhbF9sZWFkczogTWF0aC5tYXgoMCwgbGVhZFN0YXRzLnRvdGFsX2xlYWRzIC0gMSksXG4gICAgICAgICAgbmV3X2xlYWRzX3BlcmlvZDogTWF0aC5tYXgoMCwgbGVhZFN0YXRzLm5ld19sZWFkc19wZXJpb2QgLSAxKSxcbiAgICAgICAgICBsZWFkc19ieV9zdGF0dXM6IHtcbiAgICAgICAgICAgIC4uLmxlYWRTdGF0cy5sZWFkc19ieV9zdGF0dXMsXG4gICAgICAgICAgICBbb2xkTGVhZC5zdGF0dXNdOiBNYXRoLm1heCgwLCBzdGF0dXNDb3VudCAtIDEpXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHVwZGF0ZWRMZWFkcztcbiAgICB9KTtcbiAgfTtcbiAgXG4gIC8vIENvbnRhY3RzIGhhbmRsZXJzXG4gIGNvbnN0IGhhbmRsZUNvbnRhY3RJbnNlcnQgPSAoY29udGFjdDogQ29udGFjdCkgPT4ge1xuICAgIHNldENvbnRhY3RzKHByZXZDb250YWN0cyA9PiB7XG4gICAgICAvLyBNYWtlIHN1cmUgd2UgZG9uJ3QgZHVwbGljYXRlXG4gICAgICBjb25zdCBleGlzdHMgPSBwcmV2Q29udGFjdHMuc29tZShjID0+IGMuaWQgPT09IGNvbnRhY3QuaWQpO1xuICAgICAgaWYgKGV4aXN0cykgcmV0dXJuIHByZXZDb250YWN0cztcbiAgICAgIFxuICAgICAgLy8gQWRkIG5ldyBjb250YWN0XG4gICAgICByZXR1cm4gWy4uLnByZXZDb250YWN0cywgY29udGFjdF07XG4gICAgfSk7XG4gIH07XG4gIFxuICBjb25zdCBoYW5kbGVDb250YWN0VXBkYXRlID0gKGNvbnRhY3Q6IENvbnRhY3QpID0+IHtcbiAgICBzZXRDb250YWN0cyhwcmV2Q29udGFjdHMgPT4gXG4gICAgICBwcmV2Q29udGFjdHMubWFwKGMgPT4gYy5pZCA9PT0gY29udGFjdC5pZCA/IGNvbnRhY3QgOiBjKVxuICAgICk7XG4gIH07XG4gIFxuICBjb25zdCBoYW5kbGVDb250YWN0RGVsZXRlID0gKGNvbnRhY3Q6IENvbnRhY3QpID0+IHtcbiAgICBzZXRDb250YWN0cyhwcmV2Q29udGFjdHMgPT4gXG4gICAgICBwcmV2Q29udGFjdHMuZmlsdGVyKGMgPT4gYy5pZCAhPT0gY29udGFjdC5pZClcbiAgICApO1xuICB9O1xuICBcbiAgLy8gU3Vic2NyaWJlIHRvIHJlc291cmNlIHVwZGF0ZXNcbiAgY29uc3Qgc3Vic2NyaWJlVG9Db21wYW5pZXMgPSAoaGFuZGxlcjogV2ViU29ja2V0RXZlbnRIYW5kbGVyKSA9PiB7XG4gICAgd2Vic29ja2V0U2VydmljZS5zdWJzY3JpYmUoQ09NUEFOSUVTX0NIQU5ORUwsIGhhbmRsZXIpO1xuICB9O1xuICBcbiAgY29uc3Qgc3Vic2NyaWJlVG9MZWFkcyA9IChoYW5kbGVyOiBXZWJTb2NrZXRFdmVudEhhbmRsZXIpID0+IHtcbiAgICB3ZWJzb2NrZXRTZXJ2aWNlLnN1YnNjcmliZShMRUFEU19DSEFOTkVMLCBoYW5kbGVyKTtcbiAgfTtcbiAgXG4gIGNvbnN0IHN1YnNjcmliZVRvQ29udGFjdHMgPSAoaGFuZGxlcjogV2ViU29ja2V0RXZlbnRIYW5kbGVyKSA9PiB7XG4gICAgd2Vic29ja2V0U2VydmljZS5zdWJzY3JpYmUoQ09OVEFDVFNfQ0hBTk5FTCwgaGFuZGxlcik7XG4gIH07XG4gIFxuICAvLyBVbnN1YnNjcmliZSBmcm9tIHJlc291cmNlIHVwZGF0ZXNcbiAgY29uc3QgdW5zdWJzY3JpYmVGcm9tQ29tcGFuaWVzID0gKGhhbmRsZXI6IFdlYlNvY2tldEV2ZW50SGFuZGxlcikgPT4ge1xuICAgIHdlYnNvY2tldFNlcnZpY2UudW5zdWJzY3JpYmUoQ09NUEFOSUVTX0NIQU5ORUwsIGhhbmRsZXIpO1xuICB9O1xuICBcbiAgY29uc3QgdW5zdWJzY3JpYmVGcm9tTGVhZHMgPSAoaGFuZGxlcjogV2ViU29ja2V0RXZlbnRIYW5kbGVyKSA9PiB7XG4gICAgd2Vic29ja2V0U2VydmljZS51bnN1YnNjcmliZShMRUFEU19DSEFOTkVMLCBoYW5kbGVyKTtcbiAgfTtcbiAgXG4gIGNvbnN0IHVuc3Vic2NyaWJlRnJvbUNvbnRhY3RzID0gKGhhbmRsZXI6IFdlYlNvY2tldEV2ZW50SGFuZGxlcikgPT4ge1xuICAgIHdlYnNvY2tldFNlcnZpY2UudW5zdWJzY3JpYmUoQ09OVEFDVFNfQ0hBTk5FTCwgaGFuZGxlcik7XG4gIH07XG4gIFxuICAvLyBVcGRhdGUgbGVhZCBzdGF0c1xuICBjb25zdCB1cGRhdGVMZWFkU3RhdHMgPSAoc3RhdHM6IExlYWRTdGF0cykgPT4ge1xuICAgIHNldExlYWRTdGF0cyhzdGF0cyk7XG4gIH07XG4gIFxuICAvLyBTZXQgdXAgZGVmYXVsdCBzdWJzY3JpcHRpb25zIGZvciBpbnRlcm5hbCBjYWNoZSB1cGRhdGVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzQ29ubmVjdGVkKSB7XG4gICAgICAvLyBTdWJzY3JpYmUgdG8gY29tcGFuaWVzIHVwZGF0ZXNcbiAgICAgIHN1YnNjcmliZVRvQ29tcGFuaWVzKChkYXRhKSA9PiB7XG4gICAgICAgIGlmIChkYXRhLmV2ZW50ID09PSAnSU5TRVJUJykge1xuICAgICAgICAgIGhhbmRsZUNvbXBhbnlJbnNlcnQoZGF0YS5uZXcpO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEuZXZlbnQgPT09ICdVUERBVEUnKSB7XG4gICAgICAgICAgaGFuZGxlQ29tcGFueVVwZGF0ZShkYXRhLm5ldyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5ldmVudCA9PT0gJ0RFTEVURScpIHtcbiAgICAgICAgICBoYW5kbGVDb21wYW55RGVsZXRlKGRhdGEub2xkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFN1YnNjcmliZSB0byBsZWFkcyB1cGRhdGVzXG4gICAgICBzdWJzY3JpYmVUb0xlYWRzKChkYXRhKSA9PiB7XG4gICAgICAgIGlmIChkYXRhLmV2ZW50ID09PSAnSU5TRVJUJykge1xuICAgICAgICAgIGhhbmRsZUxlYWRJbnNlcnQoZGF0YS5uZXcpO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEuZXZlbnQgPT09ICdVUERBVEUnKSB7XG4gICAgICAgICAgaGFuZGxlTGVhZFVwZGF0ZShkYXRhLm5ldyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5ldmVudCA9PT0gJ0RFTEVURScpIHtcbiAgICAgICAgICBoYW5kbGVMZWFkRGVsZXRlKGRhdGEub2xkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFN1YnNjcmliZSB0byBjb250YWN0cyB1cGRhdGVzXG4gICAgICBzdWJzY3JpYmVUb0NvbnRhY3RzKChkYXRhKSA9PiB7XG4gICAgICAgIGlmIChkYXRhLmV2ZW50ID09PSAnSU5TRVJUJykge1xuICAgICAgICAgIGhhbmRsZUNvbnRhY3RJbnNlcnQoZGF0YS5uZXcpO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEuZXZlbnQgPT09ICdVUERBVEUnKSB7XG4gICAgICAgICAgaGFuZGxlQ29udGFjdFVwZGF0ZShkYXRhLm5ldyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5ldmVudCA9PT0gJ0RFTEVURScpIHtcbiAgICAgICAgICBoYW5kbGVDb250YWN0RGVsZXRlKGRhdGEub2xkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIENsZWFuIHVwIHN1YnNjcmlwdGlvbnMgb24gdW5tb3VudFxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgd2Vic29ja2V0U2VydmljZS51bnN1YnNjcmliZShDT01QQU5JRVNfQ0hBTk5FTCk7XG4gICAgICAgIHdlYnNvY2tldFNlcnZpY2UudW5zdWJzY3JpYmUoTEVBRFNfQ0hBTk5FTCk7XG4gICAgICAgIHdlYnNvY2tldFNlcnZpY2UudW5zdWJzY3JpYmUoQ09OVEFDVFNfQ0hBTk5FTCk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW2lzQ29ubmVjdGVkXSk7XG4gIFxuICAvLyBDb250ZXh0IHZhbHVlXG4gIGNvbnN0IHZhbHVlOiBSZWFsdGltZUNvbnRleHRWYWx1ZSA9IHtcbiAgICBpc0Nvbm5lY3RlZCxcbiAgICBzdWJzY3JpYmVUb0NvbXBhbmllcyxcbiAgICBzdWJzY3JpYmVUb0xlYWRzLFxuICAgIHN1YnNjcmliZVRvQ29udGFjdHMsXG4gICAgdW5zdWJzY3JpYmVGcm9tQ29tcGFuaWVzLFxuICAgIHVuc3Vic2NyaWJlRnJvbUxlYWRzLFxuICAgIHVuc3Vic2NyaWJlRnJvbUNvbnRhY3RzLFxuICAgIGNvbXBhbmllcyxcbiAgICBsZWFkcyxcbiAgICBjb250YWN0cyxcbiAgICBsZWFkU3RhdHMsXG4gICAgdXBkYXRlTGVhZFN0YXRzLFxuICB9O1xuICBcbiAgcmV0dXJuIChcbiAgICA8UmVhbHRpbWVDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt2YWx1ZX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9SZWFsdGltZUNvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59O1xuXG4vLyBIb29rIGZvciBjb25zdW1pbmcgdGhlIGNvbnRleHRcbmV4cG9ydCBjb25zdCB1c2VSZWFsdGltZSA9ICgpID0+IHVzZUNvbnRleHQoUmVhbHRpbWVDb250ZXh0KTtcblxuZXhwb3J0IGRlZmF1bHQgUmVhbHRpbWVDb250ZXh0OyJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJXZWJTb2NrZXRTZXJ2aWNlIiwidXNlQXV0aCIsIlJlYWx0aW1lQ29udGV4dCIsImlzQ29ubmVjdGVkIiwic3Vic2NyaWJlVG9Db21wYW5pZXMiLCJzdWJzY3JpYmVUb0xlYWRzIiwic3Vic2NyaWJlVG9Db250YWN0cyIsInVuc3Vic2NyaWJlRnJvbUNvbXBhbmllcyIsInVuc3Vic2NyaWJlRnJvbUxlYWRzIiwidW5zdWJzY3JpYmVGcm9tQ29udGFjdHMiLCJjb21wYW5pZXMiLCJsZWFkcyIsImNvbnRhY3RzIiwibGVhZFN0YXRzIiwidXBkYXRlTGVhZFN0YXRzIiwiQ09NUEFOSUVTX0NIQU5ORUwiLCJMRUFEU19DSEFOTkVMIiwiQ09OVEFDVFNfQ0hBTk5FTCIsIlJlYWx0aW1lUHJvdmlkZXIiLCJjaGlsZHJlbiIsImlzQXV0aGVudGljYXRlZCIsInVzZXIiLCJzZXRJc0Nvbm5lY3RlZCIsInNldENvbXBhbmllcyIsInNldExlYWRzIiwic2V0Q29udGFjdHMiLCJzZXRMZWFkU3RhdHMiLCJ3ZWJzb2NrZXRTZXJ2aWNlIiwiZ2V0SW5zdGFuY2UiLCJjb25uZWN0V2ViU29ja2V0IiwiY29ubmVjdGVkIiwiY29ubmVjdCIsInRva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImF1dGhlbnRpY2F0ZSIsImVycm9yIiwiY29uc29sZSIsImRpc2Nvbm5lY3QiLCJoYW5kbGVDb21wYW55SW5zZXJ0IiwiY29tcGFueSIsInByZXZDb21wYW5pZXMiLCJleGlzdHMiLCJzb21lIiwiYyIsImlkIiwiaGFuZGxlQ29tcGFueVVwZGF0ZSIsIm1hcCIsImhhbmRsZUNvbXBhbnlEZWxldGUiLCJmaWx0ZXIiLCJoYW5kbGVMZWFkSW5zZXJ0IiwibGVhZCIsInByZXZMZWFkcyIsImwiLCJ0b3RhbF9sZWFkcyIsIm5ld19sZWFkc19wZXJpb2QiLCJsZWFkc19ieV9zdGF0dXMiLCJzdGF0dXMiLCJoYW5kbGVMZWFkVXBkYXRlIiwib2xkTGVhZCIsImZpbmQiLCJ1cGRhdGVkTGVhZHMiLCJvbGRTdGF0dXNDb3VudCIsIm5ld1N0YXR1c0NvdW50IiwiTWF0aCIsIm1heCIsImhhbmRsZUxlYWREZWxldGUiLCJzdGF0dXNDb3VudCIsImhhbmRsZUNvbnRhY3RJbnNlcnQiLCJjb250YWN0IiwicHJldkNvbnRhY3RzIiwiaGFuZGxlQ29udGFjdFVwZGF0ZSIsImhhbmRsZUNvbnRhY3REZWxldGUiLCJoYW5kbGVyIiwic3Vic2NyaWJlIiwidW5zdWJzY3JpYmUiLCJzdGF0cyIsImRhdGEiLCJldmVudCIsIm5ldyIsIm9sZCIsInZhbHVlIiwiUHJvdmlkZXIiLCJ1c2VSZWFsdGltZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/contexts/RealtimeContext.tsx\n");

/***/ }),

/***/ "./src/contexts/ThemeContext.tsx":
/*!***************************************!*\
  !*** ./src/contexts/ThemeContext.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ThemeProvider: () => (/* binding */ ThemeProvider),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   useTheme: () => (/* binding */ useTheme)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst ThemeContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    theme: \"light\",\n    toggleTheme: ()=>{},\n    isDarkMode: false\n});\nconst useTheme = ()=>(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ThemeContext);\nconst ThemeProvider = ({ children })=>{\n    const [theme, setTheme] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"light\");\n    // Initialize theme from localStorage or system preference\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (false) {}\n    }, []);\n    const toggleTheme = ()=>{\n        setTheme((prevTheme)=>{\n            const newTheme = prevTheme === \"light\" ? \"dark\" : \"light\";\n            // Update localStorage\n            localStorage.setItem(\"theme\", newTheme);\n            // Update body class\n            if (newTheme === \"dark\") {\n                document.body.classList.add(\"dark-mode\");\n                document.body.setAttribute(\"data-theme\", \"dark\");\n            } else {\n                document.body.classList.remove(\"dark-mode\");\n                document.body.removeAttribute(\"data-theme\");\n            }\n            return newTheme;\n        });\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ThemeContext.Provider, {\n        value: {\n            theme,\n            toggleTheme,\n            isDarkMode: theme === \"dark\"\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/usr/src/app/src/contexts/ThemeContext.tsx\",\n        lineNumber: 71,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThemeContext);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29udGV4dHMvVGhlbWVDb250ZXh0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUE4RTtBQVU5RSxNQUFNSyw2QkFBZUosb0RBQWFBLENBQW1CO0lBQ25ESyxPQUFPO0lBQ1BDLGFBQWEsS0FBTztJQUNwQkMsWUFBWTtBQUNkO0FBRU8sTUFBTUMsV0FBVyxJQUFNUCxpREFBVUEsQ0FBQ0csY0FBYztBQUVoRCxNQUFNSyxnQkFBeUQsQ0FBQyxFQUFFQyxRQUFRLEVBQUU7SUFDakYsTUFBTSxDQUFDTCxPQUFPTSxTQUFTLEdBQUdSLCtDQUFRQSxDQUFZO0lBRTlDLDBEQUEwRDtJQUMxREQsZ0RBQVNBLENBQUM7UUFDUixJQUFJLEtBQWtCLEVBQWEsRUF1QmxDO0lBQ0gsR0FBRyxFQUFFO0lBRUwsTUFBTUksY0FBYztRQUNsQkssU0FBU2UsQ0FBQUE7WUFDUCxNQUFNQyxXQUFXRCxjQUFjLFVBQVUsU0FBUztZQUVsRCxzQkFBc0I7WUFDdEJiLGFBQWFlLE9BQU8sQ0FBQyxTQUFTRDtZQUU5QixvQkFBb0I7WUFDcEIsSUFBSUEsYUFBYSxRQUFRO2dCQUN2QlosU0FBU0MsSUFBSSxDQUFDQyxTQUFTLENBQUNDLEdBQUcsQ0FBQztnQkFDNUJILFNBQVNDLElBQUksQ0FBQ0csWUFBWSxDQUFDLGNBQWM7WUFDM0MsT0FBTztnQkFDTEosU0FBU0MsSUFBSSxDQUFDQyxTQUFTLENBQUNHLE1BQU0sQ0FBQztnQkFDL0JMLFNBQVNDLElBQUksQ0FBQ0ssZUFBZSxDQUFDO1lBQ2hDO1lBRUEsT0FBT007UUFDVDtJQUNGO0lBRUEscUJBQ0UsOERBQUN2QixhQUFheUIsUUFBUTtRQUFDQyxPQUFPO1lBQzVCekI7WUFDQUM7WUFDQUMsWUFBWUYsVUFBVTtRQUN4QjtrQkFDR0s7Ozs7OztBQUdQLEVBQUU7QUFFRixpRUFBZU4sWUFBWUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vc3JjL2NvbnRleHRzL1RoZW1lQ29udGV4dC50c3g/N2UyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcblxudHlwZSBUaGVtZVR5cGUgPSAnbGlnaHQnIHwgJ2RhcmsnO1xuXG5pbnRlcmZhY2UgVGhlbWVDb250ZXh0VHlwZSB7XG4gIHRoZW1lOiBUaGVtZVR5cGU7XG4gIHRvZ2dsZVRoZW1lOiAoKSA9PiB2b2lkO1xuICBpc0RhcmtNb2RlOiBib29sZWFuO1xufVxuXG5jb25zdCBUaGVtZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0PFRoZW1lQ29udGV4dFR5cGU+KHtcbiAgdGhlbWU6ICdsaWdodCcsXG4gIHRvZ2dsZVRoZW1lOiAoKSA9PiB7fSxcbiAgaXNEYXJrTW9kZTogZmFsc2UsXG59KTtcblxuZXhwb3J0IGNvbnN0IHVzZVRoZW1lID0gKCkgPT4gdXNlQ29udGV4dChUaGVtZUNvbnRleHQpO1xuXG5leHBvcnQgY29uc3QgVGhlbWVQcm92aWRlcjogUmVhY3QuRkM8eyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0+ID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCBbdGhlbWUsIHNldFRoZW1lXSA9IHVzZVN0YXRlPFRoZW1lVHlwZT4oJ2xpZ2h0Jyk7XG4gIFxuICAvLyBJbml0aWFsaXplIHRoZW1lIGZyb20gbG9jYWxTdG9yYWdlIG9yIHN5c3RlbSBwcmVmZXJlbmNlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCBzYXZlZFRoZW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RoZW1lJyk7XG4gICAgICBcbiAgICAgIGlmIChzYXZlZFRoZW1lID09PSAnZGFyaycpIHtcbiAgICAgICAgc2V0VGhlbWUoJ2RhcmsnKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdkYXJrLW1vZGUnKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGhlbWUnLCAnZGFyaycpO1xuICAgICAgfSBlbHNlIGlmIChzYXZlZFRoZW1lID09PSAnbGlnaHQnKSB7XG4gICAgICAgIHNldFRoZW1lKCdsaWdodCcpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2RhcmstbW9kZScpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS10aGVtZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2hlY2sgc3lzdGVtIHByZWZlcmVuY2VcbiAgICAgICAgY29uc3QgcHJlZmVyc0RhcmsgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpLm1hdGNoZXM7XG4gICAgICAgIFxuICAgICAgICBpZiAocHJlZmVyc0RhcmspIHtcbiAgICAgICAgICBzZXRUaGVtZSgnZGFyaycpO1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnZGFyay1tb2RlJyk7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGhlbWUnLCAnZGFyaycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldFRoZW1lKCdsaWdodCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCBbXSk7XG4gIFxuICBjb25zdCB0b2dnbGVUaGVtZSA9ICgpID0+IHtcbiAgICBzZXRUaGVtZShwcmV2VGhlbWUgPT4ge1xuICAgICAgY29uc3QgbmV3VGhlbWUgPSBwcmV2VGhlbWUgPT09ICdsaWdodCcgPyAnZGFyaycgOiAnbGlnaHQnO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgbG9jYWxTdG9yYWdlXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGhlbWUnLCBuZXdUaGVtZSk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBib2R5IGNsYXNzXG4gICAgICBpZiAobmV3VGhlbWUgPT09ICdkYXJrJykge1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2RhcmstbW9kZScpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScsICdkYXJrJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2RhcmstbW9kZScpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS10aGVtZScpO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gbmV3VGhlbWU7XG4gICAgfSk7XG4gIH07XG4gIFxuICByZXR1cm4gKFxuICAgIDxUaGVtZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3sgXG4gICAgICB0aGVtZSwgXG4gICAgICB0b2dnbGVUaGVtZSxcbiAgICAgIGlzRGFya01vZGU6IHRoZW1lID09PSAnZGFyaydcbiAgICB9fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L1RoZW1lQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRoZW1lQ29udGV4dDsiXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiVGhlbWVDb250ZXh0IiwidGhlbWUiLCJ0b2dnbGVUaGVtZSIsImlzRGFya01vZGUiLCJ1c2VUaGVtZSIsIlRoZW1lUHJvdmlkZXIiLCJjaGlsZHJlbiIsInNldFRoZW1lIiwic2F2ZWRUaGVtZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJkb2N1bWVudCIsImJvZHkiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJwcmVmZXJzRGFyayIsIndpbmRvdyIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwicHJldlRoZW1lIiwibmV3VGhlbWUiLCJzZXRJdGVtIiwiUHJvdmlkZXIiLCJ2YWx1ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/contexts/ThemeContext.tsx\n");

/***/ }),

/***/ "./src/services/websocketService.ts":
/*!******************************************!*\
  !*** ./src/services/websocketService.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WebSocketService: () => (/* binding */ WebSocketService),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * WebSocket message types\n */ /**\n * WebSocket service for real-time updates\n */ class WebSocketService {\n    /**\n   * Private constructor for singleton\n   */ constructor(){\n        this.socket = null;\n        this.clientId = null;\n        this.isConnected = false;\n        this.isAuthenticated = false;\n        this.token = null;\n        this.reconnectTimeout = null;\n        this.reconnectAttempts = 0;\n        this.maxReconnectAttempts = 5;\n        this.reconnectDelay = 3000 // 3 seconds\n        ;\n        this.pendingSubscriptions = new Set();\n        this.messageHandlers = new Map();\n        // Get WebSocket URL from environment or use default\n        const apiUrl = \"http://localhost:9032/api\" || 0;\n        this.wsUrl = apiUrl.replace(/^http/, \"ws\") + \"/ws\";\n    }\n    /**\n   * Get singleton instance\n   */ static getInstance() {\n        if (!WebSocketService.instance) {\n            WebSocketService.instance = new WebSocketService();\n        }\n        return WebSocketService.instance;\n    }\n    /**\n   * Connect to WebSocket server\n   */ connect() {\n        return new Promise((resolve)=>{\n            if (this.socket && this.isConnected) {\n                resolve(true);\n                return;\n            }\n            // Clear any existing reconnect timeout\n            if (this.reconnectTimeout) {\n                clearTimeout(this.reconnectTimeout);\n                this.reconnectTimeout = null;\n            }\n            try {\n                this.socket = new WebSocket(this.wsUrl);\n                // Connection opened\n                this.socket.addEventListener(\"open\", ()=>{\n                    console.log(\"WebSocket connected\");\n                    this.isConnected = true;\n                    this.reconnectAttempts = 0;\n                    // Authenticate if token is available\n                    if (this.token) {\n                        this.authenticate(this.token);\n                    }\n                    resolve(true);\n                });\n                // Connection closed\n                this.socket.addEventListener(\"close\", (event)=>{\n                    console.log(\"WebSocket disconnected:\", event.code, event.reason);\n                    this.isConnected = false;\n                    this.isAuthenticated = false;\n                    // Attempt to reconnect if not closed intentionally\n                    if (event.code !== 1000) {\n                        this.scheduleReconnect();\n                    }\n                });\n                // Connection error\n                this.socket.addEventListener(\"error\", (error)=>{\n                    console.error(\"WebSocket error:\", error);\n                    this.isConnected = false;\n                    this.isAuthenticated = false;\n                    resolve(false);\n                });\n                // Listen for messages\n                this.socket.addEventListener(\"message\", (event)=>{\n                    this.handleMessage(event.data);\n                });\n            } catch (error) {\n                console.error(\"WebSocket connection error:\", error);\n                resolve(false);\n                // Schedule reconnect\n                this.scheduleReconnect();\n            }\n        });\n    }\n    /**\n   * Disconnect from WebSocket server\n   */ disconnect() {\n        if (this.socket) {\n            this.socket.close(1000, \"Client disconnected\");\n            this.isConnected = false;\n            this.isAuthenticated = false;\n            this.socket = null;\n            // Clear any pending reconnect\n            if (this.reconnectTimeout) {\n                clearTimeout(this.reconnectTimeout);\n                this.reconnectTimeout = null;\n            }\n        }\n    }\n    /**\n   * Authenticate with JWT token\n   */ authenticate(token) {\n        this.token = token;\n        if (!this.isConnected) {\n            // Connect first if not connected\n            this.connect().then((connected)=>{\n                if (connected) {\n                    this.sendMessage({\n                        type: \"auth\",\n                        token\n                    });\n                }\n            });\n            return;\n        }\n        // Send authentication message\n        this.sendMessage({\n            type: \"auth\",\n            token\n        });\n    }\n    /**\n   * Subscribe to a channel\n   */ subscribe(channel, handler) {\n        // Add handler\n        if (!this.messageHandlers.has(channel)) {\n            this.messageHandlers.set(channel, new Set());\n        }\n        this.messageHandlers.get(channel).add(handler);\n        // If not authenticated yet, add to pending subscriptions\n        if (!this.isAuthenticated) {\n            this.pendingSubscriptions.add(channel);\n            return;\n        }\n        // Send subscribe message\n        this.sendMessage({\n            type: \"subscribe\",\n            channel\n        });\n    }\n    /**\n   * Unsubscribe from a channel\n   */ unsubscribe(channel, handler) {\n        // If a specific handler is provided, remove only that handler\n        if (handler && this.messageHandlers.has(channel)) {\n            this.messageHandlers.get(channel).delete(handler);\n            // If no handlers left, remove the channel\n            if (this.messageHandlers.get(channel).size === 0) {\n                this.messageHandlers.delete(channel);\n                // Also remove from pending subscriptions\n                this.pendingSubscriptions.delete(channel);\n                // Send unsubscribe message if connected\n                if (this.isConnected && this.isAuthenticated) {\n                    this.sendMessage({\n                        type: \"unsubscribe\",\n                        channel\n                    });\n                }\n            }\n        } else if (this.messageHandlers.has(channel)) {\n            this.messageHandlers.delete(channel);\n            // Also remove from pending subscriptions\n            this.pendingSubscriptions.delete(channel);\n            // Send unsubscribe message if connected\n            if (this.isConnected && this.isAuthenticated) {\n                this.sendMessage({\n                    type: \"unsubscribe\",\n                    channel\n                });\n            }\n        }\n    }\n    /**\n   * Process pending subscriptions after authentication\n   */ processPendingSubscriptions() {\n        if (!this.isAuthenticated || this.pendingSubscriptions.size === 0) {\n            return;\n        }\n        // Subscribe to all pending channels\n        for (const channel of this.pendingSubscriptions){\n            this.sendMessage({\n                type: \"subscribe\",\n                channel\n            });\n        }\n        // Clear pending subscriptions\n        this.pendingSubscriptions.clear();\n    }\n    /**\n   * Send a message to the WebSocket server\n   */ sendMessage(message) {\n        if (!this.socket || !this.isConnected) {\n            console.warn(\"WebSocket not connected, cannot send message\");\n            return;\n        }\n        try {\n            this.socket.send(JSON.stringify(message));\n        } catch (error) {\n            console.error(\"Error sending WebSocket message:\", error);\n        }\n    }\n    /**\n   * Handle incoming WebSocket message\n   */ handleMessage(data) {\n        try {\n            const message = JSON.parse(data);\n            // Handle different message types\n            switch(message.type){\n                case \"connection\":\n                    this.handleConnectionMessage(message);\n                    break;\n                case \"auth\":\n                    this.handleAuthMessage(message);\n                    break;\n                case \"subscribe\":\n                    console.log(\"Subscribed to channel:\", message.channel);\n                    break;\n                case \"unsubscribe\":\n                    console.log(\"Unsubscribed from channel:\", message.channel);\n                    break;\n                case \"message\":\n                    this.handleDataMessage(message);\n                    break;\n                case \"error\":\n                    console.error(\"WebSocket error:\", message.message);\n                    break;\n                default:\n                    console.warn(\"Unknown WebSocket message type:\", message.type);\n            }\n        } catch (error) {\n            console.error(\"Error parsing WebSocket message:\", error, data);\n        }\n    }\n    /**\n   * Handle connection message\n   */ handleConnectionMessage(message) {\n        if (message.clientId) {\n            this.clientId = message.clientId;\n            console.log(\"WebSocket client ID:\", this.clientId);\n            // Authenticate if token is available\n            if (this.token) {\n                this.authenticate(this.token);\n            }\n        }\n    }\n    /**\n   * Handle authentication message\n   */ handleAuthMessage(message) {\n        if (message.success) {\n            this.isAuthenticated = true;\n            console.log(\"WebSocket authenticated:\", message.userId);\n            // Process any pending subscriptions\n            this.processPendingSubscriptions();\n        } else {\n            this.isAuthenticated = false;\n            console.error(\"WebSocket authentication failed:\", message.error);\n        }\n    }\n    /**\n   * Handle data message\n   */ handleDataMessage(message) {\n        const { channel, data } = message;\n        // Notify handlers for this channel\n        if (this.messageHandlers.has(channel)) {\n            for (const handler of this.messageHandlers.get(channel)){\n                try {\n                    handler(data);\n                } catch (error) {\n                    console.error(`Error in handler for channel ${channel}:`, error);\n                }\n            }\n        }\n    }\n    /**\n   * Schedule reconnection attempt\n   */ scheduleReconnect() {\n        if (this.reconnectTimeout) {\n            clearTimeout(this.reconnectTimeout);\n        }\n        if (this.reconnectAttempts >= this.maxReconnectAttempts) {\n            console.warn(\"Maximum reconnect attempts reached\");\n            return;\n        }\n        this.reconnectAttempts++;\n        // Exponential backoff with jitter\n        const delay = this.reconnectDelay * Math.pow(1.5, this.reconnectAttempts - 1) * (0.9 + Math.random() * 0.2);\n        console.log(`Scheduling reconnect attempt ${this.reconnectAttempts} in ${Math.round(delay)}ms`);\n        this.reconnectTimeout = setTimeout(()=>{\n            console.log(`Attempting to reconnect (${this.reconnectAttempts}/${this.maxReconnectAttempts})...`);\n            this.connect();\n        }, delay);\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (WebSocketService);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y2UudHM/YTczZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFdlYlNvY2tldCBtZXNzYWdlIHR5cGVzXG4gKi9cbmV4cG9ydCB0eXBlIFdlYlNvY2tldE1lc3NhZ2VUeXBlID0gXG4gIHwgJ2Nvbm5lY3Rpb24nICAvLyBJbml0aWFsIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWRcbiAgfCAnYXV0aCcgICAgICAgIC8vIEF1dGhlbnRpY2F0aW9uIHJlbGF0ZWRcbiAgfCAnc3Vic2NyaWJlJyAgIC8vIFN1YnNjcmlwdGlvbiByZWxhdGVkXG4gIHwgJ3Vuc3Vic2NyaWJlJyAvLyBVbnN1YnNjcmlwdGlvbiByZWxhdGVkXG4gIHwgJ21lc3NhZ2UnICAgICAvLyBEYXRhIG1lc3NhZ2VcbiAgfCAnZXJyb3InOyAgICAgIC8vIEVycm9yIG1lc3NhZ2VcblxuLyoqXG4gKiBXZWJTb2NrZXQgbWVzc2FnZSBpbnRlcmZhY2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBXZWJTb2NrZXRNZXNzYWdlIHtcbiAgdHlwZTogV2ViU29ja2V0TWVzc2FnZVR5cGU7XG4gIFtrZXk6IHN0cmluZ106IGFueTtcbn1cblxuLyoqXG4gKiBXZWJTb2NrZXQgZXZlbnQgaGFuZGxlciB0eXBlXG4gKi9cbmV4cG9ydCB0eXBlIFdlYlNvY2tldEV2ZW50SGFuZGxlciA9IChkYXRhOiBhbnkpID0+IHZvaWQ7XG5cbi8qKlxuICogV2ViU29ja2V0IHNlcnZpY2UgZm9yIHJlYWwtdGltZSB1cGRhdGVzXG4gKi9cbmV4cG9ydCBjbGFzcyBXZWJTb2NrZXRTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFdlYlNvY2tldFNlcnZpY2U7XG4gIHByaXZhdGUgc29ja2V0OiBXZWJTb2NrZXQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBjbGllbnRJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgaXNDb25uZWN0ZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSBpc0F1dGhlbnRpY2F0ZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSB0b2tlbjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcmVjb25uZWN0VGltZW91dDogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSByZWNvbm5lY3RBdHRlbXB0cyA9IDA7XG4gIHByaXZhdGUgbWF4UmVjb25uZWN0QXR0ZW1wdHMgPSA1O1xuICBwcml2YXRlIHJlY29ubmVjdERlbGF5ID0gMzAwMDsgLy8gMyBzZWNvbmRzXG4gIHByaXZhdGUgcGVuZGluZ1N1YnNjcmlwdGlvbnM6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIG1lc3NhZ2VIYW5kbGVyczogTWFwPHN0cmluZywgU2V0PFdlYlNvY2tldEV2ZW50SGFuZGxlcj4+ID0gbmV3IE1hcCgpO1xuICBcbiAgLy8gQmFzZSBXZWJTb2NrZXQgVVJMXG4gIHByaXZhdGUgd3NVcmw6IHN0cmluZztcblxuICAvKipcbiAgICogUHJpdmF0ZSBjb25zdHJ1Y3RvciBmb3Igc2luZ2xldG9uXG4gICAqL1xuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIEdldCBXZWJTb2NrZXQgVVJMIGZyb20gZW52aXJvbm1lbnQgb3IgdXNlIGRlZmF1bHRcbiAgICBjb25zdCBhcGlVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjkwMzInO1xuICAgIHRoaXMud3NVcmwgPSBhcGlVcmwucmVwbGFjZSgvXmh0dHAvLCAnd3MnKSArICcvd3MnO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBzaW5nbGV0b24gaW5zdGFuY2VcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogV2ViU29ja2V0U2VydmljZSB7XG4gICAgaWYgKCFXZWJTb2NrZXRTZXJ2aWNlLmluc3RhbmNlKSB7XG4gICAgICBXZWJTb2NrZXRTZXJ2aWNlLmluc3RhbmNlID0gbmV3IFdlYlNvY2tldFNlcnZpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIFdlYlNvY2tldFNlcnZpY2UuaW5zdGFuY2U7XG4gIH1cblxuICAvKipcbiAgICogQ29ubmVjdCB0byBXZWJTb2NrZXQgc2VydmVyXG4gICAqL1xuICBwdWJsaWMgY29ubmVjdCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGlmICh0aGlzLnNvY2tldCAmJiB0aGlzLmlzQ29ubmVjdGVkKSB7XG4gICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIHJlY29ubmVjdCB0aW1lb3V0XG4gICAgICBpZiAodGhpcy5yZWNvbm5lY3RUaW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlY29ubmVjdFRpbWVvdXQpO1xuICAgICAgICB0aGlzLnJlY29ubmVjdFRpbWVvdXQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQodGhpcy53c1VybCk7XG4gICAgICAgIFxuICAgICAgICAvLyBDb25uZWN0aW9uIG9wZW5lZFxuICAgICAgICB0aGlzLnNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdvcGVuJywgKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY29ubmVjdGVkJyk7XG4gICAgICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgICAgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cyA9IDA7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQXV0aGVudGljYXRlIGlmIHRva2VuIGlzIGF2YWlsYWJsZVxuICAgICAgICAgIGlmICh0aGlzLnRva2VuKSB7XG4gICAgICAgICAgICB0aGlzLmF1dGhlbnRpY2F0ZSh0aGlzLnRva2VuKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDb25uZWN0aW9uIGNsb3NlZFxuICAgICAgICB0aGlzLnNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdjbG9zZScsIChldmVudCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgZGlzY29ubmVjdGVkOicsIGV2ZW50LmNvZGUsIGV2ZW50LnJlYXNvbik7XG4gICAgICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuaXNBdXRoZW50aWNhdGVkID0gZmFsc2U7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQXR0ZW1wdCB0byByZWNvbm5lY3QgaWYgbm90IGNsb3NlZCBpbnRlbnRpb25hbGx5XG4gICAgICAgICAgaWYgKGV2ZW50LmNvZGUgIT09IDEwMDApIHtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVSZWNvbm5lY3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gQ29ubmVjdGlvbiBlcnJvclxuICAgICAgICB0aGlzLnNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuaXNBdXRoZW50aWNhdGVkID0gZmFsc2U7XG4gICAgICAgICAgXG4gICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gTGlzdGVuIGZvciBtZXNzYWdlc1xuICAgICAgICB0aGlzLnNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVNZXNzYWdlKGV2ZW50LmRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBjb25uZWN0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTY2hlZHVsZSByZWNvbm5lY3RcbiAgICAgICAgdGhpcy5zY2hlZHVsZVJlY29ubmVjdCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2Nvbm5lY3QgZnJvbSBXZWJTb2NrZXQgc2VydmVyXG4gICAqL1xuICBwdWJsaWMgZGlzY29ubmVjdCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zb2NrZXQpIHtcbiAgICAgIHRoaXMuc29ja2V0LmNsb3NlKDEwMDAsICdDbGllbnQgZGlzY29ubmVjdGVkJyk7XG4gICAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmlzQXV0aGVudGljYXRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5zb2NrZXQgPSBudWxsO1xuICAgICAgXG4gICAgICAvLyBDbGVhciBhbnkgcGVuZGluZyByZWNvbm5lY3RcbiAgICAgIGlmICh0aGlzLnJlY29ubmVjdFRpbWVvdXQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVjb25uZWN0VGltZW91dCk7XG4gICAgICAgIHRoaXMucmVjb25uZWN0VGltZW91dCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEF1dGhlbnRpY2F0ZSB3aXRoIEpXVCB0b2tlblxuICAgKi9cbiAgcHVibGljIGF1dGhlbnRpY2F0ZSh0b2tlbjogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIFxuICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCkge1xuICAgICAgLy8gQ29ubmVjdCBmaXJzdCBpZiBub3QgY29ubmVjdGVkXG4gICAgICB0aGlzLmNvbm5lY3QoKS50aGVuKChjb25uZWN0ZWQpID0+IHtcbiAgICAgICAgaWYgKGNvbm5lY3RlZCkge1xuICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgdHlwZTogJ2F1dGgnLFxuICAgICAgICAgICAgdG9rZW5cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFNlbmQgYXV0aGVudGljYXRpb24gbWVzc2FnZVxuICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogJ2F1dGgnLFxuICAgICAgdG9rZW5cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gYSBjaGFubmVsXG4gICAqL1xuICBwdWJsaWMgc3Vic2NyaWJlKGNoYW5uZWw6IHN0cmluZywgaGFuZGxlcjogV2ViU29ja2V0RXZlbnRIYW5kbGVyKTogdm9pZCB7XG4gICAgLy8gQWRkIGhhbmRsZXJcbiAgICBpZiAoIXRoaXMubWVzc2FnZUhhbmRsZXJzLmhhcyhjaGFubmVsKSkge1xuICAgICAgdGhpcy5tZXNzYWdlSGFuZGxlcnMuc2V0KGNoYW5uZWwsIG5ldyBTZXQoKSk7XG4gICAgfVxuICAgIHRoaXMubWVzc2FnZUhhbmRsZXJzLmdldChjaGFubmVsKSEuYWRkKGhhbmRsZXIpO1xuICAgIFxuICAgIC8vIElmIG5vdCBhdXRoZW50aWNhdGVkIHlldCwgYWRkIHRvIHBlbmRpbmcgc3Vic2NyaXB0aW9uc1xuICAgIGlmICghdGhpcy5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIHRoaXMucGVuZGluZ1N1YnNjcmlwdGlvbnMuYWRkKGNoYW5uZWwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBTZW5kIHN1YnNjcmliZSBtZXNzYWdlXG4gICAgdGhpcy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiAnc3Vic2NyaWJlJyxcbiAgICAgIGNoYW5uZWxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbnN1YnNjcmliZSBmcm9tIGEgY2hhbm5lbFxuICAgKi9cbiAgcHVibGljIHVuc3Vic2NyaWJlKGNoYW5uZWw6IHN0cmluZywgaGFuZGxlcj86IFdlYlNvY2tldEV2ZW50SGFuZGxlcik6IHZvaWQge1xuICAgIC8vIElmIGEgc3BlY2lmaWMgaGFuZGxlciBpcyBwcm92aWRlZCwgcmVtb3ZlIG9ubHkgdGhhdCBoYW5kbGVyXG4gICAgaWYgKGhhbmRsZXIgJiYgdGhpcy5tZXNzYWdlSGFuZGxlcnMuaGFzKGNoYW5uZWwpKSB7XG4gICAgICB0aGlzLm1lc3NhZ2VIYW5kbGVycy5nZXQoY2hhbm5lbCkhLmRlbGV0ZShoYW5kbGVyKTtcbiAgICAgIFxuICAgICAgLy8gSWYgbm8gaGFuZGxlcnMgbGVmdCwgcmVtb3ZlIHRoZSBjaGFubmVsXG4gICAgICBpZiAodGhpcy5tZXNzYWdlSGFuZGxlcnMuZ2V0KGNoYW5uZWwpIS5zaXplID09PSAwKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZUhhbmRsZXJzLmRlbGV0ZShjaGFubmVsKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFsc28gcmVtb3ZlIGZyb20gcGVuZGluZyBzdWJzY3JpcHRpb25zXG4gICAgICAgIHRoaXMucGVuZGluZ1N1YnNjcmlwdGlvbnMuZGVsZXRlKGNoYW5uZWwpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2VuZCB1bnN1YnNjcmliZSBtZXNzYWdlIGlmIGNvbm5lY3RlZFxuICAgICAgICBpZiAodGhpcy5pc0Nvbm5lY3RlZCAmJiB0aGlzLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgdHlwZTogJ3Vuc3Vic2NyaWJlJyxcbiAgICAgICAgICAgIGNoYW5uZWxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gXG4gICAgLy8gSWYgbm8gaGFuZGxlciBwcm92aWRlZCwgcmVtb3ZlIGFsbCBoYW5kbGVycyBmb3IgdGhlIGNoYW5uZWxcbiAgICBlbHNlIGlmICh0aGlzLm1lc3NhZ2VIYW5kbGVycy5oYXMoY2hhbm5lbCkpIHtcbiAgICAgIHRoaXMubWVzc2FnZUhhbmRsZXJzLmRlbGV0ZShjaGFubmVsKTtcbiAgICAgIFxuICAgICAgLy8gQWxzbyByZW1vdmUgZnJvbSBwZW5kaW5nIHN1YnNjcmlwdGlvbnNcbiAgICAgIHRoaXMucGVuZGluZ1N1YnNjcmlwdGlvbnMuZGVsZXRlKGNoYW5uZWwpO1xuICAgICAgXG4gICAgICAvLyBTZW5kIHVuc3Vic2NyaWJlIG1lc3NhZ2UgaWYgY29ubmVjdGVkXG4gICAgICBpZiAodGhpcy5pc0Nvbm5lY3RlZCAmJiB0aGlzLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICB0eXBlOiAndW5zdWJzY3JpYmUnLFxuICAgICAgICAgIGNoYW5uZWxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFByb2Nlc3MgcGVuZGluZyBzdWJzY3JpcHRpb25zIGFmdGVyIGF1dGhlbnRpY2F0aW9uXG4gICAqL1xuICBwcml2YXRlIHByb2Nlc3NQZW5kaW5nU3Vic2NyaXB0aW9ucygpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNBdXRoZW50aWNhdGVkIHx8IHRoaXMucGVuZGluZ1N1YnNjcmlwdGlvbnMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBTdWJzY3JpYmUgdG8gYWxsIHBlbmRpbmcgY2hhbm5lbHNcbiAgICBmb3IgKGNvbnN0IGNoYW5uZWwgb2YgdGhpcy5wZW5kaW5nU3Vic2NyaXB0aW9ucykge1xuICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XG4gICAgICAgIHR5cGU6ICdzdWJzY3JpYmUnLFxuICAgICAgICBjaGFubmVsXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2xlYXIgcGVuZGluZyBzdWJzY3JpcHRpb25zXG4gICAgdGhpcy5wZW5kaW5nU3Vic2NyaXB0aW9ucy5jbGVhcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgYSBtZXNzYWdlIHRvIHRoZSBXZWJTb2NrZXQgc2VydmVyXG4gICAqL1xuICBwcml2YXRlIHNlbmRNZXNzYWdlKG1lc3NhZ2U6IFdlYlNvY2tldE1lc3NhZ2UpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuc29ja2V0IHx8ICF0aGlzLmlzQ29ubmVjdGVkKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1dlYlNvY2tldCBub3QgY29ubmVjdGVkLCBjYW5ub3Qgc2VuZCBtZXNzYWdlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICB0aGlzLnNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyBXZWJTb2NrZXQgbWVzc2FnZTonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBpbmNvbWluZyBXZWJTb2NrZXQgbWVzc2FnZVxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVNZXNzYWdlKGRhdGE6IHN0cmluZyk6IHZvaWQge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gSlNPTi5wYXJzZShkYXRhKSBhcyBXZWJTb2NrZXRNZXNzYWdlO1xuICAgICAgXG4gICAgICAvLyBIYW5kbGUgZGlmZmVyZW50IG1lc3NhZ2UgdHlwZXNcbiAgICAgIHN3aXRjaCAobWVzc2FnZS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2Nvbm5lY3Rpb24nOlxuICAgICAgICAgIHRoaXMuaGFuZGxlQ29ubmVjdGlvbk1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgXG4gICAgICAgIGNhc2UgJ2F1dGgnOlxuICAgICAgICAgIHRoaXMuaGFuZGxlQXV0aE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgXG4gICAgICAgIGNhc2UgJ3N1YnNjcmliZSc6XG4gICAgICAgICAgY29uc29sZS5sb2coJ1N1YnNjcmliZWQgdG8gY2hhbm5lbDonLCBtZXNzYWdlLmNoYW5uZWwpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIFxuICAgICAgICBjYXNlICd1bnN1YnNjcmliZSc6XG4gICAgICAgICAgY29uc29sZS5sb2coJ1Vuc3Vic2NyaWJlZCBmcm9tIGNoYW5uZWw6JywgbWVzc2FnZS5jaGFubmVsKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgICBcbiAgICAgICAgY2FzZSAnbWVzc2FnZSc6XG4gICAgICAgICAgdGhpcy5oYW5kbGVEYXRhTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgICBcbiAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBlcnJvcjonLCBtZXNzYWdlLm1lc3NhZ2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIFxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnNvbGUud2FybignVW5rbm93biBXZWJTb2NrZXQgbWVzc2FnZSB0eXBlOicsIG1lc3NhZ2UudHlwZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgV2ViU29ja2V0IG1lc3NhZ2U6JywgZXJyb3IsIGRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgY29ubmVjdGlvbiBtZXNzYWdlXG4gICAqL1xuICBwcml2YXRlIGhhbmRsZUNvbm5lY3Rpb25NZXNzYWdlKG1lc3NhZ2U6IFdlYlNvY2tldE1lc3NhZ2UpOiB2b2lkIHtcbiAgICBpZiAobWVzc2FnZS5jbGllbnRJZCkge1xuICAgICAgdGhpcy5jbGllbnRJZCA9IG1lc3NhZ2UuY2xpZW50SWQ7XG4gICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNsaWVudCBJRDonLCB0aGlzLmNsaWVudElkKTtcbiAgICAgIFxuICAgICAgLy8gQXV0aGVudGljYXRlIGlmIHRva2VuIGlzIGF2YWlsYWJsZVxuICAgICAgaWYgKHRoaXMudG9rZW4pIHtcbiAgICAgICAgdGhpcy5hdXRoZW50aWNhdGUodGhpcy50b2tlbik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBhdXRoZW50aWNhdGlvbiBtZXNzYWdlXG4gICAqL1xuICBwcml2YXRlIGhhbmRsZUF1dGhNZXNzYWdlKG1lc3NhZ2U6IFdlYlNvY2tldE1lc3NhZ2UpOiB2b2lkIHtcbiAgICBpZiAobWVzc2FnZS5zdWNjZXNzKSB7XG4gICAgICB0aGlzLmlzQXV0aGVudGljYXRlZCA9IHRydWU7XG4gICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGF1dGhlbnRpY2F0ZWQ6JywgbWVzc2FnZS51c2VySWQpO1xuICAgICAgXG4gICAgICAvLyBQcm9jZXNzIGFueSBwZW5kaW5nIHN1YnNjcmlwdGlvbnNcbiAgICAgIHRoaXMucHJvY2Vzc1BlbmRpbmdTdWJzY3JpcHRpb25zKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaXNBdXRoZW50aWNhdGVkID0gZmFsc2U7XG4gICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgYXV0aGVudGljYXRpb24gZmFpbGVkOicsIG1lc3NhZ2UuZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgZGF0YSBtZXNzYWdlXG4gICAqL1xuICBwcml2YXRlIGhhbmRsZURhdGFNZXNzYWdlKG1lc3NhZ2U6IFdlYlNvY2tldE1lc3NhZ2UpOiB2b2lkIHtcbiAgICBjb25zdCB7IGNoYW5uZWwsIGRhdGEgfSA9IG1lc3NhZ2U7XG4gICAgXG4gICAgLy8gTm90aWZ5IGhhbmRsZXJzIGZvciB0aGlzIGNoYW5uZWxcbiAgICBpZiAodGhpcy5tZXNzYWdlSGFuZGxlcnMuaGFzKGNoYW5uZWwpKSB7XG4gICAgICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgdGhpcy5tZXNzYWdlSGFuZGxlcnMuZ2V0KGNoYW5uZWwpISkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGhhbmRsZXIoZGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gaGFuZGxlciBmb3IgY2hhbm5lbCAke2NoYW5uZWx9OmAsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTY2hlZHVsZSByZWNvbm5lY3Rpb24gYXR0ZW1wdFxuICAgKi9cbiAgcHJpdmF0ZSBzY2hlZHVsZVJlY29ubmVjdCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5yZWNvbm5lY3RUaW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3RUaW1lb3V0KTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgPj0gdGhpcy5tYXhSZWNvbm5lY3RBdHRlbXB0cykge1xuICAgICAgY29uc29sZS53YXJuKCdNYXhpbXVtIHJlY29ubmVjdCBhdHRlbXB0cyByZWFjaGVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMrKztcbiAgICBcbiAgICAvLyBFeHBvbmVudGlhbCBiYWNrb2ZmIHdpdGggaml0dGVyXG4gICAgY29uc3QgZGVsYXkgPSB0aGlzLnJlY29ubmVjdERlbGF5ICogTWF0aC5wb3coMS41LCB0aGlzLnJlY29ubmVjdEF0dGVtcHRzIC0gMSkgKiAoMC45ICsgTWF0aC5yYW5kb20oKSAqIDAuMik7XG4gICAgXG4gICAgY29uc29sZS5sb2coYFNjaGVkdWxpbmcgcmVjb25uZWN0IGF0dGVtcHQgJHt0aGlzLnJlY29ubmVjdEF0dGVtcHRzfSBpbiAke01hdGgucm91bmQoZGVsYXkpfW1zYCk7XG4gICAgXG4gICAgdGhpcy5yZWNvbm5lY3RUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhgQXR0ZW1wdGluZyB0byByZWNvbm5lY3QgKCR7dGhpcy5yZWNvbm5lY3RBdHRlbXB0c30vJHt0aGlzLm1heFJlY29ubmVjdEF0dGVtcHRzfSkuLi5gKTtcbiAgICAgIHRoaXMuY29ubmVjdCgpO1xuICAgIH0sIGRlbGF5KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBXZWJTb2NrZXRTZXJ2aWNlOyJdLCJuYW1lcyI6WyJXZWJTb2NrZXRTZXJ2aWNlIiwic29ja2V0IiwiY2xpZW50SWQiLCJpc0Nvbm5lY3RlZCIsImlzQXV0aGVudGljYXRlZCIsInRva2VuIiwicmVjb25uZWN0VGltZW91dCIsInJlY29ubmVjdEF0dGVtcHRzIiwibWF4UmVjb25uZWN0QXR0ZW1wdHMiLCJyZWNvbm5lY3REZWxheSIsInBlbmRpbmdTdWJzY3JpcHRpb25zIiwiU2V0IiwibWVzc2FnZUhhbmRsZXJzIiwiTWFwIiwiYXBpVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJ3c1VybCIsInJlcGxhY2UiLCJnZXRJbnN0YW5jZSIsImluc3RhbmNlIiwiY29ubmVjdCIsIlByb21pc2UiLCJyZXNvbHZlIiwiY2xlYXJUaW1lb3V0IiwiV2ViU29ja2V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnNvbGUiLCJsb2ciLCJhdXRoZW50aWNhdGUiLCJldmVudCIsImNvZGUiLCJyZWFzb24iLCJzY2hlZHVsZVJlY29ubmVjdCIsImVycm9yIiwiaGFuZGxlTWVzc2FnZSIsImRhdGEiLCJkaXNjb25uZWN0IiwiY2xvc2UiLCJ0aGVuIiwiY29ubmVjdGVkIiwic2VuZE1lc3NhZ2UiLCJ0eXBlIiwic3Vic2NyaWJlIiwiY2hhbm5lbCIsImhhbmRsZXIiLCJoYXMiLCJzZXQiLCJnZXQiLCJhZGQiLCJ1bnN1YnNjcmliZSIsImRlbGV0ZSIsInNpemUiLCJwcm9jZXNzUGVuZGluZ1N1YnNjcmlwdGlvbnMiLCJjbGVhciIsIm1lc3NhZ2UiLCJ3YXJuIiwic2VuZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYXJzZSIsImhhbmRsZUNvbm5lY3Rpb25NZXNzYWdlIiwiaGFuZGxlQXV0aE1lc3NhZ2UiLCJoYW5kbGVEYXRhTWVzc2FnZSIsInN1Y2Nlc3MiLCJ1c2VySWQiLCJkZWxheSIsIk1hdGgiLCJwb3ciLCJyYW5kb20iLCJyb3VuZCIsInNldFRpbWVvdXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/services/websocketService.ts\n");

/***/ }),

/***/ "./styles/dark-mode-tables.css":
/*!*************************************!*\
  !*** ./styles/dark-mode-tables.css ***!
  \*************************************/
/***/ (() => {



/***/ }),

/***/ "./styles/globals.css":
/*!****************************!*\
  !*** ./styles/globals.css ***!
  \****************************/
/***/ (() => {



/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "next/head":
/*!****************************!*\
  !*** external "next/head" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/head");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc","vendor-chunks/bootstrap"], () => (__webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fleads%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fleads%2F%5Bid%5D.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();